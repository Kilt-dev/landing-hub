{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\Canvas.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useRef, useMemo, useCallback, useState } from 'react';\nimport { useDrop, useDrag } from 'react-dnd';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { toast } from 'react-toastify';\nimport QuickEditToolkit from './QuickEditToolkit';\nimport '../../styles/CreateLanding.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ItemTypes = {\n  SECTION: 'section',\n  ELEMENT: 'element',\n  EXISTING_ELEMENT: 'existingElement'\n};\n\n// Utility functions for positioning and layout\nconst snapToGrid = (value, gridSize = 10) => Math.round(value / gridSize) * gridSize;\nconst calculateDropPosition = (clientOffset, canvasRect, zoomLevel, offset = {\n  x: 0,\n  y: 0\n}) => {\n  if (!clientOffset || !canvasRect) return null;\n  const x = (clientOffset.x - canvasRect.left - offset.x) / (zoomLevel / 100);\n  const y = (clientOffset.y - canvasRect.top - offset.y) / (zoomLevel / 100);\n  return {\n    x: snapToGrid(x),\n    y: snapToGrid(y)\n  };\n};\nconst checkCollision = (newPos, existingElements, currentId = null, threshold = 50) => {\n  for (const element of existingElements) {\n    if (element.id === currentId) continue;\n    const elPos = element.json.styles.position || {\n      x: 0,\n      y: 0\n    };\n    const distance = Math.sqrt(Math.pow(newPos.x - elPos.x, 2) + Math.pow(newPos.y - elPos.y, 2));\n    if (distance < threshold) {\n      return {\n        x: elPos.x + threshold,\n        y: elPos.y + 20\n      };\n    }\n  }\n  return newPos;\n};\nconst Element = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c = _s(({\n  component,\n  index,\n  isSelected,\n  onSelectElement,\n  handleElementHover,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  updatePosition,\n  canvasRef,\n  sectionId,\n  onInlineEdit,\n  pageStructure,\n  zoomLevel\n}) => {\n  var _component$json$style, _component$json$style2;\n  _s();\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [{\n    isDragging\n  }, drag] = useDrag(() => ({\n    type: ItemTypes.EXISTING_ELEMENT,\n    item: () => {\n      var _canvasRef$current, _document$querySelect;\n      const rect = (_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.getBoundingClientRect();\n      const elementRect = (_document$querySelect = document.querySelector(`[data-element-id=\"${component.id}\"]`)) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.getBoundingClientRect();\n      if (rect && elementRect) {\n        setDragOffset({\n          x: elementRect.left - rect.left,\n          y: elementRect.top - rect.top\n        });\n      }\n      return {\n        id: component.id,\n        sectionId,\n        originalPosition: component.json.styles.position || {\n          x: 0,\n          y: 0\n        }\n      };\n    },\n    end: (item, monitor) => {\n      const delta = monitor.getDifferenceFromInitialOffset();\n      const clientOffset = monitor.getClientOffset();\n      if (delta && clientOffset && canvasRef.current) {\n        const rect = canvasRef.current.getBoundingClientRect();\n        const newPosition = calculateDropPosition(clientOffset, rect, zoomLevel, dragOffset);\n        if (newPosition) {\n          const section = pageStructure.find(s => s.id === sectionId);\n          if (section) {\n            const checkedPosition = checkCollision(newPosition, section.elements, component.id);\n            updatePosition(component.id, sectionId, checkedPosition);\n          }\n        }\n      }\n      setDragOffset({\n        x: 0,\n        y: 0\n      });\n    },\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging()\n    })\n  }), [component.id, sectionId, dragOffset, canvasRef, pageStructure, zoomLevel, updatePosition]);\n  const handleMouseDown = e => {\n    e.stopPropagation();\n    onSelectElement(component);\n  };\n  const handleInlineEdit = e => {\n    if (onInlineEdit && e.target.contentEditable === 'true') {\n      onInlineEdit(component.id, sectionId, e.target.innerText);\n    }\n  };\n  const renderContent = () => {\n    var _styles$position, _styles$position2;\n    const {\n      type,\n      content,\n      styles = {},\n      isContainer = false\n    } = component.json;\n\n    // Base styles for all elements\n    const baseStyles = {\n      position: 'absolute',\n      left: ((_styles$position = styles.position) === null || _styles$position === void 0 ? void 0 : _styles$position.x) || 0,\n      top: ((_styles$position2 = styles.position) === null || _styles$position2 === void 0 ? void 0 : _styles$position2.y) || 0,\n      boxSizing: 'border-box',\n      transform: isSelected ? 'translate(-2px, -2px)' : 'none',\n      minWidth: '20px',\n      minHeight: '20px',\n      ...styles\n    };\n\n    // Remove position from styles to avoid duplication\n    const {\n      position,\n      ...cleanStyles\n    } = styles;\n    const containerStyle = {\n      ...baseStyles,\n      ...cleanStyles\n    };\n    if (isContainer) {\n      switch (type) {\n        case 'form':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: containerStyle,\n            className: \"lpb-form-container\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: e => e.preventDefault(),\n              style: {\n                width: '100%'\n              },\n              children: [((content === null || content === void 0 ? void 0 : content.fields) || []).map((field, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: '10px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: field.type || 'text',\n                  placeholder: field.placeholder || `Trường ${idx + 1}`,\n                  style: {\n                    width: '100%',\n                    padding: '8px',\n                    border: '1px solid #ddd',\n                    borderRadius: '4px',\n                    ...field.style\n                  },\n                  onMouseDown: e => e.stopPropagation()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 45\n                }, this)\n              }, field.id || idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 41\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                style: {\n                  padding: '10px 20px',\n                  backgroundColor: '#007bff',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  ...cleanStyles\n                },\n                onMouseDown: e => e.stopPropagation(),\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this);\n        case 'button-group':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: containerStyle,\n            className: \"lpb-button-group-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px',\n                flexWrap: 'wrap'\n              },\n              children: (content || []).map((btn, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  padding: '8px 16px',\n                  backgroundColor: '#007bff',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  ...btn.style,\n                  ...cleanStyles\n                },\n                onMouseDown: e => e.stopPropagation(),\n                children: btn.label || btn || `Nút ${idx + 1}`\n              }, btn.id || idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 29\n          }, this);\n        case 'gallery':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: containerStyle,\n            className: \"lpb-gallery-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px',\n                flexWrap: 'wrap'\n              },\n              children: (content || []).map((img, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n                src: img.src || 'https://via.placeholder.com/150x100',\n                alt: img.alt || `Gallery ${idx}`,\n                style: {\n                  width: '150px',\n                  height: '100px',\n                  objectFit: 'cover',\n                  borderRadius: '4px',\n                  ...img.style\n                }\n              }, img.id || idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 29\n          }, this);\n        case 'card':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...containerStyle,\n              padding: '20px',\n              border: '1px solid #e0e0e0',\n              borderRadius: '8px',\n              backgroundColor: '#fff',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n              textAlign: 'center'\n            },\n            className: \"lpb-card-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: (content === null || content === void 0 ? void 0 : content.icon) || 'fas fa-star',\n              style: {\n                fontSize: '32px',\n                color: '#4a90e2',\n                marginBottom: '10px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: '10px 0',\n                fontSize: '18px',\n                fontWeight: 'bold'\n              },\n              children: (content === null || content === void 0 ? void 0 : content.title) || 'Card Title'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: '0',\n                color: '#666',\n                fontSize: '14px'\n              },\n              children: (content === null || content === void 0 ? void 0 : content.description) || 'Card description'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 29\n          }, this);\n        default:\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: containerStyle,\n            className: \"lpb-unknown-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '20px',\n                border: '2px dashed #ccc',\n                borderRadius: '8px',\n                textAlign: 'center',\n                color: '#666'\n              },\n              children: component.name || 'Unknown Component'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 29\n          }, this);\n      }\n    }\n\n    // Single elements\n    switch (type) {\n      case 'heading':\n        return /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            ...containerStyle,\n            fontSize: '24px',\n            fontWeight: 'bold',\n            margin: '0',\n            padding: '10px',\n            minHeight: 'auto'\n          },\n          contentEditable: true,\n          suppressContentEditableWarning: true,\n          onBlur: handleInlineEdit,\n          onMouseDown: e => e.stopPropagation(),\n          children: content || 'Tiêu đề mới'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 25\n        }, this);\n      case 'paragraph':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            ...containerStyle,\n            fontSize: '16px',\n            lineHeight: '1.6',\n            margin: '0',\n            padding: '10px',\n            minHeight: 'auto'\n          },\n          contentEditable: true,\n          suppressContentEditableWarning: true,\n          onBlur: handleInlineEdit,\n          onMouseDown: e => e.stopPropagation(),\n          children: content || 'Văn bản mới'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 25\n        }, this);\n      case 'button':\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            ...containerStyle,\n            padding: '12px 24px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            fontSize: '16px',\n            cursor: 'pointer',\n            minWidth: '100px'\n          },\n          contentEditable: true,\n          suppressContentEditableWarning: true,\n          onBlur: handleInlineEdit,\n          onMouseDown: e => e.stopPropagation(),\n          children: content || 'Nút mới'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 25\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: content || 'https://via.placeholder.com/200x150',\n          alt: \"Image\",\n          style: {\n            ...containerStyle,\n            maxWidth: '100%',\n            height: 'auto',\n            borderRadius: '4px',\n            objectFit: 'cover'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 25\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...containerStyle,\n            padding: '15px',\n            border: '2px dashed #ccc',\n            borderRadius: '6px',\n            backgroundColor: '#f8f9fa',\n            textAlign: 'center',\n            color: '#666'\n          },\n          children: component.name || 'Unknown Element'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 25\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: drag,\n    \"data-element-id\": component.id,\n    className: `lpb-canvas-element ${isSelected ? 'lpb-canvas-element-selected' : ''} ${isDragging ? 'lpb-canvas-element-dragging' : ''}`,\n    onMouseEnter: e => handleElementHover(e, component),\n    onMouseDown: handleMouseDown,\n    style: {\n      position: 'absolute',\n      left: ((_component$json$style = component.json.styles.position) === null || _component$json$style === void 0 ? void 0 : _component$json$style.x) || 0,\n      top: ((_component$json$style2 = component.json.styles.position) === null || _component$json$style2 === void 0 ? void 0 : _component$json$style2.y) || 0,\n      zIndex: isSelected ? 10 : isDragging ? 15 : 1,\n      cursor: isDragging ? 'grabbing' : 'grab',\n      opacity: isDragging ? 0.8 : 1,\n      pointerEvents: isDragging ? 'none' : 'auto'\n    },\n    children: renderContent()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 354,\n    columnNumber: 13\n  }, this);\n}, \"/JJanKHpR1Gly/mUj93NXF5FnRY=\", false, function () {\n  return [useDrag];\n})), \"/JJanKHpR1Gly/mUj93NXF5FnRY=\", false, function () {\n  return [useDrag];\n});\n_c2 = Element;\nconst Section = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c3 = _s2(({\n  section,\n  index,\n  selectedElement,\n  onSelectElement,\n  handleElementHover,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  updatePosition,\n  addElement,\n  canvasRef,\n  moveElement,\n  onInlineEdit,\n  onSelectSection,\n  viewMode,\n  pageStructure,\n  zoomLevel\n}) => {\n  var _section$json$styles, _section$json$styles2, _section$json$styles3, _section$json$content, _section$json$content2;\n  _s2();\n  const [draggedOverIndex, setDraggedOverIndex] = useState(null);\n  const [{\n    isOver,\n    canDrop\n  }, drop] = useDrop(() => ({\n    accept: [ItemTypes.ELEMENT, ItemTypes.EXISTING_ELEMENT],\n    hover: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      if (clientOffset && canvasRef.current) {\n        var _document$querySelect2;\n        const rect = canvasRef.current.getBoundingClientRect();\n        const sectionRect = (_document$querySelect2 = document.querySelector(`[data-section-id=\"${section.id}\"]`)) === null || _document$querySelect2 === void 0 ? void 0 : _document$querySelect2.getBoundingClientRect();\n        if (sectionRect) {\n          const relativeY = clientOffset.y - sectionRect.top;\n          const elementHeight = 80; // Estimated element height\n          const newIndex = Math.max(0, Math.floor(relativeY / elementHeight));\n          setDraggedOverIndex(newIndex);\n        }\n\n        // Store drop position for new elements\n        item.dropPosition = calculateDropPosition(clientOffset, rect, zoomLevel, {\n          x: 0,\n          y: 60\n        } // Offset for section header\n        );\n      }\n    },\n    drop: (item, monitor) => {\n      var _pageStructure$find;\n      const clientOffset = monitor.getClientOffset();\n      if (!clientOffset || !canvasRef.current) {\n        toast.error('Không thể xác định vị trí thả!');\n        return;\n      }\n      const rect = canvasRef.current.getBoundingClientRect();\n      const dropPosition = calculateDropPosition(clientOffset, rect, zoomLevel, {\n        x: 0,\n        y: 60\n      });\n      if (!dropPosition) return;\n\n      // Check for collisions and adjust position\n      const sectionElements = ((_pageStructure$find = pageStructure.find(s => s.id === section.id)) === null || _pageStructure$find === void 0 ? void 0 : _pageStructure$find.elements) || [];\n      const finalPosition = checkCollision(dropPosition, sectionElements, item.id);\n      if (item.componentData) {\n        var _item$componentData$j, _item$componentData$j2;\n        // Adding new element\n        const elementData = {\n          ...item.componentData,\n          json: {\n            ...item.componentData.json,\n            styles: {\n              ...item.componentData.json.styles,\n              position: finalPosition,\n              width: ((_item$componentData$j = item.componentData.json.styles) === null || _item$componentData$j === void 0 ? void 0 : _item$componentData$j.width) || 'auto',\n              height: ((_item$componentData$j2 = item.componentData.json.styles) === null || _item$componentData$j2 === void 0 ? void 0 : _item$componentData$j2.height) || 'auto'\n            }\n          }\n        };\n        const insertIndex = draggedOverIndex !== null ? draggedOverIndex : section.elements.length;\n        addElement(section.id, elementData, insertIndex);\n      } else {\n        // Moving existing element\n        updatePosition(item.id, section.id, finalPosition);\n        if (item.sectionId !== section.id) {\n          moveElement(section.id, item.id, draggedOverIndex || section.elements.length);\n        }\n      }\n      setDraggedOverIndex(null);\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  }), [section.id, draggedOverIndex, canvasRef, zoomLevel, pageStructure, addElement, updatePosition, moveElement]);\n  const handleSectionClick = e => {\n    e.stopPropagation();\n    onSelectSection(section);\n  };\n  const sectionStyles = {\n    width: ((_section$json$styles = section.json.styles) === null || _section$json$styles === void 0 ? void 0 : _section$json$styles.width) || '1200px',\n    height: ((_section$json$styles2 = section.json.styles) === null || _section$json$styles2 === void 0 ? void 0 : _section$json$styles2.height) || 'auto',\n    minHeight: '200px',\n    position: 'relative',\n    margin: '0 auto 20px auto',\n    border: isOver && canDrop ? '2px solid #007bff' : '1px solid #e0e0e0',\n    borderRadius: '8px',\n    padding: '20px',\n    boxSizing: 'border-box',\n    backgroundColor: ((_section$json$styles3 = section.json.styles) === null || _section$json$styles3 === void 0 ? void 0 : _section$json$styles3.backgroundColor) || '#ffffff',\n    boxShadow: (selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === section.id ? '0 0 0 2px #007bff' : 'none',\n    transition: 'all 0.2s ease'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: drop,\n    \"data-section-id\": section.id,\n    className: `lpb-canvas-section ${isOver ? 'lpb-canvas-section-over' : ''} ${(selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === section.id ? 'lpb-canvas-section-selected' : ''}`,\n    style: sectionStyles,\n    onMouseDown: handleSectionClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lpb-section-header\",\n      style: {\n        marginBottom: '20px',\n        paddingBottom: '10px',\n        borderBottom: '1px solid #f0f0f0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: '0',\n          fontSize: '18px',\n          fontWeight: 'bold',\n          color: '#333'\n        },\n        children: ((_section$json$content = section.json.content) === null || _section$json$content === void 0 ? void 0 : _section$json$content.title) || `Section ${index + 1}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 21\n      }, this), ((_section$json$content2 = section.json.content) === null || _section$json$content2 === void 0 ? void 0 : _section$json$content2.subtitle) && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '5px 0 0 0',\n          fontSize: '14px',\n          color: '#666'\n        },\n        children: section.json.content.subtitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lpb-canvas-section-content\",\n      style: {\n        position: 'relative',\n        minHeight: '100px'\n      },\n      children: [section.elements.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          color: '#999',\n          fontSize: '14px',\n          textAlign: 'center'\n        },\n        children: \"K\\xE9o th\\u1EA3 element v\\xE0o \\u0111\\xE2y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 25\n      }, this), section.elements.map((element, idx) => /*#__PURE__*/_jsxDEV(Element, {\n        component: element,\n        index: idx,\n        isSelected: (selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === element.id,\n        onSelectElement: onSelectElement,\n        handleElementHover: handleElementHover,\n        onDuplicateElement: onDuplicateElement,\n        onDeleteElement: onDeleteElement,\n        onMoveElement: onMoveElement,\n        updatePosition: updatePosition,\n        canvasRef: canvasRef,\n        sectionId: section.id,\n        onInlineEdit: onInlineEdit,\n        pageStructure: pageStructure,\n        zoomLevel: zoomLevel\n      }, element.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 25\n      }, this)), isOver && draggedOverIndex !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: draggedOverIndex * 80 + 'px',\n          left: '0',\n          right: '0',\n          height: '2px',\n          backgroundColor: '#007bff',\n          zIndex: 100\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 479,\n    columnNumber: 13\n  }, this);\n}, \"JVnSV4Ca3jw7RyIt6+hgP/yJHIc=\", false, function () {\n  return [useDrop];\n})), \"JVnSV4Ca3jw7RyIt6+hgP/yJHIc=\", false, function () {\n  return [useDrop];\n});\n_c4 = Section;\nconst Canvas = /*#__PURE__*/_s3(/*#__PURE__*/React.memo(_c5 = _s3(({\n  pageStructure,\n  selectedElement,\n  onSelectElement,\n  quickEditElement,\n  quickEditPosition,\n  onQuickEdit,\n  onCloseQuickEdit,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  viewMode,\n  addSection,\n  addElement,\n  moveElement,\n  ItemTypes,\n  zoomLevel,\n  setPageStructure,\n  updatePosition,\n  onInlineEdit\n}) => {\n  _s3();\n  const canvasRef = useRef(null);\n  const [dropIndex, setDropIndex] = useState(null);\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: [ItemTypes.SECTION],\n    hover: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      if (clientOffset && canvasRef.current) {\n        const rect = canvasRef.current.getBoundingClientRect();\n        const y = clientOffset.y - rect.top;\n        const sectionHeight = 220; // Estimated section height including margin\n        const index = Math.min(pageStructure.length, Math.floor(y / sectionHeight));\n        setDropIndex(index);\n      }\n    },\n    drop: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      if (!clientOffset || !canvasRef.current) {\n        toast.error('Không thể xác định vị trí thả section!');\n        return;\n      }\n      const rect = canvasRef.current.getBoundingClientRect();\n      const y = clientOffset.y - rect.top;\n      const sectionHeight = 220;\n      const index = Math.min(pageStructure.length, Math.floor(y / sectionHeight));\n      const sectionData = {\n        ...item.componentData,\n        json: {\n          ...item.componentData.json,\n          styles: {\n            ...item.componentData.json.styles,\n            width: '1200px',\n            height: 'auto'\n          }\n        }\n      };\n      addSection(sectionData, index);\n      setDropIndex(null);\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }), [pageStructure.length, addSection]);\n  const handleElementHover = useCallback((e, component) => {\n    var _canvasRef$current2;\n    if ((quickEditElement === null || quickEditElement === void 0 ? void 0 : quickEditElement.id) === component.id) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const canvasRect = ((_canvasRef$current2 = canvasRef.current) === null || _canvasRef$current2 === void 0 ? void 0 : _canvasRef$current2.getBoundingClientRect()) || {\n      left: 0,\n      top: 0\n    };\n    onQuickEdit(component, {\n      x: (rect.left - canvasRect.left) / (zoomLevel / 100),\n      y: (rect.top - canvasRect.top + 20) / (zoomLevel / 100)\n    });\n  }, [quickEditElement, onQuickEdit, zoomLevel]);\n  const handleSelectSection = useCallback(section => {\n    onSelectElement(section);\n  }, [onSelectElement]);\n  useHotkeys('delete', () => {\n    if (selectedElement) {\n      onDeleteElement(selectedElement);\n    }\n  }, [selectedElement, onDeleteElement]);\n\n  // Canvas styles based on view mode\n  const canvasStyles = {\n    desktop: {\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    tablet: {\n      maxWidth: '768px',\n      margin: '0 auto'\n    },\n    mobile: {\n      maxWidth: '375px',\n      margin: '0 auto'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lpb-canvas-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: node => {\n        canvasRef.current = node;\n        drop(node);\n      },\n      className: `lpb-canvas lpb-canvas-${viewMode}`,\n      onMouseLeave: onCloseQuickEdit,\n      style: {\n        zoom: `${zoomLevel / 100}`,\n        position: 'relative',\n        minHeight: '100vh',\n        backgroundColor: '#f8f9fa',\n        padding: '20px',\n        ...canvasStyles[viewMode]\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lpb-canvas-content\",\n        children: pageStructure.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lpb-canvas-empty-state\",\n          style: {\n            textAlign: 'center',\n            padding: '60px 20px',\n            color: '#666',\n            border: '2px dashed #ccc',\n            borderRadius: '12px',\n            backgroundColor: '#fff'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-layer-group\",\n            style: {\n              fontSize: '48px',\n              marginBottom: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: '0 0 10px 0',\n              fontSize: '18px'\n            },\n            children: \"B\\u1EAFt \\u0111\\u1EA7u t\\u1EA1o trang c\\u1EE7a b\\u1EA1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '0',\n              fontSize: '14px'\n            },\n            children: \"K\\xE9o th\\u1EA3 section t\\u1EEB th\\u01B0 vi\\u1EC7n \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [pageStructure.map((section, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [dropIndex === index && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lpb-canvas-drop-zone\",\n              style: {\n                height: '60px',\n                background: 'rgba(0, 123, 255, 0.1)',\n                border: '2px dashed #007bff',\n                borderRadius: '8px',\n                margin: '10px auto',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                color: '#007bff',\n                fontSize: '14px',\n                fontWeight: 'bold'\n              },\n              children: \"Th\\u1EA3 section \\u1EDF \\u0111\\xE2y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(Section, {\n              section: section,\n              index: index,\n              selectedElement: selectedElement,\n              onSelectElement: onSelectElement,\n              handleElementHover: handleElementHover,\n              onDuplicateElement: onDuplicateElement,\n              onDeleteElement: onDeleteElement,\n              onMoveElement: onMoveElement,\n              updatePosition: updatePosition,\n              addElement: addElement,\n              canvasRef: canvasRef,\n              moveElement: moveElement,\n              onInlineEdit: onInlineEdit,\n              onSelectSection: handleSelectSection,\n              viewMode: viewMode,\n              pageStructure: pageStructure,\n              zoomLevel: zoomLevel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 729,\n              columnNumber: 41\n            }, this)]\n          }, section.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 37\n          }, this)), dropIndex === pageStructure.length && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lpb-canvas-drop-zone\",\n            style: {\n              height: '60px',\n              background: 'rgba(0, 123, 255, 0.1)',\n              border: '2px dashed #007bff',\n              borderRadius: '8px',\n              margin: '10px auto',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              color: '#007bff',\n              fontSize: '14px',\n              fontWeight: 'bold'\n            },\n            children: \"Th\\u1EA3 section \\u1EDF \\u0111\\xE2y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(QuickEditToolkit, {\n        element: quickEditElement,\n        position: quickEditPosition,\n        onEdit: () => onSelectElement(quickEditElement),\n        onDuplicate: () => onDuplicateElement(quickEditElement),\n        onDelete: () => onDeleteElement(quickEditElement),\n        onMoveUp: () => onMoveElement(quickEditElement, 'up'),\n        onMoveDown: () => onMoveElement(quickEditElement, 'down'),\n        onClose: onCloseQuickEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 773,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 674,\n    columnNumber: 13\n  }, this);\n}, \"scAB/rDIK+1X1cBUTb+EobmliG0=\", false, function () {\n  return [useDrop, useHotkeys];\n})), \"scAB/rDIK+1X1cBUTb+EobmliG0=\", false, function () {\n  return [useDrop, useHotkeys];\n});\n_c6 = Canvas;\nexport default Canvas;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Element$React.memo\");\n$RefreshReg$(_c2, \"Element\");\n$RefreshReg$(_c3, \"Section$React.memo\");\n$RefreshReg$(_c4, \"Section\");\n$RefreshReg$(_c5, \"Canvas$React.memo\");\n$RefreshReg$(_c6, \"Canvas\");","map":{"version":3,"names":["React","useRef","useMemo","useCallback","useState","useDrop","useDrag","useHotkeys","toast","QuickEditToolkit","jsxDEV","_jsxDEV","Fragment","_Fragment","ItemTypes","SECTION","ELEMENT","EXISTING_ELEMENT","snapToGrid","value","gridSize","Math","round","calculateDropPosition","clientOffset","canvasRect","zoomLevel","offset","x","y","left","top","checkCollision","newPos","existingElements","currentId","threshold","element","id","elPos","json","styles","position","distance","sqrt","pow","Element","_s","memo","_c","component","index","isSelected","onSelectElement","handleElementHover","onDuplicateElement","onDeleteElement","onMoveElement","updatePosition","canvasRef","sectionId","onInlineEdit","pageStructure","_component$json$style","_component$json$style2","dragOffset","setDragOffset","isDragging","drag","type","item","_canvasRef$current","_document$querySelect","rect","current","getBoundingClientRect","elementRect","document","querySelector","originalPosition","end","monitor","delta","getDifferenceFromInitialOffset","getClientOffset","newPosition","section","find","s","checkedPosition","elements","collect","handleMouseDown","e","stopPropagation","handleInlineEdit","target","contentEditable","innerText","renderContent","_styles$position","_styles$position2","content","isContainer","baseStyles","boxSizing","transform","minWidth","minHeight","cleanStyles","containerStyle","style","className","children","onSubmit","preventDefault","width","fields","map","field","idx","marginBottom","placeholder","padding","border","borderRadius","onMouseDown","fileName","_jsxFileName","lineNumber","columnNumber","backgroundColor","color","cursor","display","gap","flexWrap","btn","label","img","src","alt","height","objectFit","boxShadow","textAlign","icon","fontSize","margin","fontWeight","title","description","name","suppressContentEditableWarning","onBlur","lineHeight","maxWidth","ref","onMouseEnter","zIndex","opacity","pointerEvents","_c2","Section","_s2","_c3","selectedElement","addElement","moveElement","onSelectSection","viewMode","_section$json$styles","_section$json$styles2","_section$json$styles3","_section$json$content","_section$json$content2","draggedOverIndex","setDraggedOverIndex","isOver","canDrop","drop","accept","hover","_document$querySelect2","sectionRect","relativeY","elementHeight","newIndex","max","floor","dropPosition","_pageStructure$find","error","sectionElements","finalPosition","componentData","_item$componentData$j","_item$componentData$j2","elementData","insertIndex","length","handleSectionClick","sectionStyles","transition","paddingBottom","borderBottom","subtitle","right","_c4","Canvas","_s3","_c5","quickEditElement","quickEditPosition","onQuickEdit","onCloseQuickEdit","addSection","setPageStructure","dropIndex","setDropIndex","sectionHeight","min","sectionData","_canvasRef$current2","currentTarget","handleSelectSection","canvasStyles","desktop","tablet","mobile","node","onMouseLeave","zoom","background","alignItems","justifyContent","onEdit","onDuplicate","onDelete","onMoveUp","onMoveDown","onClose","_c6","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/Canvas.js"],"sourcesContent":["import React, { useRef, useMemo, useCallback, useState } from 'react';\r\nimport { useDrop, useDrag } from 'react-dnd';\r\nimport { useHotkeys } from 'react-hotkeys-hook';\r\nimport { toast } from 'react-toastify';\r\nimport QuickEditToolkit from './QuickEditToolkit';\r\nimport '../../styles/CreateLanding.css';\r\n\r\nconst ItemTypes = {\r\n    SECTION: 'section',\r\n    ELEMENT: 'element',\r\n    EXISTING_ELEMENT: 'existingElement',\r\n};\r\n\r\n// Utility functions for positioning and layout\r\nconst snapToGrid = (value, gridSize = 10) => Math.round(value / gridSize) * gridSize;\r\n\r\nconst calculateDropPosition = (clientOffset, canvasRect, zoomLevel, offset = { x: 0, y: 0 }) => {\r\n    if (!clientOffset || !canvasRect) return null;\r\n\r\n    const x = (clientOffset.x - canvasRect.left - offset.x) / (zoomLevel / 100);\r\n    const y = (clientOffset.y - canvasRect.top - offset.y) / (zoomLevel / 100);\r\n\r\n    return {\r\n        x: snapToGrid(x),\r\n        y: snapToGrid(y)\r\n    };\r\n};\r\n\r\nconst checkCollision = (newPos, existingElements, currentId = null, threshold = 50) => {\r\n    for (const element of existingElements) {\r\n        if (element.id === currentId) continue;\r\n\r\n        const elPos = element.json.styles.position || { x: 0, y: 0 };\r\n        const distance = Math.sqrt(\r\n            Math.pow(newPos.x - elPos.x, 2) + Math.pow(newPos.y - elPos.y, 2)\r\n        );\r\n\r\n        if (distance < threshold) {\r\n            return {\r\n                x: elPos.x + threshold,\r\n                y: elPos.y + 20\r\n            };\r\n        }\r\n    }\r\n    return newPos;\r\n};\r\n\r\nconst Element = React.memo(\r\n    ({ component, index, isSelected, onSelectElement, handleElementHover, onDuplicateElement, onDeleteElement, onMoveElement, updatePosition, canvasRef, sectionId, onInlineEdit, pageStructure, zoomLevel }) => {\r\n        const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\r\n\r\n        const [{ isDragging }, drag] = useDrag(() => ({\r\n            type: ItemTypes.EXISTING_ELEMENT,\r\n            item: () => {\r\n                const rect = canvasRef.current?.getBoundingClientRect();\r\n                const elementRect = document.querySelector(`[data-element-id=\"${component.id}\"]`)?.getBoundingClientRect();\r\n\r\n                if (rect && elementRect) {\r\n                    setDragOffset({\r\n                        x: elementRect.left - rect.left,\r\n                        y: elementRect.top - rect.top\r\n                    });\r\n                }\r\n\r\n                return {\r\n                    id: component.id,\r\n                    sectionId,\r\n                    originalPosition: component.json.styles.position || { x: 0, y: 0 }\r\n                };\r\n            },\r\n            end: (item, monitor) => {\r\n                const delta = monitor.getDifferenceFromInitialOffset();\r\n                const clientOffset = monitor.getClientOffset();\r\n\r\n                if (delta && clientOffset && canvasRef.current) {\r\n                    const rect = canvasRef.current.getBoundingClientRect();\r\n                    const newPosition = calculateDropPosition(clientOffset, rect, zoomLevel, dragOffset);\r\n\r\n                    if (newPosition) {\r\n                        const section = pageStructure.find(s => s.id === sectionId);\r\n                        if (section) {\r\n                            const checkedPosition = checkCollision(\r\n                                newPosition,\r\n                                section.elements,\r\n                                component.id\r\n                            );\r\n                            updatePosition(component.id, sectionId, checkedPosition);\r\n                        }\r\n                    }\r\n                }\r\n                setDragOffset({ x: 0, y: 0 });\r\n            },\r\n            collect: (monitor) => ({\r\n                isDragging: !!monitor.isDragging(),\r\n            }),\r\n        }), [component.id, sectionId, dragOffset, canvasRef, pageStructure, zoomLevel, updatePosition]);\r\n\r\n        const handleMouseDown = (e) => {\r\n            e.stopPropagation();\r\n            onSelectElement(component);\r\n        };\r\n\r\n        const handleInlineEdit = (e) => {\r\n            if (onInlineEdit && e.target.contentEditable === 'true') {\r\n                onInlineEdit(component.id, sectionId, e.target.innerText);\r\n            }\r\n        };\r\n\r\n        const renderContent = () => {\r\n            const { type, content, styles = {}, isContainer = false } = component.json;\r\n\r\n            // Base styles for all elements\r\n            const baseStyles = {\r\n                position: 'absolute',\r\n                left: styles.position?.x || 0,\r\n                top: styles.position?.y || 0,\r\n                boxSizing: 'border-box',\r\n                transform: isSelected ? 'translate(-2px, -2px)' : 'none',\r\n                minWidth: '20px',\r\n                minHeight: '20px',\r\n                ...styles\r\n            };\r\n\r\n            // Remove position from styles to avoid duplication\r\n            const { position, ...cleanStyles } = styles;\r\n            const containerStyle = { ...baseStyles, ...cleanStyles };\r\n\r\n            if (isContainer) {\r\n                switch (type) {\r\n                    case 'form':\r\n                        return (\r\n                            <div style={containerStyle} className=\"lpb-form-container\">\r\n                                <form onSubmit={(e) => e.preventDefault()} style={{ width: '100%' }}>\r\n                                    {(content?.fields || []).map((field, idx) => (\r\n                                        <div key={field.id || idx} style={{ marginBottom: '10px' }}>\r\n                                            <input\r\n                                                type={field.type || 'text'}\r\n                                                placeholder={field.placeholder || `Trường ${idx + 1}`}\r\n                                                style={{\r\n                                                    width: '100%',\r\n                                                    padding: '8px',\r\n                                                    border: '1px solid #ddd',\r\n                                                    borderRadius: '4px',\r\n                                                    ...field.style\r\n                                                }}\r\n                                                onMouseDown={(e) => e.stopPropagation()}\r\n                                            />\r\n                                        </div>\r\n                                    ))}\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        style={{\r\n                                            padding: '10px 20px',\r\n                                            backgroundColor: '#007bff',\r\n                                            color: 'white',\r\n                                            border: 'none',\r\n                                            borderRadius: '4px',\r\n                                            cursor: 'pointer',\r\n                                            ...cleanStyles\r\n                                        }}\r\n                                        onMouseDown={(e) => e.stopPropagation()}\r\n                                    >\r\n                                        Submit\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                        );\r\n\r\n                    case 'button-group':\r\n                        return (\r\n                            <div style={containerStyle} className=\"lpb-button-group-container\">\r\n                                <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\r\n                                    {(content || []).map((btn, idx) => (\r\n                                        <button\r\n                                            key={btn.id || idx}\r\n                                            style={{\r\n                                                padding: '8px 16px',\r\n                                                backgroundColor: '#007bff',\r\n                                                color: 'white',\r\n                                                border: 'none',\r\n                                                borderRadius: '4px',\r\n                                                cursor: 'pointer',\r\n                                                ...btn.style,\r\n                                                ...cleanStyles\r\n                                            }}\r\n                                            onMouseDown={(e) => e.stopPropagation()}\r\n                                        >\r\n                                            {btn.label || btn || `Nút ${idx + 1}`}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n\r\n                    case 'gallery':\r\n                        return (\r\n                            <div style={containerStyle} className=\"lpb-gallery-container\">\r\n                                <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\r\n                                    {(content || []).map((img, idx) => (\r\n                                        <img\r\n                                            key={img.id || idx}\r\n                                            src={img.src || 'https://via.placeholder.com/150x100'}\r\n                                            alt={img.alt || `Gallery ${idx}`}\r\n                                            style={{\r\n                                                width: '150px',\r\n                                                height: '100px',\r\n                                                objectFit: 'cover',\r\n                                                borderRadius: '4px',\r\n                                                ...img.style\r\n                                            }}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n\r\n                    case 'card':\r\n                        return (\r\n                            <div style={{\r\n                                ...containerStyle,\r\n                                padding: '20px',\r\n                                border: '1px solid #e0e0e0',\r\n                                borderRadius: '8px',\r\n                                backgroundColor: '#fff',\r\n                                boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\r\n                                textAlign: 'center'\r\n                            }} className=\"lpb-card-container\">\r\n                                <i className={content?.icon || 'fas fa-star'}\r\n                                   style={{ fontSize: '32px', color: '#4a90e2', marginBottom: '10px' }} />\r\n                                <h3 style={{ margin: '10px 0', fontSize: '18px', fontWeight: 'bold' }}>\r\n                                    {content?.title || 'Card Title'}\r\n                                </h3>\r\n                                <p style={{ margin: '0', color: '#666', fontSize: '14px' }}>\r\n                                    {content?.description || 'Card description'}\r\n                                </p>\r\n                            </div>\r\n                        );\r\n\r\n                    default:\r\n                        return (\r\n                            <div style={containerStyle} className=\"lpb-unknown-container\">\r\n                                <div style={{\r\n                                    padding: '20px',\r\n                                    border: '2px dashed #ccc',\r\n                                    borderRadius: '8px',\r\n                                    textAlign: 'center',\r\n                                    color: '#666'\r\n                                }}>\r\n                                    {component.name || 'Unknown Component'}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                }\r\n            }\r\n\r\n            // Single elements\r\n            switch (type) {\r\n                case 'heading':\r\n                    return (\r\n                        <h2\r\n                            style={{\r\n                                ...containerStyle,\r\n                                fontSize: '24px',\r\n                                fontWeight: 'bold',\r\n                                margin: '0',\r\n                                padding: '10px',\r\n                                minHeight: 'auto'\r\n                            }}\r\n                            contentEditable\r\n                            suppressContentEditableWarning\r\n                            onBlur={handleInlineEdit}\r\n                            onMouseDown={(e) => e.stopPropagation()}\r\n                        >\r\n                            {content || 'Tiêu đề mới'}\r\n                        </h2>\r\n                    );\r\n\r\n                case 'paragraph':\r\n                    return (\r\n                        <p\r\n                            style={{\r\n                                ...containerStyle,\r\n                                fontSize: '16px',\r\n                                lineHeight: '1.6',\r\n                                margin: '0',\r\n                                padding: '10px',\r\n                                minHeight: 'auto'\r\n                            }}\r\n                            contentEditable\r\n                            suppressContentEditableWarning\r\n                            onBlur={handleInlineEdit}\r\n                            onMouseDown={(e) => e.stopPropagation()}\r\n                        >\r\n                            {content || 'Văn bản mới'}\r\n                        </p>\r\n                    );\r\n\r\n                case 'button':\r\n                    return (\r\n                        <button\r\n                            style={{\r\n                                ...containerStyle,\r\n                                padding: '12px 24px',\r\n                                backgroundColor: '#007bff',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '6px',\r\n                                fontSize: '16px',\r\n                                cursor: 'pointer',\r\n                                minWidth: '100px'\r\n                            }}\r\n                            contentEditable\r\n                            suppressContentEditableWarning\r\n                            onBlur={handleInlineEdit}\r\n                            onMouseDown={(e) => e.stopPropagation()}\r\n                        >\r\n                            {content || 'Nút mới'}\r\n                        </button>\r\n                    );\r\n\r\n                case 'image':\r\n                    return (\r\n                        <img\r\n                            src={content || 'https://via.placeholder.com/200x150'}\r\n                            alt=\"Image\"\r\n                            style={{\r\n                                ...containerStyle,\r\n                                maxWidth: '100%',\r\n                                height: 'auto',\r\n                                borderRadius: '4px',\r\n                                objectFit: 'cover'\r\n                            }}\r\n                        />\r\n                    );\r\n\r\n                default:\r\n                    return (\r\n                        <div style={{\r\n                            ...containerStyle,\r\n                            padding: '15px',\r\n                            border: '2px dashed #ccc',\r\n                            borderRadius: '6px',\r\n                            backgroundColor: '#f8f9fa',\r\n                            textAlign: 'center',\r\n                            color: '#666'\r\n                        }}>\r\n                            {component.name || 'Unknown Element'}\r\n                        </div>\r\n                    );\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div\r\n                ref={drag}\r\n                data-element-id={component.id}\r\n                className={`lpb-canvas-element ${isSelected ? 'lpb-canvas-element-selected' : ''} ${isDragging ? 'lpb-canvas-element-dragging' : ''}`}\r\n                onMouseEnter={(e) => handleElementHover(e, component)}\r\n                onMouseDown={handleMouseDown}\r\n                style={{\r\n                    position: 'absolute',\r\n                    left: component.json.styles.position?.x || 0,\r\n                    top: component.json.styles.position?.y || 0,\r\n                    zIndex: isSelected ? 10 : isDragging ? 15 : 1,\r\n                    cursor: isDragging ? 'grabbing' : 'grab',\r\n                    opacity: isDragging ? 0.8 : 1,\r\n                    pointerEvents: isDragging ? 'none' : 'auto'\r\n                }}\r\n            >\r\n                {renderContent()}\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nconst Section = React.memo(\r\n    ({ section, index, selectedElement, onSelectElement, handleElementHover, onDuplicateElement, onDeleteElement, onMoveElement, updatePosition, addElement, canvasRef, moveElement, onInlineEdit, onSelectSection, viewMode, pageStructure, zoomLevel }) => {\r\n        const [draggedOverIndex, setDraggedOverIndex] = useState(null);\r\n\r\n        const [{ isOver, canDrop }, drop] = useDrop(() => ({\r\n            accept: [ItemTypes.ELEMENT, ItemTypes.EXISTING_ELEMENT],\r\n            hover: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                if (clientOffset && canvasRef.current) {\r\n                    const rect = canvasRef.current.getBoundingClientRect();\r\n                    const sectionRect = document.querySelector(`[data-section-id=\"${section.id}\"]`)?.getBoundingClientRect();\r\n\r\n                    if (sectionRect) {\r\n                        const relativeY = clientOffset.y - sectionRect.top;\r\n                        const elementHeight = 80; // Estimated element height\r\n                        const newIndex = Math.max(0, Math.floor(relativeY / elementHeight));\r\n                        setDraggedOverIndex(newIndex);\r\n                    }\r\n\r\n                    // Store drop position for new elements\r\n                    item.dropPosition = calculateDropPosition(\r\n                        clientOffset,\r\n                        rect,\r\n                        zoomLevel,\r\n                        { x: 0, y: 60 } // Offset for section header\r\n                    );\r\n                }\r\n            },\r\n            drop: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                if (!clientOffset || !canvasRef.current) {\r\n                    toast.error('Không thể xác định vị trí thả!');\r\n                    return;\r\n                }\r\n\r\n                const rect = canvasRef.current.getBoundingClientRect();\r\n                const dropPosition = calculateDropPosition(\r\n                    clientOffset,\r\n                    rect,\r\n                    zoomLevel,\r\n                    { x: 0, y: 60 }\r\n                );\r\n\r\n                if (!dropPosition) return;\r\n\r\n                // Check for collisions and adjust position\r\n                const sectionElements = pageStructure.find(s => s.id === section.id)?.elements || [];\r\n                const finalPosition = checkCollision(dropPosition, sectionElements, item.id);\r\n\r\n                if (item.componentData) {\r\n                    // Adding new element\r\n                    const elementData = {\r\n                        ...item.componentData,\r\n                        json: {\r\n                            ...item.componentData.json,\r\n                            styles: {\r\n                                ...item.componentData.json.styles,\r\n                                position: finalPosition,\r\n                                width: item.componentData.json.styles?.width || 'auto',\r\n                                height: item.componentData.json.styles?.height || 'auto',\r\n                            },\r\n                        },\r\n                    };\r\n\r\n                    const insertIndex = draggedOverIndex !== null ? draggedOverIndex : section.elements.length;\r\n                    addElement(section.id, elementData, insertIndex);\r\n                } else {\r\n                    // Moving existing element\r\n                    updatePosition(item.id, section.id, finalPosition);\r\n                    if (item.sectionId !== section.id) {\r\n                        moveElement(section.id, item.id, draggedOverIndex || section.elements.length);\r\n                    }\r\n                }\r\n\r\n                setDraggedOverIndex(null);\r\n            },\r\n            collect: (monitor) => ({\r\n                isOver: !!monitor.isOver(),\r\n                canDrop: monitor.canDrop(),\r\n            }),\r\n        }), [section.id, draggedOverIndex, canvasRef, zoomLevel, pageStructure, addElement, updatePosition, moveElement]);\r\n\r\n        const handleSectionClick = (e) => {\r\n            e.stopPropagation();\r\n            onSelectSection(section);\r\n        };\r\n\r\n        const sectionStyles = {\r\n            width: section.json.styles?.width || '1200px',\r\n            height: section.json.styles?.height || 'auto',\r\n            minHeight: '200px',\r\n            position: 'relative',\r\n            margin: '0 auto 20px auto',\r\n            border: isOver && canDrop ? '2px solid #007bff' : '1px solid #e0e0e0',\r\n            borderRadius: '8px',\r\n            padding: '20px',\r\n            boxSizing: 'border-box',\r\n            backgroundColor: section.json.styles?.backgroundColor || '#ffffff',\r\n            boxShadow: selectedElement?.id === section.id ? '0 0 0 2px #007bff' : 'none',\r\n            transition: 'all 0.2s ease'\r\n        };\r\n\r\n        return (\r\n            <div\r\n                ref={drop}\r\n                data-section-id={section.id}\r\n                className={`lpb-canvas-section ${isOver ? 'lpb-canvas-section-over' : ''} ${selectedElement?.id === section.id ? 'lpb-canvas-section-selected' : ''}`}\r\n                style={sectionStyles}\r\n                onMouseDown={handleSectionClick}\r\n            >\r\n                <div className=\"lpb-section-header\" style={{\r\n                    marginBottom: '20px',\r\n                    paddingBottom: '10px',\r\n                    borderBottom: '1px solid #f0f0f0'\r\n                }}>\r\n                    <h3 style={{\r\n                        margin: '0',\r\n                        fontSize: '18px',\r\n                        fontWeight: 'bold',\r\n                        color: '#333'\r\n                    }}>\r\n                        {section.json.content?.title || `Section ${index + 1}`}\r\n                    </h3>\r\n                    {section.json.content?.subtitle && (\r\n                        <p style={{\r\n                            margin: '5px 0 0 0',\r\n                            fontSize: '14px',\r\n                            color: '#666'\r\n                        }}>\r\n                            {section.json.content.subtitle}\r\n                        </p>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"lpb-canvas-section-content\" style={{ position: 'relative', minHeight: '100px' }}>\r\n                    {section.elements.length === 0 && (\r\n                        <div style={{\r\n                            position: 'absolute',\r\n                            top: '50%',\r\n                            left: '50%',\r\n                            transform: 'translate(-50%, -50%)',\r\n                            color: '#999',\r\n                            fontSize: '14px',\r\n                            textAlign: 'center'\r\n                        }}>\r\n                            Kéo thả element vào đây\r\n                        </div>\r\n                    )}\r\n\r\n                    {section.elements.map((element, idx) => (\r\n                        <Element\r\n                            key={element.id}\r\n                            component={element}\r\n                            index={idx}\r\n                            isSelected={selectedElement?.id === element.id}\r\n                            onSelectElement={onSelectElement}\r\n                            handleElementHover={handleElementHover}\r\n                            onDuplicateElement={onDuplicateElement}\r\n                            onDeleteElement={onDeleteElement}\r\n                            onMoveElement={onMoveElement}\r\n                            updatePosition={updatePosition}\r\n                            canvasRef={canvasRef}\r\n                            sectionId={section.id}\r\n                            onInlineEdit={onInlineEdit}\r\n                            pageStructure={pageStructure}\r\n                            zoomLevel={zoomLevel}\r\n                        />\r\n                    ))}\r\n\r\n                    {/* Visual indicator for drop position */}\r\n                    {isOver && draggedOverIndex !== null && (\r\n                        <div\r\n                            style={{\r\n                                position: 'absolute',\r\n                                top: draggedOverIndex * 80 + 'px',\r\n                                left: '0',\r\n                                right: '0',\r\n                                height: '2px',\r\n                                backgroundColor: '#007bff',\r\n                                zIndex: 100\r\n                            }}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nconst Canvas = React.memo(\r\n    ({\r\n         pageStructure,\r\n         selectedElement,\r\n         onSelectElement,\r\n         quickEditElement,\r\n         quickEditPosition,\r\n         onQuickEdit,\r\n         onCloseQuickEdit,\r\n         onDuplicateElement,\r\n         onDeleteElement,\r\n         onMoveElement,\r\n         viewMode,\r\n         addSection,\r\n         addElement,\r\n         moveElement,\r\n         ItemTypes,\r\n         zoomLevel,\r\n         setPageStructure,\r\n         updatePosition,\r\n         onInlineEdit,\r\n     }) => {\r\n        const canvasRef = useRef(null);\r\n        const [dropIndex, setDropIndex] = useState(null);\r\n\r\n        const [{ isOver }, drop] = useDrop(() => ({\r\n            accept: [ItemTypes.SECTION],\r\n            hover: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                if (clientOffset && canvasRef.current) {\r\n                    const rect = canvasRef.current.getBoundingClientRect();\r\n                    const y = clientOffset.y - rect.top;\r\n                    const sectionHeight = 220; // Estimated section height including margin\r\n                    const index = Math.min(pageStructure.length, Math.floor(y / sectionHeight));\r\n                    setDropIndex(index);\r\n                }\r\n            },\r\n            drop: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                if (!clientOffset || !canvasRef.current) {\r\n                    toast.error('Không thể xác định vị trí thả section!');\r\n                    return;\r\n                }\r\n\r\n                const rect = canvasRef.current.getBoundingClientRect();\r\n                const y = clientOffset.y - rect.top;\r\n                const sectionHeight = 220;\r\n                const index = Math.min(pageStructure.length, Math.floor(y / sectionHeight));\r\n\r\n                const sectionData = {\r\n                    ...item.componentData,\r\n                    json: {\r\n                        ...item.componentData.json,\r\n                        styles: {\r\n                            ...item.componentData.json.styles,\r\n                            width: '1200px',\r\n                            height: 'auto',\r\n                        },\r\n                    },\r\n                };\r\n\r\n                addSection(sectionData, index);\r\n                setDropIndex(null);\r\n            },\r\n            collect: (monitor) => ({\r\n                isOver: !!monitor.isOver(),\r\n            }),\r\n        }), [pageStructure.length, addSection]);\r\n\r\n        const handleElementHover = useCallback(\r\n            (e, component) => {\r\n                if (quickEditElement?.id === component.id) return;\r\n\r\n                const rect = e.currentTarget.getBoundingClientRect();\r\n                const canvasRect = canvasRef.current?.getBoundingClientRect() || { left: 0, top: 0 };\r\n\r\n                onQuickEdit(component, {\r\n                    x: (rect.left - canvasRect.left) / (zoomLevel / 100),\r\n                    y: (rect.top - canvasRect.top + 20) / (zoomLevel / 100),\r\n                });\r\n            },\r\n            [quickEditElement, onQuickEdit, zoomLevel]\r\n        );\r\n\r\n        const handleSelectSection = useCallback(\r\n            (section) => {\r\n                onSelectElement(section);\r\n            },\r\n            [onSelectElement]\r\n        );\r\n\r\n        useHotkeys(\r\n            'delete',\r\n            () => {\r\n                if (selectedElement) {\r\n                    onDeleteElement(selectedElement);\r\n                }\r\n            },\r\n            [selectedElement, onDeleteElement]\r\n        );\r\n\r\n        // Canvas styles based on view mode\r\n        const canvasStyles = {\r\n            desktop: { maxWidth: '1200px', margin: '0 auto' },\r\n            tablet: { maxWidth: '768px', margin: '0 auto' },\r\n            mobile: { maxWidth: '375px', margin: '0 auto' }\r\n        };\r\n\r\n        return (\r\n            <div className=\"lpb-canvas-wrapper\">\r\n                <div\r\n                    ref={(node) => {\r\n                        canvasRef.current = node;\r\n                        drop(node);\r\n                    }}\r\n                    className={`lpb-canvas lpb-canvas-${viewMode}`}\r\n                    onMouseLeave={onCloseQuickEdit}\r\n                    style={{\r\n                        zoom: `${zoomLevel / 100}`,\r\n                        position: 'relative',\r\n                        minHeight: '100vh',\r\n                        backgroundColor: '#f8f9fa',\r\n                        padding: '20px',\r\n                        ...canvasStyles[viewMode]\r\n                    }}\r\n                >\r\n                    <div className=\"lpb-canvas-content\">\r\n                        {pageStructure.length === 0 ? (\r\n                            <div className=\"lpb-canvas-empty-state\" style={{\r\n                                textAlign: 'center',\r\n                                padding: '60px 20px',\r\n                                color: '#666',\r\n                                border: '2px dashed #ccc',\r\n                                borderRadius: '12px',\r\n                                backgroundColor: '#fff'\r\n                            }}>\r\n                                <i className=\"fas fa-layer-group\" style={{ fontSize: '48px', marginBottom: '20px' }}></i>\r\n                                <h3 style={{ margin: '0 0 10px 0', fontSize: '18px' }}>Bắt đầu tạo trang của bạn</h3>\r\n                                <p style={{ margin: '0', fontSize: '14px' }}>Kéo thả section từ thư viện để bắt đầu</p>\r\n                            </div>\r\n                        ) : (\r\n                            <>\r\n                                {pageStructure.map((section, index) => (\r\n                                    <React.Fragment key={section.id}>\r\n                                        {dropIndex === index && (\r\n                                            <div\r\n                                                className=\"lpb-canvas-drop-zone\"\r\n                                                style={{\r\n                                                    height: '60px',\r\n                                                    background: 'rgba(0, 123, 255, 0.1)',\r\n                                                    border: '2px dashed #007bff',\r\n                                                    borderRadius: '8px',\r\n                                                    margin: '10px auto',\r\n                                                    display: 'flex',\r\n                                                    alignItems: 'center',\r\n                                                    justifyContent: 'center',\r\n                                                    color: '#007bff',\r\n                                                    fontSize: '14px',\r\n                                                    fontWeight: 'bold'\r\n                                                }}\r\n                                            >\r\n                                                Thả section ở đây\r\n                                            </div>\r\n                                        )}\r\n                                        <Section\r\n                                            section={section}\r\n                                            index={index}\r\n                                            selectedElement={selectedElement}\r\n                                            onSelectElement={onSelectElement}\r\n                                            handleElementHover={handleElementHover}\r\n                                            onDuplicateElement={onDuplicateElement}\r\n                                            onDeleteElement={onDeleteElement}\r\n                                            onMoveElement={onMoveElement}\r\n                                            updatePosition={updatePosition}\r\n                                            addElement={addElement}\r\n                                            canvasRef={canvasRef}\r\n                                            moveElement={moveElement}\r\n                                            onInlineEdit={onInlineEdit}\r\n                                            onSelectSection={handleSelectSection}\r\n                                            viewMode={viewMode}\r\n                                            pageStructure={pageStructure}\r\n                                            zoomLevel={zoomLevel}\r\n                                        />\r\n                                    </React.Fragment>\r\n                                ))}\r\n                                {dropIndex === pageStructure.length && (\r\n                                    <div\r\n                                        className=\"lpb-canvas-drop-zone\"\r\n                                        style={{\r\n                                            height: '60px',\r\n                                            background: 'rgba(0, 123, 255, 0.1)',\r\n                                            border: '2px dashed #007bff',\r\n                                            borderRadius: '8px',\r\n                                            margin: '10px auto',\r\n                                            display: 'flex',\r\n                                            alignItems: 'center',\r\n                                            justifyContent: 'center',\r\n                                            color: '#007bff',\r\n                                            fontSize: '14px',\r\n                                            fontWeight: 'bold'\r\n                                        }}\r\n                                    >\r\n                                        Thả section ở đây\r\n                                    </div>\r\n                                )}\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                    <QuickEditToolkit\r\n                        element={quickEditElement}\r\n                        position={quickEditPosition}\r\n                        onEdit={() => onSelectElement(quickEditElement)}\r\n                        onDuplicate={() => onDuplicateElement(quickEditElement)}\r\n                        onDelete={() => onDeleteElement(quickEditElement)}\r\n                        onMoveUp={() => onMoveElement(quickEditElement, 'up')}\r\n                        onMoveDown={() => onMoveElement(quickEditElement, 'down')}\r\n                        onClose={onCloseQuickEdit}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nexport default Canvas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}