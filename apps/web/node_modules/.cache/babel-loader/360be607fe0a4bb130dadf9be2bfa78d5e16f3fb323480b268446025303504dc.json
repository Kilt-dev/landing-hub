{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\pages\\\\PaymentResult.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport '../styles/PaymentResult.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PaymentResult = () => {\n  _s();\n  var _transaction$marketpl;\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const [transaction, setTransaction] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [polling, setPolling] = useState(true);\n  const [pollCount, setPollCount] = useState(0);\n  const pollIntervalRef = useRef(null);\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n  const transaction_id = searchParams.get('transaction_id');\n  const status = searchParams.get('status');\n  const MAX_POLL_COUNT = 30; // Poll for max 1 minute (30 * 2 seconds)\n  const POLL_INTERVAL = 2000; // Poll every 2 seconds\n\n  useEffect(() => {\n    if (transaction_id) {\n      loadTransaction();\n      // Start polling if status is pending or processing\n      startPolling();\n    } else {\n      setLoading(false);\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n    };\n  }, [transaction_id]);\n  const startPolling = () => {\n    // Clear existing interval if any\n    if (pollIntervalRef.current) {\n      clearInterval(pollIntervalRef.current);\n    }\n\n    // Set up polling interval\n    pollIntervalRef.current = setInterval(async () => {\n      setPollCount(prev => {\n        const newCount = prev + 1;\n\n        // Stop polling after MAX_POLL_COUNT\n        if (newCount >= MAX_POLL_COUNT) {\n          stopPolling();\n          return prev;\n        }\n        return newCount;\n      });\n      await loadTransaction();\n    }, POLL_INTERVAL);\n  };\n  const stopPolling = () => {\n    if (pollIntervalRef.current) {\n      clearInterval(pollIntervalRef.current);\n      pollIntervalRef.current = null;\n    }\n    setPolling(false);\n  };\n  const loadTransaction = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_BASE_URL}/api/payment/transaction/${transaction_id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const txn = response.data.data;\n      setTransaction(txn);\n\n      // Stop polling if transaction reached final state\n      if (txn && (txn.status === 'COMPLETED' || txn.status === 'FAILED' || txn.status === 'CANCELLED')) {\n        stopPolling();\n      }\n      setLoading(false);\n    } catch (err) {\n      console.error('L·ªói t·∫£i transaction:', err);\n      setLoading(false);\n    }\n  };\n  const formatPrice = price => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(price);\n  };\n  if (loading && !transaction) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0110ang t\\u1EA3i th\\xF4ng tin giao d\\u1ECBch...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Show polling status if transaction is still processing\n  const isProcessing = transaction && (transaction.status === 'PENDING' || transaction.status === 'PROCESSING');\n  const isSuccess = (transaction === null || transaction === void 0 ? void 0 : transaction.status) === 'COMPLETED';\n  const isFailed = transaction && (transaction.status === 'FAILED' || transaction.status === 'CANCELLED');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"result-container\",\n    children: isProcessing && polling ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result-card processing\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-icon processing-icon\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0110ang x\\u1EED l\\xFD thanh to\\xE1n...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"result-message\",\n        children: [\"Vui l\\xF2ng ho\\xE0n t\\u1EA5t thanh to\\xE1n tr\\xEAn \\u1EE9ng d\\u1EE5ng MOMO/VNPay.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }, this), \"H\\u1EC7 th\\u1ED1ng s\\u1EBD t\\u1EF1 \\u0111\\u1ED9ng c\\u1EADp nh\\u1EADt k\\u1EBFt qu\\u1EA3.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }, this), transaction && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"M\\xE3 giao d\\u1ECBch:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: transaction._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"S\\u1ED1 ti\\u1EC1n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: formatPrice(transaction.amount)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: transaction.payment_method\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Tr\\u1EA1ng th\\xE1i:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value processing-text\",\n            children: [\"\\u23F3 \", transaction.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"polling-info\",\n        style: {\n          marginTop: '20px',\n          fontSize: '0.875rem',\n          color: '#6b7280'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0110ang ki\\u1EC3m tra k\\u1EBFt qu\\u1EA3 thanh to\\xE1n... (\", pollCount, \"/\", MAX_POLL_COUNT, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '0.75rem',\n            marginTop: '8px'\n          },\n          children: \"\\uD83D\\uDCA1 Tip: Sau khi thanh to\\xE1n xong, trang s\\u1EBD t\\u1EF1 \\u0111\\u1ED9ng c\\u1EADp nh\\u1EADt trong v\\xE0i gi\\xE2y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `result-card ${isSuccess ? 'success' : 'failed'}`,\n      children: isSuccess ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-icon success-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Thanh to\\xE1n th\\xE0nh c\\xF4ng!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"result-message\",\n          children: \"C\\u1EA3m \\u01A1n b\\u1EA1n \\u0111\\xE3 mua landing page. Giao d\\u1ECBch \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c x\\u1EED l\\xFD th\\xE0nh c\\xF4ng.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 29\n        }, this), transaction && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Chi ti\\u1EBFt giao d\\u1ECBch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"M\\xE3 giao d\\u1ECBch:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: transaction._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Landing Page:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: (_transaction$marketpl = transaction.marketplace_page_id) === null || _transaction$marketpl === void 0 ? void 0 : _transaction$marketpl.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"S\\u1ED1 ti\\u1EC1n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: formatPrice(transaction.amount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: transaction.payment_method\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Tr\\u1EA1ng th\\xE1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value success-text\",\n              children: \"Ho\\xE0n th\\xE0nh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: () => navigate('/pages'),\n            children: \"\\uD83D\\uDCC4 Xem landing page c\\u1EE7a t\\xF4i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => navigate('/marketplace'),\n            children: \"\\uD83C\\uDFEA Ti\\u1EBFp t\\u1EE5c mua s\\u1EAFm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : isProcessing && !polling ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-icon processing-icon\",\n          children: \"\\u23F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Ch\\u1EDD x\\xE1c nh\\u1EADn thanh to\\xE1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"result-message\",\n          children: [\"Giao d\\u1ECBch \\u0111ang ch\\u1EDD x\\xE1c nh\\u1EADn t\\u1EEB c\\u1ED5ng thanh to\\xE1n.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 33\n          }, this), \"N\\u1EBFu b\\u1EA1n \\u0111\\xE3 thanh to\\xE1n xong, vui l\\xF2ng \\u0111\\u1EE3i ho\\u1EB7c l\\xE0m m\\u1EDBi trang.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 29\n        }, this), transaction && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Th\\xF4ng tin giao d\\u1ECBch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"M\\xE3 giao d\\u1ECBch:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: transaction._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Tr\\u1EA1ng th\\xE1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value processing-text\",\n              children: [\"\\u23F3 \", transaction.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: () => {\n              setLoading(true);\n              setPollCount(0);\n              setPolling(true);\n              startPolling();\n              loadTransaction();\n            },\n            children: \"\\uD83D\\uDD04 Ki\\u1EC3m tra l\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => navigate('/payments'),\n            children: \"\\uD83D\\uDCC4 Xem l\\u1ECBch s\\u1EED giao d\\u1ECBch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-icon failed-icon\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Thanh to\\xE1n th\\u1EA5t b\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"result-message\",\n          children: \"R\\u1EA5t ti\\u1EBFc, giao d\\u1ECBch c\\u1EE7a b\\u1EA1n kh\\xF4ng th\\xE0nh c\\xF4ng. Vui l\\xF2ng th\\u1EED l\\u1EA1i.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 29\n        }, this), transaction && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Th\\xF4ng tin giao d\\u1ECBch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"M\\xE3 giao d\\u1ECBch:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: transaction._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Tr\\u1EA1ng th\\xE1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value failed-text\",\n              children: transaction.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: () => transaction && navigate(`/marketplace/${transaction.marketplace_page_id._id}`),\n            children: \"\\uD83D\\uDD04 Th\\u1EED l\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => navigate('/marketplace'),\n            children: \"\\uD83C\\uDFEA Quay l\\u1EA1i Marketplace\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 9\n  }, this);\n};\n_s(PaymentResult, \"mVaWnigw+bWBEdAPSZaE5C/PPfY=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = PaymentResult;\nexport default PaymentResult;\nvar _c;\n$RefreshReg$(_c, \"PaymentResult\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useSearchParams","useNavigate","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","PaymentResult","_s","_transaction$marketpl","searchParams","navigate","transaction","setTransaction","loading","setLoading","polling","setPolling","pollCount","setPollCount","pollIntervalRef","API_BASE_URL","process","env","REACT_APP_API_URL","transaction_id","get","status","MAX_POLL_COUNT","POLL_INTERVAL","loadTransaction","startPolling","current","clearInterval","setInterval","prev","newCount","stopPolling","token","localStorage","getItem","response","headers","Authorization","txn","data","err","console","error","formatPrice","price","Intl","NumberFormat","style","currency","format","className","children","fileName","_jsxFileName","lineNumber","columnNumber","isProcessing","isSuccess","isFailed","_id","amount","payment_method","marginTop","fontSize","color","marketplace_page_id","title","onClick","_c","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/pages/PaymentResult.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../styles/PaymentResult.css';\r\n\r\nconst PaymentResult = () => {\r\n    const [searchParams] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    const [transaction, setTransaction] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [polling, setPolling] = useState(true);\r\n    const [pollCount, setPollCount] = useState(0);\r\n    const pollIntervalRef = useRef(null);\r\n\r\n    const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n    const transaction_id = searchParams.get('transaction_id');\r\n    const status = searchParams.get('status');\r\n\r\n    const MAX_POLL_COUNT = 30; // Poll for max 1 minute (30 * 2 seconds)\r\n    const POLL_INTERVAL = 2000; // Poll every 2 seconds\r\n\r\n    useEffect(() => {\r\n        if (transaction_id) {\r\n            loadTransaction();\r\n            // Start polling if status is pending or processing\r\n            startPolling();\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n\r\n        // Cleanup on unmount\r\n        return () => {\r\n            if (pollIntervalRef.current) {\r\n                clearInterval(pollIntervalRef.current);\r\n            }\r\n        };\r\n    }, [transaction_id]);\r\n\r\n    const startPolling = () => {\r\n        // Clear existing interval if any\r\n        if (pollIntervalRef.current) {\r\n            clearInterval(pollIntervalRef.current);\r\n        }\r\n\r\n        // Set up polling interval\r\n        pollIntervalRef.current = setInterval(async () => {\r\n            setPollCount(prev => {\r\n                const newCount = prev + 1;\r\n\r\n                // Stop polling after MAX_POLL_COUNT\r\n                if (newCount >= MAX_POLL_COUNT) {\r\n                    stopPolling();\r\n                    return prev;\r\n                }\r\n\r\n                return newCount;\r\n            });\r\n\r\n            await loadTransaction();\r\n        }, POLL_INTERVAL);\r\n    };\r\n\r\n    const stopPolling = () => {\r\n        if (pollIntervalRef.current) {\r\n            clearInterval(pollIntervalRef.current);\r\n            pollIntervalRef.current = null;\r\n        }\r\n        setPolling(false);\r\n    };\r\n\r\n    const loadTransaction = async () => {\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const response = await axios.get(\r\n                `${API_BASE_URL}/api/payment/transaction/${transaction_id}`,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }\r\n            );\r\n\r\n            const txn = response.data.data;\r\n            setTransaction(txn);\r\n\r\n            // Stop polling if transaction reached final state\r\n            if (txn && (txn.status === 'COMPLETED' || txn.status === 'FAILED' || txn.status === 'CANCELLED')) {\r\n                stopPolling();\r\n            }\r\n\r\n            setLoading(false);\r\n        } catch (err) {\r\n            console.error('L·ªói t·∫£i transaction:', err);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const formatPrice = (price) => {\r\n        return new Intl.NumberFormat('vi-VN', {\r\n            style: 'currency',\r\n            currency: 'VND'\r\n        }).format(price);\r\n    };\r\n\r\n    if (loading && !transaction) {\r\n        return (\r\n            <div className=\"result-container\">\r\n                <div className=\"result-loading\">\r\n                    <div className=\"spinner\"></div>\r\n                    <p>ƒêang t·∫£i th√¥ng tin giao d·ªãch...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Show polling status if transaction is still processing\r\n    const isProcessing = transaction && (transaction.status === 'PENDING' || transaction.status === 'PROCESSING');\r\n    const isSuccess = transaction?.status === 'COMPLETED';\r\n    const isFailed = transaction && (transaction.status === 'FAILED' || transaction.status === 'CANCELLED');\r\n\r\n    return (\r\n        <div className=\"result-container\">\r\n            {isProcessing && polling ? (\r\n                <div className=\"result-card processing\">\r\n                    <div className=\"result-icon processing-icon\">\r\n                        <div className=\"spinner\"></div>\r\n                    </div>\r\n                    <h1>ƒêang x·ª≠ l√Ω thanh to√°n...</h1>\r\n                    <p className=\"result-message\">\r\n                        Vui l√≤ng ho√†n t·∫•t thanh to√°n tr√™n ·ª©ng d·ª•ng MOMO/VNPay.\r\n                        <br />\r\n                        H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông c·∫≠p nh·∫≠t k·∫øt qu·∫£.\r\n                    </p>\r\n\r\n                    {transaction && (\r\n                        <div className=\"result-details\">\r\n                            <div className=\"detail-row\">\r\n                                <span>M√£ giao d·ªãch:</span>\r\n                                <span className=\"detail-value\">{transaction._id}</span>\r\n                            </div>\r\n                            <div className=\"detail-row\">\r\n                                <span>S·ªë ti·ªÅn:</span>\r\n                                <span className=\"detail-value\">{formatPrice(transaction.amount)}</span>\r\n                            </div>\r\n                            <div className=\"detail-row\">\r\n                                <span>Ph∆∞∆°ng th·ª©c:</span>\r\n                                <span className=\"detail-value\">{transaction.payment_method}</span>\r\n                            </div>\r\n                            <div className=\"detail-row\">\r\n                                <span>Tr·∫°ng th√°i:</span>\r\n                                <span className=\"detail-value processing-text\">\r\n                                    ‚è≥ {transaction.status}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"polling-info\" style={{ marginTop: '20px', fontSize: '0.875rem', color: '#6b7280' }}>\r\n                        <p>ƒêang ki·ªÉm tra k·∫øt qu·∫£ thanh to√°n... ({pollCount}/{MAX_POLL_COUNT})</p>\r\n                        <p style={{ fontSize: '0.75rem', marginTop: '8px' }}>\r\n                            üí° Tip: Sau khi thanh to√°n xong, trang s·∫Ω t·ª± ƒë·ªông c·∫≠p nh·∫≠t trong v√†i gi√¢y\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className={`result-card ${isSuccess ? 'success' : 'failed'}`}>\r\n                    {isSuccess ? (\r\n                        <>\r\n                            <div className=\"result-icon success-icon\">‚úÖ</div>\r\n                            <h1>Thanh to√°n th√†nh c√¥ng!</h1>\r\n                            <p className=\"result-message\">\r\n                                C·∫£m ∆°n b·∫°n ƒë√£ mua landing page. Giao d·ªãch ƒë√£ ƒë∆∞·ª£c x·ª≠ l√Ω th√†nh c√¥ng.\r\n                            </p>\r\n\r\n                            {transaction && (\r\n                                <div className=\"result-details\">\r\n                                    <h3>Chi ti·∫øt giao d·ªãch</h3>\r\n                                    <div className=\"detail-row\">\r\n                                        <span>M√£ giao d·ªãch:</span>\r\n                                        <span className=\"detail-value\">{transaction._id}</span>\r\n                                    </div>\r\n                                    <div className=\"detail-row\">\r\n                                        <span>Landing Page:</span>\r\n                                        <span className=\"detail-value\">{transaction.marketplace_page_id?.title}</span>\r\n                                    </div>\r\n                                    <div className=\"detail-row\">\r\n                                        <span>S·ªë ti·ªÅn:</span>\r\n                                        <span className=\"detail-value\">{formatPrice(transaction.amount)}</span>\r\n                                    </div>\r\n                                    <div className=\"detail-row\">\r\n                                        <span>Ph∆∞∆°ng th·ª©c:</span>\r\n                                        <span className=\"detail-value\">{transaction.payment_method}</span>\r\n                                    </div>\r\n                                    <div className=\"detail-row\">\r\n                                        <span>Tr·∫°ng th√°i:</span>\r\n                                        <span className=\"detail-value success-text\">Ho√†n th√†nh</span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"result-actions\">\r\n                                <button\r\n                                    className=\"btn-primary\"\r\n                                    onClick={() => navigate('/pages')}\r\n                                >\r\n                                    üìÑ Xem landing page c·ªßa t√¥i\r\n                                </button>\r\n                                <button\r\n                                    className=\"btn-secondary\"\r\n                                    onClick={() => navigate('/marketplace')}\r\n                                >\r\n                                    üè™ Ti·∫øp t·ª•c mua s·∫Øm\r\n                                </button>\r\n                            </div>\r\n                        </>\r\n                    ) : isProcessing && !polling ? (\r\n                        <>\r\n                            <div className=\"result-icon processing-icon\">‚è∞</div>\r\n                            <h1>Ch·ªù x√°c nh·∫≠n thanh to√°n</h1>\r\n                            <p className=\"result-message\">\r\n                                Giao d·ªãch ƒëang ch·ªù x√°c nh·∫≠n t·ª´ c·ªïng thanh to√°n.\r\n                                <br />\r\n                                N·∫øu b·∫°n ƒë√£ thanh to√°n xong, vui l√≤ng ƒë·ª£i ho·∫∑c l√†m m·ªõi trang.\r\n                            </p>\r\n\r\n                            {transaction && (\r\n                                <div className=\"result-details\">\r\n                                    <h3>Th√¥ng tin giao d·ªãch</h3>\r\n                                    <div className=\"detail-row\">\r\n                                        <span>M√£ giao d·ªãch:</span>\r\n                                        <span className=\"detail-value\">{transaction._id}</span>\r\n                                    </div>\r\n                                    <div className=\"detail-row\">\r\n                                        <span>Tr·∫°ng th√°i:</span>\r\n                                        <span className=\"detail-value processing-text\">\r\n                                        ‚è≥ {transaction.status}\r\n                                    </span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"result-actions\">\r\n                                <button\r\n                                    className=\"btn-primary\"\r\n                                    onClick={() => {\r\n                                        setLoading(true);\r\n                                        setPollCount(0);\r\n                                        setPolling(true);\r\n                                        startPolling();\r\n                                        loadTransaction();\r\n                                    }}\r\n                                >\r\n                                    üîÑ Ki·ªÉm tra l·∫°i\r\n                                </button>\r\n                                <button\r\n                                    className=\"btn-secondary\"\r\n                                    onClick={() => navigate('/payments')}\r\n                                >\r\n                                    üìÑ Xem l·ªãch s·ª≠ giao d·ªãch\r\n                                </button>\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"result-icon failed-icon\">‚ùå</div>\r\n                            <h1>Thanh to√°n th·∫•t b·∫°i</h1>\r\n                            <p className=\"result-message\">\r\n                                R·∫•t ti·∫øc, giao d·ªãch c·ªßa b·∫°n kh√¥ng th√†nh c√¥ng. Vui l√≤ng th·ª≠ l·∫°i.\r\n                            </p>\r\n\r\n                            {transaction && (\r\n                                <div className=\"result-details\">\r\n                                    <h3>Th√¥ng tin giao d·ªãch</h3>\r\n                                    <div className=\"detail-row\">\r\n                                        <span>M√£ giao d·ªãch:</span>\r\n                                        <span className=\"detail-value\">{transaction._id}</span>\r\n                                    </div>\r\n                                    <div className=\"detail-row\">\r\n                                        <span>Tr·∫°ng th√°i:</span>\r\n                                        <span className=\"detail-value failed-text\">{transaction.status}</span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"result-actions\">\r\n                                <button\r\n                                    className=\"btn-primary\"\r\n                                    onClick={() => transaction && navigate(`/marketplace/${transaction.marketplace_page_id._id}`)}\r\n                                >\r\n                                    üîÑ Th·ª≠ l·∫°i\r\n                                </button>\r\n                                <button\r\n                                    className=\"btn-secondary\"\r\n                                    onClick={() => navigate('/marketplace')}\r\n                                >\r\n                                    üè™ Quay l·∫°i Marketplace\r\n                                </button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PaymentResult;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}