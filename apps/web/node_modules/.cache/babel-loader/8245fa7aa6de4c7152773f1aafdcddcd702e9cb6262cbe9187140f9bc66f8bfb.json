{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\helpers.js\";\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { sections } from '../../constants/sections';\nimport eventController from '../../utils/EventController';\n\n// Constants\n/**\r\n * Item types for drag-and-drop functionality\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ItemTypes = {\n  ELEMENT: 'element',\n  EXISTING_ELEMENT: 'existingElement',\n  CHILD_ELEMENT: 'childElement'\n};\n\n// Utilities\n/**\r\n * Converts camelCase to kebab-case for CSS properties\r\n * @param {string} str - The camelCase string\r\n * @returns {string} The kebab-case string\r\n */\nconst toKebabCase = str => str.replace(/[A-Z]/g, m => `-${m.toLowerCase()}`);\n\n/**\r\n * Calculates precise coordinates within a canvas or section\r\n * @param {number} mouseX - Mouse X coordinate\r\n * @param {number} mouseY - Mouse Y coordinate\r\n * @param {HTMLElement} containerElement - The container element\r\n * @param {number} zoomLevel - Zoom level percentage\r\n * @returns {Object} Coordinates { x, y }\r\n */\nexport const getCanvasPosition = (mouseX, mouseY, containerElement, zoomLevel) => {\n  if (!containerElement) {\n    console.error('Container element is null in getCanvasPosition');\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  const rect = containerElement.getBoundingClientRect();\n  const scrollX = containerElement.scrollLeft || 0;\n  const scrollY = containerElement.scrollTop || 0;\n  const rawX = (mouseX - rect.left + scrollX) / (zoomLevel / 100);\n  const rawY = (mouseY - rect.top + scrollY) / (zoomLevel / 100);\n  return {\n    x: Math.max(0, rawX),\n    y: Math.max(0, rawY)\n  };\n};\n\n/**\r\n * Snaps coordinates to grid or nearby snap points\r\n * @param {number} x - X coordinate\r\n * @param {number} y - Y coordinate\r\n * @param {number} gridSize - Size of the grid\r\n * @param {Array<Object>} snapPoints - Array of snap points { x, y }\r\n * @returns {Object} Snapped coordinates { x, y }\r\n */\nexport const snapToGrid = (x, y, gridSize, snapPoints = []) => {\n  let snappedX = Math.round(x / gridSize) * gridSize;\n  let snappedY = Math.round(y / gridSize) * gridSize;\n  snapPoints.forEach(point => {\n    if (Math.abs(x - point.x) < 15) snappedX = point.x;\n    if (Math.abs(y - point.y) < 15) snappedY = point.y;\n  });\n  return {\n    x: snappedX,\n    y: snappedY\n  };\n};\n\n/**\r\n * Calculates bounds of an element for snapping\r\n * @param {Object} element - Element object with position and size\r\n * @returns {Object} Bounds { left, top, right, bottom, centerX, centerY }\r\n */\nexport const getElementBounds = element => {\n  var _element$position, _element$position$des, _element$position2, _element$position2$de, _element$position3, _element$position3$de, _element$size, _element$position4, _element$position4$de, _element$size2, _element$position5, _element$position5$de, _element$size3, _element$position6, _element$position6$de, _element$size4;\n  return {\n    left: ((_element$position = element.position) === null || _element$position === void 0 ? void 0 : (_element$position$des = _element$position.desktop) === null || _element$position$des === void 0 ? void 0 : _element$position$des.x) || 0,\n    top: ((_element$position2 = element.position) === null || _element$position2 === void 0 ? void 0 : (_element$position2$de = _element$position2.desktop) === null || _element$position2$de === void 0 ? void 0 : _element$position2$de.y) || 0,\n    right: (((_element$position3 = element.position) === null || _element$position3 === void 0 ? void 0 : (_element$position3$de = _element$position3.desktop) === null || _element$position3$de === void 0 ? void 0 : _element$position3$de.x) || 0) + (((_element$size = element.size) === null || _element$size === void 0 ? void 0 : _element$size.width) || 200),\n    bottom: (((_element$position4 = element.position) === null || _element$position4 === void 0 ? void 0 : (_element$position4$de = _element$position4.desktop) === null || _element$position4$de === void 0 ? void 0 : _element$position4$de.y) || 0) + (((_element$size2 = element.size) === null || _element$size2 === void 0 ? void 0 : _element$size2.height) || 50),\n    centerX: (((_element$position5 = element.position) === null || _element$position5 === void 0 ? void 0 : (_element$position5$de = _element$position5.desktop) === null || _element$position5$de === void 0 ? void 0 : _element$position5$de.x) || 0) + (((_element$size3 = element.size) === null || _element$size3 === void 0 ? void 0 : _element$size3.width) || 200) / 2,\n    centerY: (((_element$position6 = element.position) === null || _element$position6 === void 0 ? void 0 : (_element$position6$de = _element$position6.desktop) === null || _element$position6$de === void 0 ? void 0 : _element$position6$de.y) || 0) + (((_element$size4 = element.size) === null || _element$size4 === void 0 ? void 0 : _element$size4.height) || 50) / 2\n  };\n};\n\n/**\r\n * Processes styles including pseudo-classes and keyframes into CSS string\r\n * @param {Object} styles - Style object\r\n * @param {string} className - CSS class name\r\n * @returns {string} Generated CSS string\r\n */\nexport const processStyles = (styles, className) => {\n  let cssString = '';\n  const keyframes = {};\n  Object.entries(styles).forEach(([key, value]) => {\n    if (key.startsWith(':')) {\n      cssString += `.${className}${key} { `;\n      Object.entries(value).forEach(([prop, val]) => {\n        if (prop.startsWith('::')) {\n          cssString += `.${className}${prop} { `;\n          Object.entries(val).forEach(([p, v]) => {\n            cssString += `${toKebabCase(p)}: ${v}; `;\n          });\n          cssString += '} ';\n        } else {\n          cssString += `${toKebabCase(prop)}: ${val}; `;\n        }\n      });\n      cssString += '} ';\n    } else if (key.startsWith('@keyframes')) {\n      keyframes[key] = value;\n    } else {\n      cssString += `${toKebabCase(key)}: ${value}; `;\n    }\n  });\n  Object.entries(keyframes).forEach(([key, frames]) => {\n    cssString += `${key} { `;\n    Object.entries(frames).forEach(([percentage, props]) => {\n      cssString += `${percentage} { `;\n      Object.entries(props).forEach(([prop, val]) => {\n        cssString += `${toKebabCase(prop)}: ${val}; `;\n      });\n      cssString += '} ';\n    });\n    cssString += '} ';\n  });\n  return cssString;\n};\n\n// Component Rendering\n/**\r\n * Cleans styles for text-based elements by removing incompatible properties\r\n * @param {Object} originalStyles - Original style object\r\n * @returns {Object} Cleaned style object\r\n */\nconst getCleanTextStyles = originalStyles => {\n  const cleaned = {\n    ...originalStyles\n  };\n  const propertiesToRemove = ['border', 'borderRadius', 'boxShadow', 'backgroundColor', 'background', 'backgroundImage', 'backgroundSize', 'backgroundPosition', 'padding', 'paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom'];\n  propertiesToRemove.forEach(prop => delete cleaned[prop]);\n  return {\n    ...cleaned,\n    margin: cleaned.margin || '0',\n    boxSizing: 'border-box',\n    display: cleaned.display || 'block',\n    width: cleaned.width || '100%',\n    height: cleaned.height || 'auto'\n  };\n};\n\n/**\r\n * Generates CSS for icon component with pseudo-classes and keyframes\r\n * @param {Object} styles - Style object\r\n * @param {string} uniqueClass - Unique CSS class name\r\n * @param {boolean} hasImage - Whether the icon uses an image\r\n * @returns {string} Generated CSS string\r\n */\nconst getIconCSS = (styles, uniqueClass, hasImage) => {\n  let hoverCSS = '';\n  let activeCSS = '';\n  let keyframesCSS = '';\n  const iconStyles = {\n    ...styles\n  };\n  const hoverStyles = iconStyles[':hover'] || {};\n  const activeStyles = iconStyles[':active'] || {};\n  delete iconStyles[':hover'];\n  delete iconStyles[':active'];\n  Object.keys(iconStyles).forEach(key => {\n    if (key.startsWith('@keyframes')) {\n      const animationName = key.replace('@keyframes ', '').trim();\n      const frames = iconStyles[key];\n      keyframesCSS += `@keyframes ${animationName} {`;\n      Object.entries(frames).forEach(([percentage, props]) => {\n        keyframesCSS += `${percentage} {`;\n        Object.entries(props).forEach(([prop, val]) => {\n          keyframesCSS += `${toKebabCase(prop)}: ${val};`;\n        });\n        keyframesCSS += '}';\n      });\n      keyframesCSS += '}';\n      delete iconStyles[key];\n    }\n  });\n  if (Object.keys(hoverStyles).length > 0) {\n    hoverCSS = `.${uniqueClass}:hover {`;\n    Object.entries(hoverStyles).forEach(([key, value]) => {\n      hoverCSS += `${toKebabCase(key)}: ${value};`;\n    });\n    hoverCSS += '}';\n  }\n  if (Object.keys(activeStyles).length > 0) {\n    activeCSS = `.${uniqueClass}:active {`;\n    Object.entries(activeStyles).forEach(([key, value]) => {\n      activeCSS += `${toKebabCase(key)}: ${value};`;\n    });\n    activeCSS += '}';\n  }\n  const imgCSS = hasImage ? `\n        .${uniqueClass} img {\n          width: 100%;\n          height: 100%;\n          object-fit: contain;\n        }\n      ` : '';\n  return `\n    .${uniqueClass} {\n      position: absolute;\n      z-index: ${iconStyles.zIndex || 10};\n      isolation: ${iconStyles.isolation || 'isolate'};\n    }\n    .${uniqueClass} svg {\n      width: 100%;\n      height: 100%;\n      fill: none;\n      stroke: ${iconStyles.stroke || 'currentColor'};\n      stroke-width: ${iconStyles.strokeWidth || 2};\n      stroke-linecap: ${iconStyles.strokeLinecap || 'round'};\n      stroke-linejoin: ${iconStyles.strokeLinejoin || 'round'};\n    }\n    ${imgCSS}\n    ${hoverCSS}\n    ${activeCSS}\n    ${keyframesCSS}\n  `;\n};\n\n/**\r\n * Generates CSS for button component with pseudo-classes and keyframes\r\n * @param {Object} styles - Style object\r\n * @param {string} buttonClass - Unique CSS class name\r\n * @returns {string} Generated CSS string\r\n */\nconst getButtonCSS = (styles, buttonClass) => {\n  const buttonStyles = {\n    ...styles\n  };\n  const pseudoStyles = {\n    ':hover': buttonStyles[':hover'] || {},\n    ':active': buttonStyles[':active'] || {}\n  };\n  const keyframes = {};\n  delete buttonStyles[':hover'];\n  delete buttonStyles[':active'];\n  Object.keys(buttonStyles).forEach(key => {\n    if (key.startsWith('@keyframes')) {\n      keyframes[key.replace('@keyframes ', '').trim()] = buttonStyles[key];\n      delete buttonStyles[key];\n    }\n  });\n  let cssString = Object.entries(pseudoStyles).reduce((acc, [pseudo, props]) => {\n    if (Object.keys(props).length === 0) return acc;\n    const propsString = Object.entries(props).map(([key, value]) => {\n      if (key.startsWith('::')) {\n        const subPropsString = Object.entries(value).map(([k, v]) => `${toKebabCase(k)}: ${v};`).join(' ');\n        return `.${buttonClass}${key} { ${subPropsString} }`;\n      }\n      return `${toKebabCase(key)}: ${value};`;\n    }).join(' ');\n    return `${acc}.${buttonClass}${pseudo} { ${propsString} } `;\n  }, '');\n  cssString += Object.entries(keyframes).reduce((acc, [name, frames]) => {\n    const framesString = Object.entries(frames).map(([frame, props]) => {\n      const propsString = Object.entries(props).map(([key, value]) => `${toKebabCase(key)}: ${value};`).join(' ');\n      return `${frame} { ${propsString} }`;\n    }).join(' ');\n    return `${acc} @keyframes ${name} { ${framesString} }`;\n  }, '');\n  return cssString;\n};\n\n/**\r\n * Generates CSS for gallery animations\r\n * @param {Object} animation - Animation configuration\r\n * @param {string} galleryClass - Unique CSS class name\r\n * @returns {string} Generated CSS string\r\n */\nconst getGalleryAnimationCSS = (animation, galleryClass) => {\n  if (!(animation !== null && animation !== void 0 && animation.type)) return '';\n  const animationName = `${animation.type}-${galleryClass}`;\n  const animationCSS = `\n    @keyframes ${animationName} {\n      ${animation.type === 'fadeIn' ? `\n        from { opacity: 0; }\n        to { opacity: 1; }\n      ` : animation.type === 'fadeInUp' ? `\n        from { opacity: 0; transform: translateY(20px); }\n        to { opacity: 1; transform: translateY(0); }\n      ` : animation.type === 'slideInRight' ? `\n        from { transform: translateX(100%); }\n        to { transform: translateX(0); }\n      ` : animation.type === 'bounceIn' ? `\n        0% { opacity: 0; transform: scale(0.3); }\n        50% { opacity: 1; transform: scale(1.05); }\n        70% { transform: scale(0.9); }\n        100% { transform: scale(1); }\n      ` : ''}\n    }\n    .${galleryClass} {\n      animation: ${animationName} ${animation.duration || 800}ms ease-out ${animation.delay || 0}ms;\n    }\n  `;\n  return animationCSS;\n};\n\n/**\r\n * Renders content for different component types\r\n * @param {string} type - Component type\r\n * @param {Object} componentData - Component data\r\n * @param {Object} styles - Style object\r\n * @param {Array} children - Child components\r\n * @param {boolean} isCanvas - Whether in canvas mode\r\n * @param {Function} onSelectChild - Child selection callback\r\n * @param {string} parentId - Parent element ID\r\n * @param {string} childId - Child element ID\r\n * @param {boolean} isTemplateMode - Whether in template mode\r\n * @returns {JSX.Element} Rendered component\r\n */\nexport const renderComponentContent = (type, componentData = {}, styles = {}, children = [], isCanvas = false, onSelectChild = null, parentId = null, childId = null, isTemplateMode = false) => {\n  // Validation\n  if (!type || typeof type !== 'string') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: componentData.errorColor || '#ff0000',\n        padding: '10px',\n        border: '1px dashed #ff0000',\n        borderRadius: '4px',\n        ...styles\n      },\n      children: [\"Unknown Component: \", type || 'Không xác định']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Section rendering\n  if (type === 'section' && componentData.structure === 'ladi-standard') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ladi-section\",\n      style: {\n        ...styles,\n        width: '100%',\n        height: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ladi-section-background\",\n        style: {\n          backgroundColor: componentData.backgroundColor || 'transparent',\n          backgroundImage: componentData.backgroundImage ? `url(${componentData.backgroundImage})` : 'none',\n          backgroundSize: 'cover',\n          backgroundPosition: 'center',\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          zIndex: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ladi-overlay\",\n        style: {\n          backgroundColor: componentData.overlayColor || 'transparent',\n          opacity: componentData.overlayOpacity || 0,\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          zIndex: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ladi-container\",\n        style: {\n          position: 'relative',\n          zIndex: 1,\n          padding: componentData.padding || '20px',\n          width: '100%',\n          height: '100%'\n        },\n        children: children.map((child, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: child.marginBottom || '10px'\n          },\n          children: renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id)\n        }, child.id || index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Component-specific rendering\n  switch (type.toLowerCase()) {\n    case 'square':\n      {\n        var _componentData$size, _componentData$size2, _componentData$size3, _componentData$size4;\n        const {\n          events = {}\n        } = componentData;\n        const handleClick = e => {\n          e.stopPropagation();\n          if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n            onSelectChild(parentId, childId);\n          }\n          if (events.onClick) {\n            eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\n          }\n        };\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: styles.width || ((_componentData$size = componentData.size) === null || _componentData$size === void 0 ? void 0 : _componentData$size.width) || 50,\n          height: styles.height || ((_componentData$size2 = componentData.size) === null || _componentData$size2 === void 0 ? void 0 : _componentData$size2.height) || 50,\n          style: {\n            position: 'absolute',\n            ...styles\n          },\n          onClick: handleClick,\n          children: /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"0\",\n            y: \"0\",\n            width: styles.width || ((_componentData$size3 = componentData.size) === null || _componentData$size3 === void 0 ? void 0 : _componentData$size3.width) || 50,\n            height: styles.height || ((_componentData$size4 = componentData.size) === null || _componentData$size4 === void 0 ? void 0 : _componentData$size4.height) || 50,\n            fill: styles.fill || componentData.fill || '#000',\n            stroke: styles.stroke || componentData.stroke || 'currentColor',\n            strokeWidth: styles.strokeWidth || componentData.strokeWidth || 2,\n            strokeLinecap: styles.strokeLinecap || componentData.strokeLinecap || 'round',\n            strokeLinejoin: styles.strokeLinejoin || componentData.strokeLinejoin || 'round'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 17\n        }, this);\n      }\n    case 'star':\n      {\n        var _componentData$size5, _componentData$size6;\n        const {\n          events = {}\n        } = componentData;\n        const handleClick = e => {\n          e.stopPropagation();\n          if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n            onSelectChild(parentId, childId);\n          }\n          if (events.onClick) {\n            eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\n          }\n        };\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: styles.width || ((_componentData$size5 = componentData.size) === null || _componentData$size5 === void 0 ? void 0 : _componentData$size5.width) || 50,\n          height: styles.height || ((_componentData$size6 = componentData.size) === null || _componentData$size6 === void 0 ? void 0 : _componentData$size6.height) || 50,\n          style: {\n            position: 'absolute',\n            ...styles\n          },\n          onClick: handleClick,\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M25 5 L32 18 H48 L36 29 L41 44 L25 36 L9 44 L14 29 L2 18 H18 Z\",\n            fill: styles.fill || componentData.fill || '#000',\n            stroke: styles.stroke || componentData.stroke || 'currentColor',\n            strokeWidth: styles.strokeWidth || componentData.strokeWidth || 2,\n            strokeLinecap: styles.strokeLinecap || componentData.strokeLinecap || 'round',\n            strokeLinejoin: styles.strokeLinejoin || componentData.strokeLinejoin || 'round'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 17\n        }, this);\n      }\n    case 'layoutgrid':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: componentData.columns ? `repeat(${componentData.columns}, 1fr)` : styles.gridTemplateColumns || 'repeat(2, 1fr)',\n            gap: componentData.gap || styles.gap || '20px',\n            padding: componentData.padding || styles.padding || '10px',\n            background: componentData.background || styles.background || 'transparent',\n            ...styles\n          },\n          children: children.map((child, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: child.marginBottom || '10px'\n            },\n            children: renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id)\n          }, child.id || index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 17\n        }, this);\n      }\n    case 'icon':\n      {\n        var _componentData$size7, _componentData$size8, _componentData$size9, _componentData$size0;\n        const {\n          icon,\n          events = {},\n          title,\n          imageUrl\n        } = componentData;\n        const uniqueClass = `icon-${parentId || 'root'}-${childId || Date.now()}`;\n        const isSvg = icon && icon.startsWith('<svg');\n        const handleClick = e => {\n          e.stopPropagation();\n          if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n            onSelectChild(parentId, childId);\n          }\n          if (events.onClick) {\n            eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\n          }\n        };\n        const iconStyles = {\n          ...styles,\n          width: ((_componentData$size7 = componentData.size) === null || _componentData$size7 === void 0 ? void 0 : _componentData$size7.width) || styles.width || '50px',\n          height: ((_componentData$size8 = componentData.size) === null || _componentData$size8 === void 0 ? void 0 : _componentData$size8.height) || styles.height || '50px',\n          display: styles.display || 'flex',\n          alignItems: styles.alignItems || 'center',\n          justifyContent: styles.justifyContent || 'center',\n          cursor: events.onClick ? 'pointer' : 'default',\n          position: styles.position || 'absolute'\n        };\n        const cssString = getIconCSS(styles, uniqueClass, !!imageUrl);\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [cssString && /*#__PURE__*/_jsxDEV(\"style\", {\n            children: cssString\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `lpb-icon ${uniqueClass}`,\n            style: iconStyles,\n            onClick: handleClick,\n            title: title || '',\n            children: imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: imageUrl,\n              alt: title || 'Icon',\n              style: {\n                width: '100%',\n                height: '100%',\n                objectFit: 'contain'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 29\n            }, this) : isSvg ? /*#__PURE__*/_jsxDEV(\"div\", {\n              dangerouslySetInnerHTML: {\n                __html: icon\n              },\n              style: {\n                width: ((_componentData$size9 = componentData.size) === null || _componentData$size9 === void 0 ? void 0 : _componentData$size9.width) || styles.width || '50px',\n                height: ((_componentData$size0 = componentData.size) === null || _componentData$size0 === void 0 ? void 0 : _componentData$size0.height) || styles.height || '50px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 29\n            }, this) : icon && /*#__PURE__*/_jsxDEV(\"i\", {\n              className: icon,\n              style: {\n                fontSize: 'inherit',\n                color: 'inherit'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true);\n      }\n    case 'heading':\n      {\n        const headingLevel = componentData.level && ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(componentData.level) ? componentData.level : 'h2';\n        const HeadingTag = headingLevel;\n        return /*#__PURE__*/_jsxDEV(HeadingTag, {\n          style: {\n            ...getCleanTextStyles(styles),\n            fontSize: componentData.fontSize || '1.5rem',\n            color: componentData.color || '#1f2937',\n            margin: componentData.margin || '0',\n            fontWeight: componentData.fontWeight || '700',\n            textAlign: componentData.textAlign || 'left',\n            lineHeight: componentData.lineHeight || '1.4'\n          },\n          children: componentData.content || 'Tiêu đề'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 17\n        }, this);\n      }\n    case 'paragraph':\n      {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            ...getCleanTextStyles(styles),\n            fontSize: componentData.fontSize || '1rem',\n            color: componentData.color || '#1f2937',\n            margin: componentData.margin || '0',\n            fontWeight: componentData.fontWeight || '400',\n            lineHeight: componentData.lineHeight || '1.6',\n            textAlign: componentData.textAlign || 'left'\n          },\n          children: componentData.content || 'Đoạn văn'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 17\n        }, this);\n      }\n    case 'button':\n      {\n        const buttonClass = `button-${componentData.id || Math.random().toString(36).substr(2, 9)}`;\n        const cssString = getButtonCSS(styles, buttonClass);\n        const handleClick = e => {\n          var _componentData$events;\n          e.stopPropagation();\n          if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n            onSelectChild(parentId, childId);\n          }\n          if ((_componentData$events = componentData.events) !== null && _componentData$events !== void 0 && _componentData$events.onClick) {\n            eventController.handleEvent(componentData.events.onClick, childId || parentId, isCanvas);\n            const event = componentData.events.onClick;\n            if (isCanvas) {\n              if (event.type === 'submitForm') {\n                toast.info(`Mô phỏng: Gửi form đến ${event.apiUrl}`, {\n                  position: 'bottom-right',\n                  autoClose: 2000\n                });\n              } else if (event.type === 'navigate') {\n                toast.info(`Mô phỏng: Điều hướng đến ${event.url}`, {\n                  position: 'bottom-right',\n                  autoClose: 2000\n                });\n              } else if (event.type === 'triggerApi') {\n                toast.info(`Mô phỏng: Gọi API ${event.apiUrl}`, {\n                  position: 'bottom-right',\n                  autoClose: 2000\n                });\n              }\n            } else {\n              if (event.type === 'submitForm') {\n                console.log(`Submitting form to ${event.apiUrl}`);\n              } else if (event.type === 'navigate') {\n                window.location.href = event.url;\n              } else if (event.type === 'triggerApi') {\n                console.log(`Trigger API: ${event.apiUrl}`);\n              }\n            }\n          }\n        };\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [cssString && /*#__PURE__*/_jsxDEV(\"style\", {\n            children: cssString\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: buttonClass,\n            style: {\n              ...styles,\n              padding: styles.padding || componentData.padding || '10px 20px',\n              borderRadius: styles.borderRadius || componentData.borderRadius || '8px',\n              background: styles.background || componentData.background || '#2563eb',\n              color: styles.color || componentData.color || '#fff',\n              border: styles.border || componentData.border || 'none',\n              cursor: styles.cursor || 'pointer',\n              fontSize: styles.fontSize || componentData.fontSize || '1rem',\n              fontWeight: styles.fontWeight || componentData.fontWeight || '600',\n              textAlign: styles.textAlign || componentData.textAlign || 'center',\n              display: styles.display || 'inline-flex',\n              alignItems: styles.alignItems || 'center',\n              justifyContent: styles.justifyContent || 'center',\n              transition: styles.transition || 'all 0.3s ease',\n              boxSizing: 'border-box',\n              width: styles.width || 'auto',\n              minWidth: styles.minWidth || 'fit-content',\n              whiteSpace: 'nowrap'\n            },\n            onClick: handleClick,\n            children: componentData.content || 'Nút'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true);\n      }\n    case 'image':\n      {\n        var _componentData$dragga;\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: componentData.src || 'https://via.placeholder.com/150?text=Image',\n          alt: componentData.alt || 'Hình ảnh',\n          style: {\n            maxWidth: componentData.maxWidth || '100%',\n            height: componentData.height || 'auto',\n            borderRadius: componentData.borderRadius || '0',\n            ...styles\n          },\n          draggable: (_componentData$dragga = componentData.draggable) !== null && _componentData$dragga !== void 0 ? _componentData$dragga : false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 17\n        }, this);\n      }\n    case 'form':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: componentData.direction || 'column',\n            gap: componentData.gap || '10px',\n            ...styles\n          },\n          children: [componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading') && /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              margin: componentData.titleMargin || '0',\n              fontSize: componentData.titleFontSize || '1.2rem',\n              color: componentData.titleColor || '#1f2937',\n              fontWeight: componentData.titleFontWeight || '600'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 25\n          }, this), Array.isArray(componentData.fields) && componentData.fields.length > 0 ? componentData.fields.map((field, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n            type: field.type || 'text',\n            placeholder: field.placeholder || field.label || 'Nhập...',\n            style: {\n              padding: field.padding || '8px',\n              borderRadius: field.borderRadius || '8px',\n              border: field.border || '1px solid #ccc',\n              fontSize: field.fontSize || '1rem'\n            }\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 29\n          }, this)) : !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'input') && /*#__PURE__*/_jsxDEV(\"input\", {\n            type: componentData.inputType || 'text',\n            placeholder: componentData.placeholder || 'Nhập...',\n            style: {\n              padding: componentData.inputPadding || '8px',\n              borderRadius: componentData.inputBorderRadius || '8px',\n              border: componentData.inputBorder || '1px solid #ccc',\n              fontSize: componentData.inputFontSize || '1rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 29\n          }, this), !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button') && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              background: componentData.buttonBackground || '#2563eb',\n              color: componentData.buttonColor || '#fff',\n              padding: componentData.buttonPadding || '8px 16px',\n              borderRadius: componentData.buttonBorderRadius || '8px',\n              border: componentData.buttonBorder || 'none',\n              cursor: 'pointer',\n              fontSize: componentData.buttonFontSize || '1rem',\n              fontWeight: componentData.buttonFontWeight || '600'\n            },\n            children: componentData.buttonText || 'Gửi'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 25\n          }, this), children.map((child, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: child.marginBottom || '10px'\n            },\n            children: renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id)\n          }, child.id || index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 719,\n          columnNumber: 17\n        }, this);\n      }\n    case 'section':\n    case 'container':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: componentData.layoutType || 'flex',\n            flexDirection: componentData.direction || 'column',\n            gap: componentData.gap || '10px',\n            padding: componentData.padding || '0',\n            background: componentData.background || 'transparent',\n            ...styles\n          },\n          children: [componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading') && /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.titleFontSize || '1.8rem',\n              margin: componentData.titleMargin || '0',\n              color: componentData.titleColor || '#1f2937',\n              fontWeight: componentData.titleFontWeight || '700'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 25\n          }, this), componentData.subtitle && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.subtitleFontSize || '1.2rem',\n              margin: componentData.subtitleMargin || '0',\n              color: componentData.subtitleColor || '#4b5563'\n            },\n            children: componentData.subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 25\n          }, this), componentData.content && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.contentFontSize || '1rem',\n              margin: componentData.contentMargin || '0',\n              color: componentData.contentColor || '#4b5563'\n            },\n            children: componentData.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 842,\n            columnNumber: 25\n          }, this), Array.isArray(componentData.features) && componentData.features.length > 0 && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'list') && /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              listStyle: 'none',\n              padding: componentData.featuresPadding || 0,\n              margin: componentData.featuresMargin || '0',\n              display: 'flex',\n              flexDirection: componentData.featuresDirection || 'column',\n              gap: componentData.featuresGap || '8px'\n            },\n            children: componentData.features.map((feature, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                fontSize: componentData.featureFontSize || '1rem',\n                color: componentData.featureColor || '#1f2937'\n              },\n              children: feature\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 865,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 25\n          }, this), componentData.ctaText && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button') && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: componentData.ctaPadding || '10px 20px',\n              borderRadius: componentData.ctaBorderRadius || '8px',\n              background: componentData.ctaBackground || '#2563eb',\n              color: componentData.ctaColor || '#fff',\n              border: componentData.ctaBorder || 'none',\n              cursor: 'pointer',\n              fontSize: componentData.ctaFontSize || '1rem',\n              fontWeight: componentData.ctaFontWeight || '600'\n            },\n            children: componentData.ctaText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 25\n          }, this), componentData.contact && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.contactFontSize || '0.9rem',\n              margin: componentData.contactMargin || '0',\n              color: componentData.contactColor || '#4b5563'\n            },\n            children: componentData.contact\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 25\n          }, this), children.map((child, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: child.marginBottom || '10px'\n            },\n            children: renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id)\n          }, child.id || index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 17\n        }, this);\n      }\n    case 'divider':\n      {\n        return /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            border: 'none',\n            background: componentData.color || '#e5e7eb',\n            height: componentData.thickness || '2px',\n            width: componentData.width || '100%',\n            margin: componentData.margin || '0',\n            ...styles\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 925,\n          columnNumber: 17\n        }, this);\n      }\n    case 'spacer':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: componentData.background || 'transparent',\n            height: componentData.height || '40px',\n            width: componentData.width || '100%',\n            ...styles\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 940,\n          columnNumber: 17\n        }, this);\n      }\n    case 'popup':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: componentData.direction || 'column',\n            gap: componentData.gap || '10px',\n            textAlign: componentData.textAlign || 'center',\n            padding: componentData.padding || '20px',\n            background: componentData.background || 'rgba(255, 255, 255, 0.9)',\n            borderRadius: componentData.borderRadius || '12px',\n            ...styles\n          },\n          children: [componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading') && /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.titleFontSize || '1.5rem',\n              margin: componentData.titleMargin || '0',\n              color: componentData.titleColor || '#1f2937',\n              fontWeight: componentData.titleFontWeight || '600'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 25\n          }, this), componentData.content && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.contentFontSize || '1rem',\n              margin: componentData.contentMargin || '0',\n              color: componentData.contentColor || '#4b5563'\n            },\n            children: componentData.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 25\n          }, this), componentData.buttonText && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button') && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: componentData.buttonPadding || '10px 20px',\n              borderRadius: componentData.buttonBorderRadius || '8px',\n              background: componentData.buttonBackground || '#2563eb',\n              color: componentData.buttonColor || '#fff',\n              border: componentData.buttonBorder || 'none',\n              cursor: 'pointer',\n              fontSize: componentData.buttonFontSize || '1rem',\n              fontWeight: componentData.buttonFontWeight || '600'\n            },\n            children: componentData.buttonText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 25\n          }, this), children.map((child, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: child.marginBottom || '10px'\n            },\n            children: renderComponentContent(child.type, child.componentData || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id)\n          }, child.id || index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 953,\n          columnNumber: 17\n        }, this);\n      }\n    case 'modal':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: componentData.direction || 'column',\n            gap: componentData.gap || '10px',\n            padding: componentData.padding || '20px',\n            background: componentData.background || 'rgba(255, 255, 255, 0.9)',\n            borderRadius: componentData.borderRadius || '12px',\n            ...styles\n          },\n          children: [componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading') && /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.titleFontSize || '1.5rem',\n              margin: componentData.titleMargin || '0',\n              color: componentData.titleColor || '#1f2937',\n              fontWeight: componentData.titleFontWeight || '600'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 25\n          }, this), componentData.content && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.contentFontSize || '1rem',\n              margin: componentData.contentMargin || '0',\n              color: componentData.contentColor || '#4b5563'\n            },\n            children: componentData.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1050,\n            columnNumber: 25\n          }, this), componentData.closeButton && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button') && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: componentData.buttonPadding || '8px 16px',\n              borderRadius: componentData.buttonBorderRadius || '8px',\n              background: componentData.buttonBackground || '#6b7280',\n              color: componentData.buttonColor || '#fff',\n              border: componentData.buttonBorder || 'none',\n              cursor: 'pointer',\n              alignSelf: 'flex-end',\n              fontSize: componentData.buttonFontSize || '1rem',\n              fontWeight: componentData.buttonFontWeight || '600'\n            },\n            children: componentData.buttonText || 'Đóng'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1062,\n            columnNumber: 25\n          }, this), children.map((child, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: child.marginBottom || '10px'\n            },\n            children: renderComponentContent(child.type, child.componentData || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id)\n          }, child.id || index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1079,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1025,\n          columnNumber: 17\n        }, this);\n      }\n    case 'card':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: componentData.padding || '20px',\n            background: componentData.background || '#ffffff',\n            borderRadius: componentData.borderRadius || '8px',\n            boxShadow: componentData.boxShadow || '0 2px 8px rgba(0,0,0,0.1)',\n            ...styles\n          },\n          children: [componentData.title && /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.titleFontSize || '1.2rem',\n              margin: componentData.titleMargin || '0',\n              color: componentData.titleColor || '#1f2937'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1107,\n            columnNumber: 25\n          }, this), componentData.content && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.contentFontSize || '1rem',\n              margin: componentData.contentMargin || '10px 0 0',\n              color: componentData.contentColor || '#4b5563'\n            },\n            children: componentData.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1119,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1097,\n          columnNumber: 17\n        }, this);\n      }\n    case 'grid':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: componentData.columns ? `repeat(${componentData.columns}, 1fr)` : 'repeat(2, 1fr)',\n            gap: componentData.gap || '20px',\n            ...styles\n          },\n          children: Array.isArray(componentData.items) && componentData.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: componentData.itemBackground || '#ffffff',\n              borderRadius: componentData.itemBorderRadius || '8px',\n              padding: componentData.itemPadding || '10px'\n            },\n            children: [item.image && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.image,\n              alt: item.title || 'Product',\n              style: {\n                maxWidth: '100%',\n                height: 'auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1155,\n              columnNumber: 37\n            }, this), item.title && /*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                ...getCleanTextStyles(styles),\n                fontSize: componentData.titleFontSize || '1rem',\n                margin: componentData.titleMargin || '10px 0 0',\n                color: componentData.titleColor || '#1f2937'\n              },\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1162,\n              columnNumber: 37\n            }, this), item.price && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                ...getCleanTextStyles(styles),\n                fontSize: componentData.priceFontSize || '0.9rem',\n                margin: componentData.priceMargin || '5px 0 0',\n                color: componentData.priceColor || '#4b5563'\n              },\n              children: item.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 37\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1146,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1136,\n          columnNumber: 17\n        }, this);\n      }\n    case 'list':\n      {\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            listStyleType: componentData.listStyleType || 'none',\n            padding: componentData.padding || '0',\n            ...styles\n          },\n          children: Array.isArray(componentData.items) && componentData.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              ...getCleanTextStyles(styles),\n              fontSize: componentData.itemFontSize || '1rem',\n              margin: componentData.itemMargin || '5px 0',\n              color: componentData.itemColor || '#1f2937'\n            },\n            children: item.title || item\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1202,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1193,\n          columnNumber: 17\n        }, this);\n      }\n    case 'gallery':\n      {\n        var _componentData$events2;\n        const {\n          images = [],\n          animation = {}\n        } = componentData;\n        const galleryClass = `gallery-${parentId || 'root'}-${childId || Date.now()}`;\n        const animationCSS = getGalleryAnimationCSS(animation, galleryClass);\n        const handleImageClick = (e, imageUrl, index) => {\n          e.stopPropagation();\n          if (isCanvas) {\n            if (typeof onSelectChild === 'function' && parentId && childId) {\n              onSelectChild(parentId, childId);\n            }\n            toast.info(`Mô phỏng: Mở lightbox cho ảnh ${index + 1}`, {\n              position: 'bottom-right',\n              autoClose: 2000\n            });\n          } else {\n            console.log(`Open image: ${imageUrl}`);\n          }\n        };\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [animationCSS && /*#__PURE__*/_jsxDEV(\"style\", {\n            children: animationCSS\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1240,\n            columnNumber: 38\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `lpb-gallery ${galleryClass}`,\n            style: {\n              ...styles,\n              cursor: (_componentData$events2 = componentData.events) !== null && _componentData$events2 !== void 0 && _componentData$events2.onClick ? 'pointer' : 'default'\n            },\n            onClick: e => {\n              e.stopPropagation();\n              if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n                onSelectChild(parentId, childId);\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: styles.display || 'grid',\n                gridTemplateColumns: styles.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))',\n                gap: styles.gap || '10px',\n                width: '100%'\n              },\n              children: images.map((imageUrl, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'relative',\n                  overflow: 'hidden',\n                  borderRadius: styles.borderRadius || '8px',\n                  aspectRatio: '1 / 1',\n                  cursor: 'pointer',\n                  transition: 'transform 0.3s ease'\n                },\n                onClick: e => handleImageClick(e, imageUrl, index),\n                onMouseEnter: e => {\n                  var _componentData$events3, _componentData$events4;\n                  if (((_componentData$events3 = componentData.events) === null || _componentData$events3 === void 0 ? void 0 : (_componentData$events4 = _componentData$events3.onHover) === null || _componentData$events4 === void 0 ? void 0 : _componentData$events4.type) === 'zoomIn') {\n                    e.currentTarget.style.transform = 'scale(1.05)';\n                  }\n                },\n                onMouseLeave: e => {\n                  var _componentData$events5, _componentData$events6;\n                  if (((_componentData$events5 = componentData.events) === null || _componentData$events5 === void 0 ? void 0 : (_componentData$events6 = _componentData$events5.onHover) === null || _componentData$events6 === void 0 ? void 0 : _componentData$events6.type) === 'zoomIn') {\n                    e.currentTarget.style.transform = 'scale(1)';\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: imageUrl || 'https://via.placeholder.com/150',\n                  alt: `Gallery ${index + 1}`,\n                  style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover'\n                  },\n                  loading: \"lazy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1285,\n                  columnNumber: 37\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1263,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1254,\n              columnNumber: 25\n            }, this), children.map((child, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: child.marginBottom || '10px'\n              },\n              children: renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id)\n            }, child.id || index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1299,\n              columnNumber: 29\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true);\n      }\n    default:\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: componentData.errorColor || '#ff0000',\n            padding: '10px',\n            border: '1px dashed #ff0000',\n            borderRadius: '4px',\n            ...styles\n          },\n          children: [\"Unknown Component: \", type]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1319,\n          columnNumber: 17\n        }, this);\n      }\n  }\n};\n\n// PropTypes for type checking\nrenderComponentContent.propTypes = {\n  type: PropTypes.string.isRequired,\n  componentData: PropTypes.object,\n  styles: PropTypes.object,\n  children: PropTypes.array,\n  isCanvas: PropTypes.bool,\n  onSelectChild: PropTypes.func,\n  parentId: PropTypes.string,\n  childId: PropTypes.string,\n  isTemplateMode: PropTypes.bool\n};\ngetCanvasPosition.propTypes = {\n  mouseX: PropTypes.number.isRequired,\n  mouseY: PropTypes.number.isRequired,\n  containerElement: PropTypes.instanceOf(Element),\n  zoomLevel: PropTypes.number.isRequired\n};\nsnapToGrid.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  gridSize: PropTypes.number.isRequired,\n  snapPoints: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number\n  }))\n};\ngetElementBounds.propTypes = {\n  element: PropTypes.shape({\n    position: PropTypes.shape({\n      desktop: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      })\n    }),\n    size: PropTypes.shape({\n      width: PropTypes.number,\n      height: PropTypes.number\n    })\n  }).isRequired\n};\nprocessStyles.propTypes = {\n  styles: PropTypes.object.isRequired,\n  className: PropTypes.string.isRequired\n};","map":{"version":3,"names":["PropTypes","toast","sections","eventController","jsxDEV","_jsxDEV","Fragment","_Fragment","ItemTypes","ELEMENT","EXISTING_ELEMENT","CHILD_ELEMENT","toKebabCase","str","replace","m","toLowerCase","getCanvasPosition","mouseX","mouseY","containerElement","zoomLevel","console","error","x","y","rect","getBoundingClientRect","scrollX","scrollLeft","scrollY","scrollTop","rawX","left","rawY","top","Math","max","snapToGrid","gridSize","snapPoints","snappedX","round","snappedY","forEach","point","abs","getElementBounds","element","_element$position","_element$position$des","_element$position2","_element$position2$de","_element$position3","_element$position3$de","_element$size","_element$position4","_element$position4$de","_element$size2","_element$position5","_element$position5$de","_element$size3","_element$position6","_element$position6$de","_element$size4","position","desktop","right","size","width","bottom","height","centerX","centerY","processStyles","styles","className","cssString","keyframes","Object","entries","key","value","startsWith","prop","val","p","v","frames","percentage","props","getCleanTextStyles","originalStyles","cleaned","propertiesToRemove","margin","boxSizing","display","getIconCSS","uniqueClass","hasImage","hoverCSS","activeCSS","keyframesCSS","iconStyles","hoverStyles","activeStyles","keys","animationName","trim","length","imgCSS","zIndex","isolation","stroke","strokeWidth","strokeLinecap","strokeLinejoin","getButtonCSS","buttonClass","buttonStyles","pseudoStyles","reduce","acc","pseudo","propsString","map","subPropsString","k","join","name","framesString","frame","getGalleryAnimationCSS","animation","galleryClass","type","animationCSS","duration","delay","renderComponentContent","componentData","children","isCanvas","onSelectChild","parentId","childId","isTemplateMode","style","color","errorColor","padding","border","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","structure","backgroundColor","backgroundImage","backgroundSize","backgroundPosition","overlayColor","opacity","overlayOpacity","child","index","marginBottom","id","_componentData$size","_componentData$size2","_componentData$size3","_componentData$size4","events","handleClick","e","stopPropagation","onClick","handleEvent","fill","_componentData$size5","_componentData$size6","d","gridTemplateColumns","columns","gap","background","_componentData$size7","_componentData$size8","_componentData$size9","_componentData$size0","icon","title","imageUrl","Date","now","isSvg","alignItems","justifyContent","cursor","src","alt","objectFit","dangerouslySetInnerHTML","__html","fontSize","headingLevel","level","includes","HeadingTag","fontWeight","textAlign","lineHeight","content","random","toString","substr","_componentData$events","event","info","apiUrl","autoClose","url","log","window","location","href","transition","minWidth","whiteSpace","_componentData$dragga","maxWidth","draggable","flexDirection","direction","some","titleMargin","titleFontSize","titleColor","titleFontWeight","Array","isArray","fields","field","placeholder","label","inputType","inputPadding","inputBorderRadius","inputBorder","inputFontSize","buttonBackground","buttonColor","buttonPadding","buttonBorderRadius","buttonBorder","buttonFontSize","buttonFontWeight","buttonText","layoutType","subtitle","subtitleFontSize","subtitleMargin","subtitleColor","contentFontSize","contentMargin","contentColor","features","listStyle","featuresPadding","featuresMargin","featuresDirection","featuresGap","feature","featureFontSize","featureColor","ctaText","ctaPadding","ctaBorderRadius","ctaBackground","ctaColor","ctaBorder","ctaFontSize","ctaFontWeight","contact","contactFontSize","contactMargin","contactColor","thickness","closeButton","alignSelf","boxShadow","items","item","itemBackground","itemBorderRadius","itemPadding","image","price","priceFontSize","priceMargin","priceColor","listStyleType","itemFontSize","itemMargin","itemColor","_componentData$events2","images","handleImageClick","overflow","aspectRatio","onMouseEnter","_componentData$events3","_componentData$events4","onHover","currentTarget","transform","onMouseLeave","_componentData$events5","_componentData$events6","loading","propTypes","string","isRequired","object","array","bool","func","number","instanceOf","Element","arrayOf","shape"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/helpers.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport { sections } from '../../constants/sections';\r\nimport eventController from '../../utils/EventController';\r\n\r\n// Constants\r\n/**\r\n * Item types for drag-and-drop functionality\r\n */\r\nexport const ItemTypes = {\r\n    ELEMENT: 'element',\r\n    EXISTING_ELEMENT: 'existingElement',\r\n    CHILD_ELEMENT: 'childElement',\r\n};\r\n\r\n// Utilities\r\n/**\r\n * Converts camelCase to kebab-case for CSS properties\r\n * @param {string} str - The camelCase string\r\n * @returns {string} The kebab-case string\r\n */\r\nconst toKebabCase = (str) =>\r\n    str.replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`);\r\n\r\n/**\r\n * Calculates precise coordinates within a canvas or section\r\n * @param {number} mouseX - Mouse X coordinate\r\n * @param {number} mouseY - Mouse Y coordinate\r\n * @param {HTMLElement} containerElement - The container element\r\n * @param {number} zoomLevel - Zoom level percentage\r\n * @returns {Object} Coordinates { x, y }\r\n */\r\nexport const getCanvasPosition = (mouseX, mouseY, containerElement, zoomLevel) => {\r\n    if (!containerElement) {\r\n        console.error('Container element is null in getCanvasPosition');\r\n        return { x: 0, y: 0 };\r\n    }\r\n\r\n    const rect = containerElement.getBoundingClientRect();\r\n    const scrollX = containerElement.scrollLeft || 0;\r\n    const scrollY = containerElement.scrollTop || 0;\r\n\r\n    const rawX = (mouseX - rect.left + scrollX) / (zoomLevel / 100);\r\n    const rawY = (mouseY - rect.top + scrollY) / (zoomLevel / 100);\r\n\r\n    return { x: Math.max(0, rawX), y: Math.max(0, rawY) };\r\n};\r\n\r\n/**\r\n * Snaps coordinates to grid or nearby snap points\r\n * @param {number} x - X coordinate\r\n * @param {number} y - Y coordinate\r\n * @param {number} gridSize - Size of the grid\r\n * @param {Array<Object>} snapPoints - Array of snap points { x, y }\r\n * @returns {Object} Snapped coordinates { x, y }\r\n */\r\nexport const snapToGrid = (x, y, gridSize, snapPoints = []) => {\r\n    let snappedX = Math.round(x / gridSize) * gridSize;\r\n    let snappedY = Math.round(y / gridSize) * gridSize;\r\n\r\n    snapPoints.forEach((point) => {\r\n        if (Math.abs(x - point.x) < 15) snappedX = point.x;\r\n        if (Math.abs(y - point.y) < 15) snappedY = point.y;\r\n    });\r\n\r\n    return { x: snappedX, y: snappedY };\r\n};\r\n\r\n/**\r\n * Calculates bounds of an element for snapping\r\n * @param {Object} element - Element object with position and size\r\n * @returns {Object} Bounds { left, top, right, bottom, centerX, centerY }\r\n */\r\nexport const getElementBounds = (element) => ({\r\n    left: element.position?.desktop?.x || 0,\r\n    top: element.position?.desktop?.y || 0,\r\n    right: (element.position?.desktop?.x || 0) + (element.size?.width || 200),\r\n    bottom: (element.position?.desktop?.y || 0) + (element.size?.height || 50),\r\n    centerX: (element.position?.desktop?.x || 0) + (element.size?.width || 200) / 2,\r\n    centerY: (element.position?.desktop?.y || 0) + (element.size?.height || 50) / 2,\r\n});\r\n\r\n/**\r\n * Processes styles including pseudo-classes and keyframes into CSS string\r\n * @param {Object} styles - Style object\r\n * @param {string} className - CSS class name\r\n * @returns {string} Generated CSS string\r\n */\r\nexport const processStyles = (styles, className) => {\r\n    let cssString = '';\r\n    const keyframes = {};\r\n\r\n    Object.entries(styles).forEach(([key, value]) => {\r\n        if (key.startsWith(':')) {\r\n            cssString += `.${className}${key} { `;\r\n            Object.entries(value).forEach(([prop, val]) => {\r\n                if (prop.startsWith('::')) {\r\n                    cssString += `.${className}${prop} { `;\r\n                    Object.entries(val).forEach(([p, v]) => {\r\n                        cssString += `${toKebabCase(p)}: ${v}; `;\r\n                    });\r\n                    cssString += '} ';\r\n                } else {\r\n                    cssString += `${toKebabCase(prop)}: ${val}; `;\r\n                }\r\n            });\r\n            cssString += '} ';\r\n        } else if (key.startsWith('@keyframes')) {\r\n            keyframes[key] = value;\r\n        } else {\r\n            cssString += `${toKebabCase(key)}: ${value}; `;\r\n        }\r\n    });\r\n\r\n    Object.entries(keyframes).forEach(([key, frames]) => {\r\n        cssString += `${key} { `;\r\n        Object.entries(frames).forEach(([percentage, props]) => {\r\n            cssString += `${percentage} { `;\r\n            Object.entries(props).forEach(([prop, val]) => {\r\n                cssString += `${toKebabCase(prop)}: ${val}; `;\r\n            });\r\n            cssString += '} ';\r\n        });\r\n        cssString += '} ';\r\n    });\r\n\r\n    return cssString;\r\n};\r\n\r\n// Component Rendering\r\n/**\r\n * Cleans styles for text-based elements by removing incompatible properties\r\n * @param {Object} originalStyles - Original style object\r\n * @returns {Object} Cleaned style object\r\n */\r\nconst getCleanTextStyles = (originalStyles) => {\r\n    const cleaned = { ...originalStyles };\r\n    const propertiesToRemove = [\r\n        'border',\r\n        'borderRadius',\r\n        'boxShadow',\r\n        'backgroundColor',\r\n        'background',\r\n        'backgroundImage',\r\n        'backgroundSize',\r\n        'backgroundPosition',\r\n        'padding',\r\n        'paddingLeft',\r\n        'paddingRight',\r\n        'paddingTop',\r\n        'paddingBottom',\r\n    ];\r\n\r\n    propertiesToRemove.forEach((prop) => delete cleaned[prop]);\r\n\r\n    return {\r\n        ...cleaned,\r\n        margin: cleaned.margin || '0',\r\n        boxSizing: 'border-box',\r\n        display: cleaned.display || 'block',\r\n        width: cleaned.width || '100%',\r\n        height: cleaned.height || 'auto',\r\n    };\r\n};\r\n\r\n/**\r\n * Generates CSS for icon component with pseudo-classes and keyframes\r\n * @param {Object} styles - Style object\r\n * @param {string} uniqueClass - Unique CSS class name\r\n * @param {boolean} hasImage - Whether the icon uses an image\r\n * @returns {string} Generated CSS string\r\n */\r\nconst getIconCSS = (styles, uniqueClass, hasImage) => {\r\n    let hoverCSS = '';\r\n    let activeCSS = '';\r\n    let keyframesCSS = '';\r\n\r\n    const iconStyles = { ...styles };\r\n    const hoverStyles = iconStyles[':hover'] || {};\r\n    const activeStyles = iconStyles[':active'] || {};\r\n\r\n    delete iconStyles[':hover'];\r\n    delete iconStyles[':active'];\r\n\r\n    Object.keys(iconStyles).forEach((key) => {\r\n        if (key.startsWith('@keyframes')) {\r\n            const animationName = key.replace('@keyframes ', '').trim();\r\n            const frames = iconStyles[key];\r\n            keyframesCSS += `@keyframes ${animationName} {`;\r\n            Object.entries(frames).forEach(([percentage, props]) => {\r\n                keyframesCSS += `${percentage} {`;\r\n                Object.entries(props).forEach(([prop, val]) => {\r\n                    keyframesCSS += `${toKebabCase(prop)}: ${val};`;\r\n                });\r\n                keyframesCSS += '}';\r\n            });\r\n            keyframesCSS += '}';\r\n            delete iconStyles[key];\r\n        }\r\n    });\r\n\r\n    if (Object.keys(hoverStyles).length > 0) {\r\n        hoverCSS = `.${uniqueClass}:hover {`;\r\n        Object.entries(hoverStyles).forEach(([key, value]) => {\r\n            hoverCSS += `${toKebabCase(key)}: ${value};`;\r\n        });\r\n        hoverCSS += '}';\r\n    }\r\n\r\n    if (Object.keys(activeStyles).length > 0) {\r\n        activeCSS = `.${uniqueClass}:active {`;\r\n        Object.entries(activeStyles).forEach(([key, value]) => {\r\n            activeCSS += `${toKebabCase(key)}: ${value};`;\r\n        });\r\n        activeCSS += '}';\r\n    }\r\n\r\n    const imgCSS = hasImage\r\n        ? `\r\n        .${uniqueClass} img {\r\n          width: 100%;\r\n          height: 100%;\r\n          object-fit: contain;\r\n        }\r\n      `\r\n        : '';\r\n\r\n    return `\r\n    .${uniqueClass} {\r\n      position: absolute;\r\n      z-index: ${iconStyles.zIndex || 10};\r\n      isolation: ${iconStyles.isolation || 'isolate'};\r\n    }\r\n    .${uniqueClass} svg {\r\n      width: 100%;\r\n      height: 100%;\r\n      fill: none;\r\n      stroke: ${iconStyles.stroke || 'currentColor'};\r\n      stroke-width: ${iconStyles.strokeWidth || 2};\r\n      stroke-linecap: ${iconStyles.strokeLinecap || 'round'};\r\n      stroke-linejoin: ${iconStyles.strokeLinejoin || 'round'};\r\n    }\r\n    ${imgCSS}\r\n    ${hoverCSS}\r\n    ${activeCSS}\r\n    ${keyframesCSS}\r\n  `;\r\n};\r\n\r\n/**\r\n * Generates CSS for button component with pseudo-classes and keyframes\r\n * @param {Object} styles - Style object\r\n * @param {string} buttonClass - Unique CSS class name\r\n * @returns {string} Generated CSS string\r\n */\r\nconst getButtonCSS = (styles, buttonClass) => {\r\n    const buttonStyles = { ...styles };\r\n    const pseudoStyles = {\r\n        ':hover': buttonStyles[':hover'] || {},\r\n        ':active': buttonStyles[':active'] || {},\r\n    };\r\n    const keyframes = {};\r\n\r\n    delete buttonStyles[':hover'];\r\n    delete buttonStyles[':active'];\r\n\r\n    Object.keys(buttonStyles).forEach((key) => {\r\n        if (key.startsWith('@keyframes')) {\r\n            keyframes[key.replace('@keyframes ', '').trim()] = buttonStyles[key];\r\n            delete buttonStyles[key];\r\n        }\r\n    });\r\n\r\n    let cssString = Object.entries(pseudoStyles).reduce((acc, [pseudo, props]) => {\r\n        if (Object.keys(props).length === 0) return acc;\r\n        const propsString = Object.entries(props).map(([key, value]) => {\r\n            if (key.startsWith('::')) {\r\n                const subPropsString = Object.entries(value).map(([k, v]) => `${toKebabCase(k)}: ${v};`).join(' ');\r\n                return `.${buttonClass}${key} { ${subPropsString} }`;\r\n            }\r\n            return `${toKebabCase(key)}: ${value};`;\r\n        }).join(' ');\r\n        return `${acc}.${buttonClass}${pseudo} { ${propsString} } `;\r\n    }, '');\r\n\r\n    cssString += Object.entries(keyframes).reduce((acc, [name, frames]) => {\r\n        const framesString = Object.entries(frames).map(([frame, props]) => {\r\n            const propsString = Object.entries(props).map(([key, value]) => `${toKebabCase(key)}: ${value};`).join(' ');\r\n            return `${frame} { ${propsString} }`;\r\n        }).join(' ');\r\n        return `${acc} @keyframes ${name} { ${framesString} }`;\r\n    }, '');\r\n\r\n    return cssString;\r\n};\r\n\r\n/**\r\n * Generates CSS for gallery animations\r\n * @param {Object} animation - Animation configuration\r\n * @param {string} galleryClass - Unique CSS class name\r\n * @returns {string} Generated CSS string\r\n */\r\nconst getGalleryAnimationCSS = (animation, galleryClass) => {\r\n    if (!animation?.type) return '';\r\n\r\n    const animationName = `${animation.type}-${galleryClass}`;\r\n    const animationCSS = `\r\n    @keyframes ${animationName} {\r\n      ${animation.type === 'fadeIn' ? `\r\n        from { opacity: 0; }\r\n        to { opacity: 1; }\r\n      ` : animation.type === 'fadeInUp' ? `\r\n        from { opacity: 0; transform: translateY(20px); }\r\n        to { opacity: 1; transform: translateY(0); }\r\n      ` : animation.type === 'slideInRight' ? `\r\n        from { transform: translateX(100%); }\r\n        to { transform: translateX(0); }\r\n      ` : animation.type === 'bounceIn' ? `\r\n        0% { opacity: 0; transform: scale(0.3); }\r\n        50% { opacity: 1; transform: scale(1.05); }\r\n        70% { transform: scale(0.9); }\r\n        100% { transform: scale(1); }\r\n      ` : ''}\r\n    }\r\n    .${galleryClass} {\r\n      animation: ${animationName} ${animation.duration || 800}ms ease-out ${animation.delay || 0}ms;\r\n    }\r\n  `;\r\n\r\n    return animationCSS;\r\n};\r\n\r\n/**\r\n * Renders content for different component types\r\n * @param {string} type - Component type\r\n * @param {Object} componentData - Component data\r\n * @param {Object} styles - Style object\r\n * @param {Array} children - Child components\r\n * @param {boolean} isCanvas - Whether in canvas mode\r\n * @param {Function} onSelectChild - Child selection callback\r\n * @param {string} parentId - Parent element ID\r\n * @param {string} childId - Child element ID\r\n * @param {boolean} isTemplateMode - Whether in template mode\r\n * @returns {JSX.Element} Rendered component\r\n */\r\nexport const renderComponentContent = (\r\n    type,\r\n    componentData = {},\r\n    styles = {},\r\n    children = [],\r\n    isCanvas = false,\r\n    onSelectChild = null,\r\n    parentId = null,\r\n    childId = null,\r\n    isTemplateMode = false\r\n) => {\r\n    // Validation\r\n    if (!type || typeof type !== 'string') {\r\n        return (\r\n            <div\r\n                style={{\r\n                    color: componentData.errorColor || '#ff0000',\r\n                    padding: '10px',\r\n                    border: '1px dashed #ff0000',\r\n                    borderRadius: '4px',\r\n                    ...styles,\r\n                }}\r\n            >\r\n                Unknown Component: {type || 'Không xác định'}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Section rendering\r\n    if (type === 'section' && componentData.structure === 'ladi-standard') {\r\n        return (\r\n            <div className=\"ladi-section\" style={{ ...styles, width: '100%', height: '100%' }}>\r\n                <div\r\n                    className=\"ladi-section-background\"\r\n                    style={{\r\n                        backgroundColor: componentData.backgroundColor || 'transparent',\r\n                        backgroundImage: componentData.backgroundImage ? `url(${componentData.backgroundImage})` : 'none',\r\n                        backgroundSize: 'cover',\r\n                        backgroundPosition: 'center',\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        zIndex: 0,\r\n                    }}\r\n                />\r\n                <div\r\n                    className=\"ladi-overlay\"\r\n                    style={{\r\n                        backgroundColor: componentData.overlayColor || 'transparent',\r\n                        opacity: componentData.overlayOpacity || 0,\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        zIndex: 0,\r\n                    }}\r\n                />\r\n                <div\r\n                    className=\"ladi-container\"\r\n                    style={{\r\n                        position: 'relative',\r\n                        zIndex: 1,\r\n                        padding: componentData.padding || '20px',\r\n                        width: '100%',\r\n                        height: '100%',\r\n                    }}\r\n                >\r\n                    {children.map((child, index) => (\r\n                        <div key={child.id || index} style={{ marginBottom: child.marginBottom || '10px' }}>\r\n                            {renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.styles || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Component-specific rendering\r\n    switch (type.toLowerCase()) {\r\n        case 'square': {\r\n            const { events = {} } = componentData;\r\n            const handleClick = (e) => {\r\n                e.stopPropagation();\r\n                if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                    onSelectChild(parentId, childId);\r\n                }\r\n                if (events.onClick) {\r\n                    eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\r\n                }\r\n            };\r\n\r\n            return (\r\n                <svg\r\n                    width={styles.width || componentData.size?.width || 50}\r\n                    height={styles.height || componentData.size?.height || 50}\r\n                    style={{ position: 'absolute', ...styles }}\r\n                    onClick={handleClick}\r\n                >\r\n                    <rect\r\n                        x=\"0\"\r\n                        y=\"0\"\r\n                        width={styles.width || componentData.size?.width || 50}\r\n                        height={styles.height || componentData.size?.height || 50}\r\n                        fill={styles.fill || componentData.fill || '#000'}\r\n                        stroke={styles.stroke || componentData.stroke || 'currentColor'}\r\n                        strokeWidth={styles.strokeWidth || componentData.strokeWidth || 2}\r\n                        strokeLinecap={styles.strokeLinecap || componentData.strokeLinecap || 'round'}\r\n                        strokeLinejoin={styles.strokeLinejoin || componentData.strokeLinejoin || 'round'}\r\n                    />\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        case 'star': {\r\n            const { events = {} } = componentData;\r\n            const handleClick = (e) => {\r\n                e.stopPropagation();\r\n                if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                    onSelectChild(parentId, childId);\r\n                }\r\n                if (events.onClick) {\r\n                    eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\r\n                }\r\n            };\r\n\r\n            return (\r\n                <svg\r\n                    width={styles.width || componentData.size?.width || 50}\r\n                    height={styles.height || componentData.size?.height || 50}\r\n                    style={{ position: 'absolute', ...styles }}\r\n                    onClick={handleClick}\r\n                >\r\n                    <path\r\n                        d=\"M25 5 L32 18 H48 L36 29 L41 44 L25 36 L9 44 L14 29 L2 18 H18 Z\"\r\n                        fill={styles.fill || componentData.fill || '#000'}\r\n                        stroke={styles.stroke || componentData.stroke || 'currentColor'}\r\n                        strokeWidth={styles.strokeWidth || componentData.strokeWidth || 2}\r\n                        strokeLinecap={styles.strokeLinecap || componentData.strokeLinecap || 'round'}\r\n                        strokeLinejoin={styles.strokeLinejoin || componentData.strokeLinejoin || 'round'}\r\n                    />\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        case 'layoutgrid': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: componentData.columns\r\n                            ? `repeat(${componentData.columns}, 1fr)`\r\n                            : styles.gridTemplateColumns || 'repeat(2, 1fr)',\r\n                        gap: componentData.gap || styles.gap || '20px',\r\n                        padding: componentData.padding || styles.padding || '10px',\r\n                        background: componentData.background || styles.background || 'transparent',\r\n                        ...styles,\r\n                    }}\r\n                >\r\n                    {children.map((child, index) => (\r\n                        <div key={child.id || index} style={{ marginBottom: child.marginBottom || '10px' }}>\r\n                            {renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.styles || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'icon': {\r\n            const { icon, events = {}, title, imageUrl } = componentData;\r\n            const uniqueClass = `icon-${parentId || 'root'}-${childId || Date.now()}`;\r\n            const isSvg = icon && icon.startsWith('<svg');\r\n\r\n            const handleClick = (e) => {\r\n                e.stopPropagation();\r\n                if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                    onSelectChild(parentId, childId);\r\n                }\r\n                if (events.onClick) {\r\n                    eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\r\n                }\r\n            };\r\n\r\n            const iconStyles = {\r\n                ...styles,\r\n                width: componentData.size?.width || styles.width || '50px',\r\n                height: componentData.size?.height || styles.height || '50px',\r\n                display: styles.display || 'flex',\r\n                alignItems: styles.alignItems || 'center',\r\n                justifyContent: styles.justifyContent || 'center',\r\n                cursor: events.onClick ? 'pointer' : 'default',\r\n                position: styles.position || 'absolute',\r\n            };\r\n\r\n            const cssString = getIconCSS(styles, uniqueClass, !!imageUrl);\r\n\r\n            return (\r\n                <>\r\n                    {cssString && <style>{cssString}</style>}\r\n                    <div className={`lpb-icon ${uniqueClass}`} style={iconStyles} onClick={handleClick} title={title || ''}>\r\n                        {imageUrl ? (\r\n                            <img src={imageUrl} alt={title || 'Icon'} style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n                        ) : isSvg ? (\r\n                            <div\r\n                                dangerouslySetInnerHTML={{ __html: icon }}\r\n                                style={{\r\n                                    width: componentData.size?.width || styles.width || '50px',\r\n                                    height: componentData.size?.height || styles.height || '50px',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                }}\r\n                            />\r\n                        ) : (\r\n                            icon && <i className={icon} style={{ fontSize: 'inherit', color: 'inherit' }} />\r\n                        )}\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n\r\n        case 'heading': {\r\n            const headingLevel = componentData.level && ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(componentData.level)\r\n                ? componentData.level\r\n                : 'h2';\r\n            const HeadingTag = headingLevel;\r\n            return (\r\n                <HeadingTag\r\n                    style={{\r\n                        ...getCleanTextStyles(styles),\r\n                        fontSize: componentData.fontSize || '1.5rem',\r\n                        color: componentData.color || '#1f2937',\r\n                        margin: componentData.margin || '0',\r\n                        fontWeight: componentData.fontWeight || '700',\r\n                        textAlign: componentData.textAlign || 'left',\r\n                        lineHeight: componentData.lineHeight || '1.4',\r\n                    }}\r\n                >\r\n                    {componentData.content || 'Tiêu đề'}\r\n                </HeadingTag>\r\n            );\r\n        }\r\n\r\n        case 'paragraph': {\r\n            return (\r\n                <p\r\n                    style={{\r\n                        ...getCleanTextStyles(styles),\r\n                        fontSize: componentData.fontSize || '1rem',\r\n                        color: componentData.color || '#1f2937',\r\n                        margin: componentData.margin || '0',\r\n                        fontWeight: componentData.fontWeight || '400',\r\n                        lineHeight: componentData.lineHeight || '1.6',\r\n                        textAlign: componentData.textAlign || 'left',\r\n                    }}\r\n                >\r\n                    {componentData.content || 'Đoạn văn'}\r\n                </p>\r\n            );\r\n        }\r\n\r\n        case 'button': {\r\n            const buttonClass = `button-${componentData.id || Math.random().toString(36).substr(2, 9)}`;\r\n            const cssString = getButtonCSS(styles, buttonClass);\r\n\r\n            const handleClick = (e) => {\r\n                e.stopPropagation();\r\n                if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                    onSelectChild(parentId, childId);\r\n                }\r\n                if (componentData.events?.onClick) {\r\n                    eventController.handleEvent(componentData.events.onClick, childId || parentId, isCanvas);\r\n                    const event = componentData.events.onClick;\r\n                    if (isCanvas) {\r\n                        if (event.type === 'submitForm') {\r\n                            toast.info(`Mô phỏng: Gửi form đến ${event.apiUrl}`, {\r\n                                position: 'bottom-right',\r\n                                autoClose: 2000,\r\n                            });\r\n                        } else if (event.type === 'navigate') {\r\n                            toast.info(`Mô phỏng: Điều hướng đến ${event.url}`, {\r\n                                position: 'bottom-right',\r\n                                autoClose: 2000,\r\n                            });\r\n                        } else if (event.type === 'triggerApi') {\r\n                            toast.info(`Mô phỏng: Gọi API ${event.apiUrl}`, {\r\n                                position: 'bottom-right',\r\n                                autoClose: 2000,\r\n                            });\r\n                        }\r\n                    } else {\r\n                        if (event.type === 'submitForm') {\r\n                            console.log(`Submitting form to ${event.apiUrl}`);\r\n                        } else if (event.type === 'navigate') {\r\n                            window.location.href = event.url;\r\n                        } else if (event.type === 'triggerApi') {\r\n                            console.log(`Trigger API: ${event.apiUrl}`);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            return (\r\n                <>\r\n                    {cssString && <style>{cssString}</style>}\r\n                    <button\r\n                        className={buttonClass}\r\n                        style={{\r\n                            ...styles,\r\n                            padding: styles.padding || componentData.padding || '10px 20px',\r\n                            borderRadius: styles.borderRadius || componentData.borderRadius || '8px',\r\n                            background: styles.background || componentData.background || '#2563eb',\r\n                            color: styles.color || componentData.color || '#fff',\r\n                            border: styles.border || componentData.border || 'none',\r\n                            cursor: styles.cursor || 'pointer',\r\n                            fontSize: styles.fontSize || componentData.fontSize || '1rem',\r\n                            fontWeight: styles.fontWeight || componentData.fontWeight || '600',\r\n                            textAlign: styles.textAlign || componentData.textAlign || 'center',\r\n                            display: styles.display || 'inline-flex',\r\n                            alignItems: styles.alignItems || 'center',\r\n                            justifyContent: styles.justifyContent || 'center',\r\n                            transition: styles.transition || 'all 0.3s ease',\r\n                            boxSizing: 'border-box',\r\n                            width: styles.width || 'auto',\r\n                            minWidth: styles.minWidth || 'fit-content',\r\n                            whiteSpace: 'nowrap',\r\n                        }}\r\n                        onClick={handleClick}\r\n                    >\r\n                        {componentData.content || 'Nút'}\r\n                    </button>\r\n                </>\r\n            );\r\n        }\r\n\r\n        case 'image': {\r\n            return (\r\n                <img\r\n                    src={componentData.src || 'https://via.placeholder.com/150?text=Image'}\r\n                    alt={componentData.alt || 'Hình ảnh'}\r\n                    style={{\r\n                        maxWidth: componentData.maxWidth || '100%',\r\n                        height: componentData.height || 'auto',\r\n                        borderRadius: componentData.borderRadius || '0',\r\n                        ...styles,\r\n                    }}\r\n                    draggable={componentData.draggable ?? false}\r\n                />\r\n            );\r\n        }\r\n\r\n        case 'form': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        flexDirection: componentData.direction || 'column',\r\n                        gap: componentData.gap || '10px',\r\n                        ...styles,\r\n                    }}\r\n                >\r\n                    {componentData.title && !children.some((child) => child?.type === 'heading') && (\r\n                        <h3\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                margin: componentData.titleMargin || '0',\r\n                                fontSize: componentData.titleFontSize || '1.2rem',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                                fontWeight: componentData.titleFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h3>\r\n                    )}\r\n                    {Array.isArray(componentData.fields) && componentData.fields.length > 0 ? (\r\n                        componentData.fields.map((field, index) => (\r\n                            <input\r\n                                key={index}\r\n                                type={field.type || 'text'}\r\n                                placeholder={field.placeholder || field.label || 'Nhập...'}\r\n                                style={{\r\n                                    padding: field.padding || '8px',\r\n                                    borderRadius: field.borderRadius || '8px',\r\n                                    border: field.border || '1px solid #ccc',\r\n                                    fontSize: field.fontSize || '1rem',\r\n                                }}\r\n                            />\r\n                        ))\r\n                    ) : (\r\n                        !children.some((child) => child?.type === 'input') && (\r\n                            <input\r\n                                type={componentData.inputType || 'text'}\r\n                                placeholder={componentData.placeholder || 'Nhập...'}\r\n                                style={{\r\n                                    padding: componentData.inputPadding || '8px',\r\n                                    borderRadius: componentData.inputBorderRadius || '8px',\r\n                                    border: componentData.inputBorder || '1px solid #ccc',\r\n                                    fontSize: componentData.inputFontSize || '1rem',\r\n                                }}\r\n                            />\r\n                        )\r\n                    )}\r\n                    {!children.some((child) => child?.type === 'button') && (\r\n                        <button\r\n                            type=\"submit\"\r\n                            style={{\r\n                                background: componentData.buttonBackground || '#2563eb',\r\n                                color: componentData.buttonColor || '#fff',\r\n                                padding: componentData.buttonPadding || '8px 16px',\r\n                                borderRadius: componentData.buttonBorderRadius || '8px',\r\n                                border: componentData.buttonBorder || 'none',\r\n                                cursor: 'pointer',\r\n                                fontSize: componentData.buttonFontSize || '1rem',\r\n                                fontWeight: componentData.buttonFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.buttonText || 'Gửi'}\r\n                        </button>\r\n                    )}\r\n                    {children.map((child, index) => (\r\n                        <div key={child.id || index} style={{ marginBottom: child.marginBottom || '10px' }}>\r\n                            {renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.styles || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'section':\r\n        case 'container': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: componentData.layoutType || 'flex',\r\n                        flexDirection: componentData.direction || 'column',\r\n                        gap: componentData.gap || '10px',\r\n                        padding: componentData.padding || '0',\r\n                        background: componentData.background || 'transparent',\r\n                        ...styles,\r\n                    }}\r\n                >\r\n                    {componentData.title && !children.some((child) => child?.type === 'heading') && (\r\n                        <h2\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.titleFontSize || '1.8rem',\r\n                                margin: componentData.titleMargin || '0',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                                fontWeight: componentData.titleFontWeight || '700',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h2>\r\n                    )}\r\n                    {componentData.subtitle && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.subtitleFontSize || '1.2rem',\r\n                                margin: componentData.subtitleMargin || '0',\r\n                                color: componentData.subtitleColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.subtitle}\r\n                        </p>\r\n                    )}\r\n                    {componentData.content && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.contentFontSize || '1rem',\r\n                                margin: componentData.contentMargin || '0',\r\n                                color: componentData.contentColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.content}\r\n                        </p>\r\n                    )}\r\n                    {Array.isArray(componentData.features) && componentData.features.length > 0 && !children.some((child) => child?.type === 'list') && (\r\n                        <ul\r\n                            style={{\r\n                                listStyle: 'none',\r\n                                padding: componentData.featuresPadding || 0,\r\n                                margin: componentData.featuresMargin || '0',\r\n                                display: 'flex',\r\n                                flexDirection: componentData.featuresDirection || 'column',\r\n                                gap: componentData.featuresGap || '8px',\r\n                            }}\r\n                        >\r\n                            {componentData.features.map((feature, index) => (\r\n                                <li\r\n                                    key={index}\r\n                                    style={{\r\n                                        fontSize: componentData.featureFontSize || '1rem',\r\n                                        color: componentData.featureColor || '#1f2937',\r\n                                    }}\r\n                                >\r\n                                    {feature}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )}\r\n                    {componentData.ctaText && !children.some((child) => child?.type === 'button') && (\r\n                        <button\r\n                            style={{\r\n                                padding: componentData.ctaPadding || '10px 20px',\r\n                                borderRadius: componentData.ctaBorderRadius || '8px',\r\n                                background: componentData.ctaBackground || '#2563eb',\r\n                                color: componentData.ctaColor || '#fff',\r\n                                border: componentData.ctaBorder || 'none',\r\n                                cursor: 'pointer',\r\n                                fontSize: componentData.ctaFontSize || '1rem',\r\n                                fontWeight: componentData.ctaFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.ctaText}\r\n                        </button>\r\n                    )}\r\n                    {componentData.contact && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.contactFontSize || '0.9rem',\r\n                                margin: componentData.contactMargin || '0',\r\n                                color: componentData.contactColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.contact}\r\n                        </p>\r\n                    )}\r\n                    {children.map((child, index) => (\r\n                        <div key={child.id || index} style={{ marginBottom: child.marginBottom || '10px' }}>\r\n                            {renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.styles || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'divider': {\r\n            return (\r\n                <hr\r\n                    style={{\r\n                        border: 'none',\r\n                        background: componentData.color || '#e5e7eb',\r\n                        height: componentData.thickness || '2px',\r\n                        width: componentData.width || '100%',\r\n                        margin: componentData.margin || '0',\r\n                        ...styles,\r\n                    }}\r\n                />\r\n            );\r\n        }\r\n\r\n        case 'spacer': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        background: componentData.background || 'transparent',\r\n                        height: componentData.height || '40px',\r\n                        width: componentData.width || '100%',\r\n                        ...styles,\r\n                    }}\r\n                />\r\n            );\r\n        }\r\n\r\n        case 'popup': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        flexDirection: componentData.direction || 'column',\r\n                        gap: componentData.gap || '10px',\r\n                        textAlign: componentData.textAlign || 'center',\r\n                        padding: componentData.padding || '20px',\r\n                        background: componentData.background || 'rgba(255, 255, 255, 0.9)',\r\n                        borderRadius: componentData.borderRadius || '12px',\r\n                        ...styles,\r\n                    }}\r\n                >\r\n                    {componentData.title && !children.some((child) => child?.type === 'heading') && (\r\n                        <h3\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.titleFontSize || '1.5rem',\r\n                                margin: componentData.titleMargin || '0',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                                fontWeight: componentData.titleFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h3>\r\n                    )}\r\n                    {componentData.content && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.contentFontSize || '1rem',\r\n                                margin: componentData.contentMargin || '0',\r\n                                color: componentData.contentColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.content}\r\n                        </p>\r\n                    )}\r\n                    {componentData.buttonText && !children.some((child) => child?.type === 'button') && (\r\n                        <button\r\n                            style={{\r\n                                padding: componentData.buttonPadding || '10px 20px',\r\n                                borderRadius: componentData.buttonBorderRadius || '8px',\r\n                                background: componentData.buttonBackground || '#2563eb',\r\n                                color: componentData.buttonColor || '#fff',\r\n                                border: componentData.buttonBorder || 'none',\r\n                                cursor: 'pointer',\r\n                                fontSize: componentData.buttonFontSize || '1rem',\r\n                                fontWeight: componentData.buttonFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.buttonText}\r\n                        </button>\r\n                    )}\r\n                    {children.map((child, index) => (\r\n                        <div key={child.id || index} style={{ marginBottom: child.marginBottom || '10px' }}>\r\n                            {renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'modal': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        flexDirection: componentData.direction || 'column',\r\n                        gap: componentData.gap || '10px',\r\n                        padding: componentData.padding || '20px',\r\n                        background: componentData.background || 'rgba(255, 255, 255, 0.9)',\r\n                        borderRadius: componentData.borderRadius || '12px',\r\n                        ...styles,\r\n                    }}\r\n                >\r\n                    {componentData.title && !children.some((child) => child?.type === 'heading') && (\r\n                        <h3\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.titleFontSize || '1.5rem',\r\n                                margin: componentData.titleMargin || '0',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                                fontWeight: componentData.titleFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h3>\r\n                    )}\r\n                    {componentData.content && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.contentFontSize || '1rem',\r\n                                margin: componentData.contentMargin || '0',\r\n                                color: componentData.contentColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.content}\r\n                        </p>\r\n                    )}\r\n                    {componentData.closeButton && !children.some((child) => child?.type === 'button') && (\r\n                        <button\r\n                            style={{\r\n                                padding: componentData.buttonPadding || '8px 16px',\r\n                                borderRadius: componentData.buttonBorderRadius || '8px',\r\n                                background: componentData.buttonBackground || '#6b7280',\r\n                                color: componentData.buttonColor || '#fff',\r\n                                border: componentData.buttonBorder || 'none',\r\n                                cursor: 'pointer',\r\n                                alignSelf: 'flex-end',\r\n                                fontSize: componentData.buttonFontSize || '1rem',\r\n                                fontWeight: componentData.buttonFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.buttonText || 'Đóng'}\r\n                        </button>\r\n                    )}\r\n                    {children.map((child, index) => (\r\n                        <div key={child.id || index} style={{ marginBottom: child.marginBottom || '10px' }}>\r\n                            {renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'card': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        padding: componentData.padding || '20px',\r\n                        background: componentData.background || '#ffffff',\r\n                        borderRadius: componentData.borderRadius || '8px',\r\n                        boxShadow: componentData.boxShadow || '0 2px 8px rgba(0,0,0,0.1)',\r\n                        ...styles,\r\n                    }}\r\n                >\r\n                    {componentData.title && (\r\n                        <h3\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.titleFontSize || '1.2rem',\r\n                                margin: componentData.titleMargin || '0',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h3>\r\n                    )}\r\n                    {componentData.content && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(styles),\r\n                                fontSize: componentData.contentFontSize || '1rem',\r\n                                margin: componentData.contentMargin || '10px 0 0',\r\n                                color: componentData.contentColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.content}\r\n                        </p>\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'grid': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: componentData.columns ? `repeat(${componentData.columns}, 1fr)` : 'repeat(2, 1fr)',\r\n                        gap: componentData.gap || '20px',\r\n                        ...styles,\r\n                    }}\r\n                >\r\n                    {Array.isArray(componentData.items) &&\r\n                        componentData.items.map((item, index) => (\r\n                            <div\r\n                                key={index}\r\n                                style={{\r\n                                    background: componentData.itemBackground || '#ffffff',\r\n                                    borderRadius: componentData.itemBorderRadius || '8px',\r\n                                    padding: componentData.itemPadding || '10px',\r\n                                }}\r\n                            >\r\n                                {item.image && (\r\n                                    <img\r\n                                        src={item.image}\r\n                                        alt={item.title || 'Product'}\r\n                                        style={{ maxWidth: '100%', height: 'auto' }}\r\n                                    />\r\n                                )}\r\n                                {item.title && (\r\n                                    <h4\r\n                                        style={{\r\n                                            ...getCleanTextStyles(styles),\r\n                                            fontSize: componentData.titleFontSize || '1rem',\r\n                                            margin: componentData.titleMargin || '10px 0 0',\r\n                                            color: componentData.titleColor || '#1f2937',\r\n                                        }}\r\n                                    >\r\n                                        {item.title}\r\n                                    </h4>\r\n                                )}\r\n                                {item.price && (\r\n                                    <p\r\n                                        style={{\r\n                                            ...getCleanTextStyles(styles),\r\n                                            fontSize: componentData.priceFontSize || '0.9rem',\r\n                                            margin: componentData.priceMargin || '5px 0 0',\r\n                                            color: componentData.priceColor || '#4b5563',\r\n                                        }}\r\n                                    >\r\n                                        {item.price}\r\n                                    </p>\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'list': {\r\n            return (\r\n                <ul\r\n                    style={{\r\n                        listStyleType: componentData.listStyleType || 'none',\r\n                        padding: componentData.padding || '0',\r\n                        ...styles,\r\n                    }}\r\n                >\r\n                    {Array.isArray(componentData.items) &&\r\n                        componentData.items.map((item, index) => (\r\n                            <li\r\n                                key={index}\r\n                                style={{\r\n                                    ...getCleanTextStyles(styles),\r\n                                    fontSize: componentData.itemFontSize || '1rem',\r\n                                    margin: componentData.itemMargin || '5px 0',\r\n                                    color: componentData.itemColor || '#1f2937',\r\n                                }}\r\n                            >\r\n                                {item.title || item}\r\n                            </li>\r\n                        ))}\r\n                </ul>\r\n            );\r\n        }\r\n\r\n        case 'gallery': {\r\n            const { images = [], animation = {} } = componentData;\r\n            const galleryClass = `gallery-${parentId || 'root'}-${childId || Date.now()}`;\r\n            const animationCSS = getGalleryAnimationCSS(animation, galleryClass);\r\n\r\n            const handleImageClick = (e, imageUrl, index) => {\r\n                e.stopPropagation();\r\n                if (isCanvas) {\r\n                    if (typeof onSelectChild === 'function' && parentId && childId) {\r\n                        onSelectChild(parentId, childId);\r\n                    }\r\n                    toast.info(`Mô phỏng: Mở lightbox cho ảnh ${index + 1}`, {\r\n                        position: 'bottom-right',\r\n                        autoClose: 2000,\r\n                    });\r\n                } else {\r\n                    console.log(`Open image: ${imageUrl}`);\r\n                }\r\n            };\r\n\r\n            return (\r\n                <>\r\n                    {animationCSS && <style>{animationCSS}</style>}\r\n                    <div\r\n                        className={`lpb-gallery ${galleryClass}`}\r\n                        style={{\r\n                            ...styles,\r\n                            cursor: componentData.events?.onClick ? 'pointer' : 'default',\r\n                        }}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                                onSelectChild(parentId, childId);\r\n                            }\r\n                        }}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                display: styles.display || 'grid',\r\n                                gridTemplateColumns: styles.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))',\r\n                                gap: styles.gap || '10px',\r\n                                width: '100%',\r\n                            }}\r\n                        >\r\n                            {images.map((imageUrl, index) => (\r\n                                <div\r\n                                    key={index}\r\n                                    style={{\r\n                                        position: 'relative',\r\n                                        overflow: 'hidden',\r\n                                        borderRadius: styles.borderRadius || '8px',\r\n                                        aspectRatio: '1 / 1',\r\n                                        cursor: 'pointer',\r\n                                        transition: 'transform 0.3s ease',\r\n                                    }}\r\n                                    onClick={(e) => handleImageClick(e, imageUrl, index)}\r\n                                    onMouseEnter={(e) => {\r\n                                        if (componentData.events?.onHover?.type === 'zoomIn') {\r\n                                            e.currentTarget.style.transform = 'scale(1.05)';\r\n                                        }\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        if (componentData.events?.onHover?.type === 'zoomIn') {\r\n                                            e.currentTarget.style.transform = 'scale(1)';\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        src={imageUrl || 'https://via.placeholder.com/150'}\r\n                                        alt={`Gallery ${index + 1}`}\r\n                                        style={{\r\n                                            width: '100%',\r\n                                            height: '100%',\r\n                                            objectFit: 'cover',\r\n                                        }}\r\n                                        loading=\"lazy\"\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        {children.map((child, index) => (\r\n                            <div key={child.id || index} style={{ marginBottom: child.marginBottom || '10px' }}>\r\n                                {renderComponentContent(\r\n                                    child.type,\r\n                                    child.componentData || {},\r\n                                    child.styles || {},\r\n                                    child.children || [],\r\n                                    isCanvas,\r\n                                    onSelectChild,\r\n                                    parentId,\r\n                                    child.id\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n\r\n        default: {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        color: componentData.errorColor || '#ff0000',\r\n                        padding: '10px',\r\n                        border: '1px dashed #ff0000',\r\n                        borderRadius: '4px',\r\n                        ...styles,\r\n                    }}\r\n                >\r\n                    Unknown Component: {type}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n// PropTypes for type checking\r\nrenderComponentContent.propTypes = {\r\n    type: PropTypes.string.isRequired,\r\n    componentData: PropTypes.object,\r\n    styles: PropTypes.object,\r\n    children: PropTypes.array,\r\n    isCanvas: PropTypes.bool,\r\n    onSelectChild: PropTypes.func,\r\n    parentId: PropTypes.string,\r\n    childId: PropTypes.string,\r\n    isTemplateMode: PropTypes.bool,\r\n};\r\n\r\ngetCanvasPosition.propTypes = {\r\n    mouseX: PropTypes.number.isRequired,\r\n    mouseY: PropTypes.number.isRequired,\r\n    containerElement: PropTypes.instanceOf(Element),\r\n    zoomLevel: PropTypes.number.isRequired,\r\n};\r\n\r\nsnapToGrid.propTypes = {\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    gridSize: PropTypes.number.isRequired,\r\n    snapPoints: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            x: PropTypes.number,\r\n            y: PropTypes.number,\r\n        })\r\n    ),\r\n};\r\n\r\ngetElementBounds.propTypes = {\r\n    element: PropTypes.shape({\r\n        position: PropTypes.shape({\r\n            desktop: PropTypes.shape({\r\n                x: PropTypes.number,\r\n                y: PropTypes.number,\r\n            }),\r\n        }),\r\n        size: PropTypes.shape({\r\n            width: PropTypes.number,\r\n            height: PropTypes.number,\r\n        }),\r\n    }).isRequired,\r\n};\r\n\r\nprocessStyles.propTypes = {\r\n    styles: PropTypes.object.isRequired,\r\n    className: PropTypes.string.isRequired,\r\n};"],"mappings":";AAAA,OAAOA,SAAS,MAAM,YAAY;AAClC,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,OAAOC,eAAe,MAAM,6BAA6B;;AAEzD;AACA;AACA;AACA;AAFA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAGA,OAAO,MAAMC,SAAS,GAAG;EACrBC,OAAO,EAAE,SAAS;EAClBC,gBAAgB,EAAE,iBAAiB;EACnCC,aAAa,EAAE;AACnB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,WAAW,GAAIC,GAAG,IACpBA,GAAG,CAACC,OAAO,CAAC,QAAQ,EAAGC,CAAC,IAAK,IAAIA,CAAC,CAACC,WAAW,CAAC,CAAC,EAAE,CAAC;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAGA,CAACC,MAAM,EAAEC,MAAM,EAAEC,gBAAgB,EAAEC,SAAS,KAAK;EAC9E,IAAI,CAACD,gBAAgB,EAAE;IACnBE,OAAO,CAACC,KAAK,CAAC,gDAAgD,CAAC;IAC/D,OAAO;MAAEC,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAC;EACzB;EAEA,MAAMC,IAAI,GAAGN,gBAAgB,CAACO,qBAAqB,CAAC,CAAC;EACrD,MAAMC,OAAO,GAAGR,gBAAgB,CAACS,UAAU,IAAI,CAAC;EAChD,MAAMC,OAAO,GAAGV,gBAAgB,CAACW,SAAS,IAAI,CAAC;EAE/C,MAAMC,IAAI,GAAG,CAACd,MAAM,GAAGQ,IAAI,CAACO,IAAI,GAAGL,OAAO,KAAKP,SAAS,GAAG,GAAG,CAAC;EAC/D,MAAMa,IAAI,GAAG,CAACf,MAAM,GAAGO,IAAI,CAACS,GAAG,GAAGL,OAAO,KAAKT,SAAS,GAAG,GAAG,CAAC;EAE9D,OAAO;IAAEG,CAAC,EAAEY,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEL,IAAI,CAAC;IAAEP,CAAC,EAAEW,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEH,IAAI;EAAE,CAAC;AACzD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMI,UAAU,GAAGA,CAACd,CAAC,EAAEC,CAAC,EAAEc,QAAQ,EAAEC,UAAU,GAAG,EAAE,KAAK;EAC3D,IAAIC,QAAQ,GAAGL,IAAI,CAACM,KAAK,CAAClB,CAAC,GAAGe,QAAQ,CAAC,GAAGA,QAAQ;EAClD,IAAII,QAAQ,GAAGP,IAAI,CAACM,KAAK,CAACjB,CAAC,GAAGc,QAAQ,CAAC,GAAGA,QAAQ;EAElDC,UAAU,CAACI,OAAO,CAAEC,KAAK,IAAK;IAC1B,IAAIT,IAAI,CAACU,GAAG,CAACtB,CAAC,GAAGqB,KAAK,CAACrB,CAAC,CAAC,GAAG,EAAE,EAAEiB,QAAQ,GAAGI,KAAK,CAACrB,CAAC;IAClD,IAAIY,IAAI,CAACU,GAAG,CAACrB,CAAC,GAAGoB,KAAK,CAACpB,CAAC,CAAC,GAAG,EAAE,EAAEkB,QAAQ,GAAGE,KAAK,CAACpB,CAAC;EACtD,CAAC,CAAC;EAEF,OAAO;IAAED,CAAC,EAAEiB,QAAQ;IAAEhB,CAAC,EAAEkB;EAAS,CAAC;AACvC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMI,gBAAgB,GAAIC,OAAO;EAAA,IAAAC,iBAAA,EAAAC,qBAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,aAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,cAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,cAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,cAAA;EAAA,OAAM;IAC1C/B,IAAI,EAAE,EAAAgB,iBAAA,GAAAD,OAAO,CAACiB,QAAQ,cAAAhB,iBAAA,wBAAAC,qBAAA,GAAhBD,iBAAA,CAAkBiB,OAAO,cAAAhB,qBAAA,uBAAzBA,qBAAA,CAA2B1B,CAAC,KAAI,CAAC;IACvCW,GAAG,EAAE,EAAAgB,kBAAA,GAAAH,OAAO,CAACiB,QAAQ,cAAAd,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBe,OAAO,cAAAd,qBAAA,uBAAzBA,qBAAA,CAA2B3B,CAAC,KAAI,CAAC;IACtC0C,KAAK,EAAE,CAAC,EAAAd,kBAAA,GAAAL,OAAO,CAACiB,QAAQ,cAAAZ,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBa,OAAO,cAAAZ,qBAAA,uBAAzBA,qBAAA,CAA2B9B,CAAC,KAAI,CAAC,KAAK,EAAA+B,aAAA,GAAAP,OAAO,CAACoB,IAAI,cAAAb,aAAA,uBAAZA,aAAA,CAAcc,KAAK,KAAI,GAAG,CAAC;IACzEC,MAAM,EAAE,CAAC,EAAAd,kBAAA,GAAAR,OAAO,CAACiB,QAAQ,cAAAT,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBU,OAAO,cAAAT,qBAAA,uBAAzBA,qBAAA,CAA2BhC,CAAC,KAAI,CAAC,KAAK,EAAAiC,cAAA,GAAAV,OAAO,CAACoB,IAAI,cAAAV,cAAA,uBAAZA,cAAA,CAAca,MAAM,KAAI,EAAE,CAAC;IAC1EC,OAAO,EAAE,CAAC,EAAAb,kBAAA,GAAAX,OAAO,CAACiB,QAAQ,cAAAN,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBO,OAAO,cAAAN,qBAAA,uBAAzBA,qBAAA,CAA2BpC,CAAC,KAAI,CAAC,IAAI,CAAC,EAAAqC,cAAA,GAAAb,OAAO,CAACoB,IAAI,cAAAP,cAAA,uBAAZA,cAAA,CAAcQ,KAAK,KAAI,GAAG,IAAI,CAAC;IAC/EI,OAAO,EAAE,CAAC,EAAAX,kBAAA,GAAAd,OAAO,CAACiB,QAAQ,cAAAH,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBI,OAAO,cAAAH,qBAAA,uBAAzBA,qBAAA,CAA2BtC,CAAC,KAAI,CAAC,IAAI,CAAC,EAAAuC,cAAA,GAAAhB,OAAO,CAACoB,IAAI,cAAAJ,cAAA,uBAAZA,cAAA,CAAcO,MAAM,KAAI,EAAE,IAAI;EAClF,CAAC;AAAA,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMG,aAAa,GAAGA,CAACC,MAAM,EAAEC,SAAS,KAAK;EAChD,IAAIC,SAAS,GAAG,EAAE;EAClB,MAAMC,SAAS,GAAG,CAAC,CAAC;EAEpBC,MAAM,CAACC,OAAO,CAACL,MAAM,CAAC,CAAC/B,OAAO,CAAC,CAAC,CAACqC,GAAG,EAAEC,KAAK,CAAC,KAAK;IAC7C,IAAID,GAAG,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;MACrBN,SAAS,IAAI,IAAID,SAAS,GAAGK,GAAG,KAAK;MACrCF,MAAM,CAACC,OAAO,CAACE,KAAK,CAAC,CAACtC,OAAO,CAAC,CAAC,CAACwC,IAAI,EAAEC,GAAG,CAAC,KAAK;QAC3C,IAAID,IAAI,CAACD,UAAU,CAAC,IAAI,CAAC,EAAE;UACvBN,SAAS,IAAI,IAAID,SAAS,GAAGQ,IAAI,KAAK;UACtCL,MAAM,CAACC,OAAO,CAACK,GAAG,CAAC,CAACzC,OAAO,CAAC,CAAC,CAAC0C,CAAC,EAAEC,CAAC,CAAC,KAAK;YACpCV,SAAS,IAAI,GAAGjE,WAAW,CAAC0E,CAAC,CAAC,KAAKC,CAAC,IAAI;UAC5C,CAAC,CAAC;UACFV,SAAS,IAAI,IAAI;QACrB,CAAC,MAAM;UACHA,SAAS,IAAI,GAAGjE,WAAW,CAACwE,IAAI,CAAC,KAAKC,GAAG,IAAI;QACjD;MACJ,CAAC,CAAC;MACFR,SAAS,IAAI,IAAI;IACrB,CAAC,MAAM,IAAII,GAAG,CAACE,UAAU,CAAC,YAAY,CAAC,EAAE;MACrCL,SAAS,CAACG,GAAG,CAAC,GAAGC,KAAK;IAC1B,CAAC,MAAM;MACHL,SAAS,IAAI,GAAGjE,WAAW,CAACqE,GAAG,CAAC,KAAKC,KAAK,IAAI;IAClD;EACJ,CAAC,CAAC;EAEFH,MAAM,CAACC,OAAO,CAACF,SAAS,CAAC,CAAClC,OAAO,CAAC,CAAC,CAACqC,GAAG,EAAEO,MAAM,CAAC,KAAK;IACjDX,SAAS,IAAI,GAAGI,GAAG,KAAK;IACxBF,MAAM,CAACC,OAAO,CAACQ,MAAM,CAAC,CAAC5C,OAAO,CAAC,CAAC,CAAC6C,UAAU,EAAEC,KAAK,CAAC,KAAK;MACpDb,SAAS,IAAI,GAAGY,UAAU,KAAK;MAC/BV,MAAM,CAACC,OAAO,CAACU,KAAK,CAAC,CAAC9C,OAAO,CAAC,CAAC,CAACwC,IAAI,EAAEC,GAAG,CAAC,KAAK;QAC3CR,SAAS,IAAI,GAAGjE,WAAW,CAACwE,IAAI,CAAC,KAAKC,GAAG,IAAI;MACjD,CAAC,CAAC;MACFR,SAAS,IAAI,IAAI;IACrB,CAAC,CAAC;IACFA,SAAS,IAAI,IAAI;EACrB,CAAC,CAAC;EAEF,OAAOA,SAAS;AACpB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,MAAMc,kBAAkB,GAAIC,cAAc,IAAK;EAC3C,MAAMC,OAAO,GAAG;IAAE,GAAGD;EAAe,CAAC;EACrC,MAAME,kBAAkB,GAAG,CACvB,QAAQ,EACR,cAAc,EACd,WAAW,EACX,iBAAiB,EACjB,YAAY,EACZ,iBAAiB,EACjB,gBAAgB,EAChB,oBAAoB,EACpB,SAAS,EACT,aAAa,EACb,cAAc,EACd,YAAY,EACZ,eAAe,CAClB;EAEDA,kBAAkB,CAAClD,OAAO,CAAEwC,IAAI,IAAK,OAAOS,OAAO,CAACT,IAAI,CAAC,CAAC;EAE1D,OAAO;IACH,GAAGS,OAAO;IACVE,MAAM,EAAEF,OAAO,CAACE,MAAM,IAAI,GAAG;IAC7BC,SAAS,EAAE,YAAY;IACvBC,OAAO,EAAEJ,OAAO,CAACI,OAAO,IAAI,OAAO;IACnC5B,KAAK,EAAEwB,OAAO,CAACxB,KAAK,IAAI,MAAM;IAC9BE,MAAM,EAAEsB,OAAO,CAACtB,MAAM,IAAI;EAC9B,CAAC;AACL,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM2B,UAAU,GAAGA,CAACvB,MAAM,EAAEwB,WAAW,EAAEC,QAAQ,KAAK;EAClD,IAAIC,QAAQ,GAAG,EAAE;EACjB,IAAIC,SAAS,GAAG,EAAE;EAClB,IAAIC,YAAY,GAAG,EAAE;EAErB,MAAMC,UAAU,GAAG;IAAE,GAAG7B;EAAO,CAAC;EAChC,MAAM8B,WAAW,GAAGD,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;EAC9C,MAAME,YAAY,GAAGF,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;EAEhD,OAAOA,UAAU,CAAC,QAAQ,CAAC;EAC3B,OAAOA,UAAU,CAAC,SAAS,CAAC;EAE5BzB,MAAM,CAAC4B,IAAI,CAACH,UAAU,CAAC,CAAC5D,OAAO,CAAEqC,GAAG,IAAK;IACrC,IAAIA,GAAG,CAACE,UAAU,CAAC,YAAY,CAAC,EAAE;MAC9B,MAAMyB,aAAa,GAAG3B,GAAG,CAACnE,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC+F,IAAI,CAAC,CAAC;MAC3D,MAAMrB,MAAM,GAAGgB,UAAU,CAACvB,GAAG,CAAC;MAC9BsB,YAAY,IAAI,cAAcK,aAAa,IAAI;MAC/C7B,MAAM,CAACC,OAAO,CAACQ,MAAM,CAAC,CAAC5C,OAAO,CAAC,CAAC,CAAC6C,UAAU,EAAEC,KAAK,CAAC,KAAK;QACpDa,YAAY,IAAI,GAAGd,UAAU,IAAI;QACjCV,MAAM,CAACC,OAAO,CAACU,KAAK,CAAC,CAAC9C,OAAO,CAAC,CAAC,CAACwC,IAAI,EAAEC,GAAG,CAAC,KAAK;UAC3CkB,YAAY,IAAI,GAAG3F,WAAW,CAACwE,IAAI,CAAC,KAAKC,GAAG,GAAG;QACnD,CAAC,CAAC;QACFkB,YAAY,IAAI,GAAG;MACvB,CAAC,CAAC;MACFA,YAAY,IAAI,GAAG;MACnB,OAAOC,UAAU,CAACvB,GAAG,CAAC;IAC1B;EACJ,CAAC,CAAC;EAEF,IAAIF,MAAM,CAAC4B,IAAI,CAACF,WAAW,CAAC,CAACK,MAAM,GAAG,CAAC,EAAE;IACrCT,QAAQ,GAAG,IAAIF,WAAW,UAAU;IACpCpB,MAAM,CAACC,OAAO,CAACyB,WAAW,CAAC,CAAC7D,OAAO,CAAC,CAAC,CAACqC,GAAG,EAAEC,KAAK,CAAC,KAAK;MAClDmB,QAAQ,IAAI,GAAGzF,WAAW,CAACqE,GAAG,CAAC,KAAKC,KAAK,GAAG;IAChD,CAAC,CAAC;IACFmB,QAAQ,IAAI,GAAG;EACnB;EAEA,IAAItB,MAAM,CAAC4B,IAAI,CAACD,YAAY,CAAC,CAACI,MAAM,GAAG,CAAC,EAAE;IACtCR,SAAS,GAAG,IAAIH,WAAW,WAAW;IACtCpB,MAAM,CAACC,OAAO,CAAC0B,YAAY,CAAC,CAAC9D,OAAO,CAAC,CAAC,CAACqC,GAAG,EAAEC,KAAK,CAAC,KAAK;MACnDoB,SAAS,IAAI,GAAG1F,WAAW,CAACqE,GAAG,CAAC,KAAKC,KAAK,GAAG;IACjD,CAAC,CAAC;IACFoB,SAAS,IAAI,GAAG;EACpB;EAEA,MAAMS,MAAM,GAAGX,QAAQ,GACjB;AACV,WAAWD,WAAW;AACtB;AACA;AACA;AACA;AACA,OAAO,GACG,EAAE;EAER,OAAO;AACX,OAAOA,WAAW;AAClB;AACA,iBAAiBK,UAAU,CAACQ,MAAM,IAAI,EAAE;AACxC,mBAAmBR,UAAU,CAACS,SAAS,IAAI,SAAS;AACpD;AACA,OAAOd,WAAW;AAClB;AACA;AACA;AACA,gBAAgBK,UAAU,CAACU,MAAM,IAAI,cAAc;AACnD,sBAAsBV,UAAU,CAACW,WAAW,IAAI,CAAC;AACjD,wBAAwBX,UAAU,CAACY,aAAa,IAAI,OAAO;AAC3D,yBAAyBZ,UAAU,CAACa,cAAc,IAAI,OAAO;AAC7D;AACA,MAAMN,MAAM;AACZ,MAAMV,QAAQ;AACd,MAAMC,SAAS;AACf,MAAMC,YAAY;AAClB,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,MAAMe,YAAY,GAAGA,CAAC3C,MAAM,EAAE4C,WAAW,KAAK;EAC1C,MAAMC,YAAY,GAAG;IAAE,GAAG7C;EAAO,CAAC;EAClC,MAAM8C,YAAY,GAAG;IACjB,QAAQ,EAAED,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACtC,SAAS,EAAEA,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC;EAC3C,CAAC;EACD,MAAM1C,SAAS,GAAG,CAAC,CAAC;EAEpB,OAAO0C,YAAY,CAAC,QAAQ,CAAC;EAC7B,OAAOA,YAAY,CAAC,SAAS,CAAC;EAE9BzC,MAAM,CAAC4B,IAAI,CAACa,YAAY,CAAC,CAAC5E,OAAO,CAAEqC,GAAG,IAAK;IACvC,IAAIA,GAAG,CAACE,UAAU,CAAC,YAAY,CAAC,EAAE;MAC9BL,SAAS,CAACG,GAAG,CAACnE,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC+F,IAAI,CAAC,CAAC,CAAC,GAAGW,YAAY,CAACvC,GAAG,CAAC;MACpE,OAAOuC,YAAY,CAACvC,GAAG,CAAC;IAC5B;EACJ,CAAC,CAAC;EAEF,IAAIJ,SAAS,GAAGE,MAAM,CAACC,OAAO,CAACyC,YAAY,CAAC,CAACC,MAAM,CAAC,CAACC,GAAG,EAAE,CAACC,MAAM,EAAElC,KAAK,CAAC,KAAK;IAC1E,IAAIX,MAAM,CAAC4B,IAAI,CAACjB,KAAK,CAAC,CAACoB,MAAM,KAAK,CAAC,EAAE,OAAOa,GAAG;IAC/C,MAAME,WAAW,GAAG9C,MAAM,CAACC,OAAO,CAACU,KAAK,CAAC,CAACoC,GAAG,CAAC,CAAC,CAAC7C,GAAG,EAAEC,KAAK,CAAC,KAAK;MAC5D,IAAID,GAAG,CAACE,UAAU,CAAC,IAAI,CAAC,EAAE;QACtB,MAAM4C,cAAc,GAAGhD,MAAM,CAACC,OAAO,CAACE,KAAK,CAAC,CAAC4C,GAAG,CAAC,CAAC,CAACE,CAAC,EAAEzC,CAAC,CAAC,KAAK,GAAG3E,WAAW,CAACoH,CAAC,CAAC,KAAKzC,CAAC,GAAG,CAAC,CAAC0C,IAAI,CAAC,GAAG,CAAC;QAClG,OAAO,IAAIV,WAAW,GAAGtC,GAAG,MAAM8C,cAAc,IAAI;MACxD;MACA,OAAO,GAAGnH,WAAW,CAACqE,GAAG,CAAC,KAAKC,KAAK,GAAG;IAC3C,CAAC,CAAC,CAAC+C,IAAI,CAAC,GAAG,CAAC;IACZ,OAAO,GAAGN,GAAG,IAAIJ,WAAW,GAAGK,MAAM,MAAMC,WAAW,KAAK;EAC/D,CAAC,EAAE,EAAE,CAAC;EAENhD,SAAS,IAAIE,MAAM,CAACC,OAAO,CAACF,SAAS,CAAC,CAAC4C,MAAM,CAAC,CAACC,GAAG,EAAE,CAACO,IAAI,EAAE1C,MAAM,CAAC,KAAK;IACnE,MAAM2C,YAAY,GAAGpD,MAAM,CAACC,OAAO,CAACQ,MAAM,CAAC,CAACsC,GAAG,CAAC,CAAC,CAACM,KAAK,EAAE1C,KAAK,CAAC,KAAK;MAChE,MAAMmC,WAAW,GAAG9C,MAAM,CAACC,OAAO,CAACU,KAAK,CAAC,CAACoC,GAAG,CAAC,CAAC,CAAC7C,GAAG,EAAEC,KAAK,CAAC,KAAK,GAAGtE,WAAW,CAACqE,GAAG,CAAC,KAAKC,KAAK,GAAG,CAAC,CAAC+C,IAAI,CAAC,GAAG,CAAC;MAC3G,OAAO,GAAGG,KAAK,MAAMP,WAAW,IAAI;IACxC,CAAC,CAAC,CAACI,IAAI,CAAC,GAAG,CAAC;IACZ,OAAO,GAAGN,GAAG,eAAeO,IAAI,MAAMC,YAAY,IAAI;EAC1D,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOtD,SAAS;AACpB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,MAAMwD,sBAAsB,GAAGA,CAACC,SAAS,EAAEC,YAAY,KAAK;EACxD,IAAI,EAACD,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEE,IAAI,GAAE,OAAO,EAAE;EAE/B,MAAM5B,aAAa,GAAG,GAAG0B,SAAS,CAACE,IAAI,IAAID,YAAY,EAAE;EACzD,MAAME,YAAY,GAAG;AACzB,iBAAiB7B,aAAa;AAC9B,QAAQ0B,SAAS,CAACE,IAAI,KAAK,QAAQ,GAAG;AACtC;AACA;AACA,OAAO,GAAGF,SAAS,CAACE,IAAI,KAAK,UAAU,GAAG;AAC1C;AACA;AACA,OAAO,GAAGF,SAAS,CAACE,IAAI,KAAK,cAAc,GAAG;AAC9C;AACA;AACA,OAAO,GAAGF,SAAS,CAACE,IAAI,KAAK,UAAU,GAAG;AAC1C;AACA;AACA;AACA;AACA,OAAO,GAAG,EAAE;AACZ;AACA,OAAOD,YAAY;AACnB,mBAAmB3B,aAAa,IAAI0B,SAAS,CAACI,QAAQ,IAAI,GAAG,eAAeJ,SAAS,CAACK,KAAK,IAAI,CAAC;AAChG;AACA,GAAG;EAEC,OAAOF,YAAY;AACvB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMG,sBAAsB,GAAGA,CAClCJ,IAAI,EACJK,aAAa,GAAG,CAAC,CAAC,EAClBlE,MAAM,GAAG,CAAC,CAAC,EACXmE,QAAQ,GAAG,EAAE,EACbC,QAAQ,GAAG,KAAK,EAChBC,aAAa,GAAG,IAAI,EACpBC,QAAQ,GAAG,IAAI,EACfC,OAAO,GAAG,IAAI,EACdC,cAAc,GAAG,KAAK,KACrB;EACD;EACA,IAAI,CAACX,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IACnC,oBACInI,OAAA;MACI+I,KAAK,EAAE;QACHC,KAAK,EAAER,aAAa,CAACS,UAAU,IAAI,SAAS;QAC5CC,OAAO,EAAE,MAAM;QACfC,MAAM,EAAE,oBAAoB;QAC5BC,YAAY,EAAE,KAAK;QACnB,GAAG9E;MACP,CAAE;MAAAmE,QAAA,GACL,qBACsB,EAACN,IAAI,IAAI,gBAAgB;IAAA;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CAAC;EAEd;;EAEA;EACA,IAAIrB,IAAI,KAAK,SAAS,IAAIK,aAAa,CAACiB,SAAS,KAAK,eAAe,EAAE;IACnE,oBACIzJ,OAAA;MAAKuE,SAAS,EAAC,cAAc;MAACwE,KAAK,EAAE;QAAE,GAAGzE,MAAM;QAAEN,KAAK,EAAE,MAAM;QAAEE,MAAM,EAAE;MAAO,CAAE;MAAAuE,QAAA,gBAC9EzI,OAAA;QACIuE,SAAS,EAAC,yBAAyB;QACnCwE,KAAK,EAAE;UACHW,eAAe,EAAElB,aAAa,CAACkB,eAAe,IAAI,aAAa;UAC/DC,eAAe,EAAEnB,aAAa,CAACmB,eAAe,GAAG,OAAOnB,aAAa,CAACmB,eAAe,GAAG,GAAG,MAAM;UACjGC,cAAc,EAAE,OAAO;UACvBC,kBAAkB,EAAE,QAAQ;UAC5BjG,QAAQ,EAAE,UAAU;UACpB9B,GAAG,EAAE,CAAC;UACNF,IAAI,EAAE,CAAC;UACPkC,KAAK,EAAE,CAAC;UACRG,MAAM,EAAE,CAAC;UACT0C,MAAM,EAAE;QACZ;MAAE;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACFxJ,OAAA;QACIuE,SAAS,EAAC,cAAc;QACxBwE,KAAK,EAAE;UACHW,eAAe,EAAElB,aAAa,CAACsB,YAAY,IAAI,aAAa;UAC5DC,OAAO,EAAEvB,aAAa,CAACwB,cAAc,IAAI,CAAC;UAC1CpG,QAAQ,EAAE,UAAU;UACpB9B,GAAG,EAAE,CAAC;UACNF,IAAI,EAAE,CAAC;UACPkC,KAAK,EAAE,CAAC;UACRG,MAAM,EAAE,CAAC;UACT0C,MAAM,EAAE;QACZ;MAAE;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACFxJ,OAAA;QACIuE,SAAS,EAAC,gBAAgB;QAC1BwE,KAAK,EAAE;UACHnF,QAAQ,EAAE,UAAU;UACpB+C,MAAM,EAAE,CAAC;UACTuC,OAAO,EAAEV,aAAa,CAACU,OAAO,IAAI,MAAM;UACxClF,KAAK,EAAE,MAAM;UACbE,MAAM,EAAE;QACZ,CAAE;QAAAuE,QAAA,EAEDA,QAAQ,CAAChB,GAAG,CAAC,CAACwC,KAAK,EAAEC,KAAK,kBACvBlK,OAAA;UAA6B+I,KAAK,EAAE;YAAEoB,YAAY,EAAEF,KAAK,CAACE,YAAY,IAAI;UAAO,CAAE;UAAA1B,QAAA,EAC9EF,sBAAsB,CACnB0B,KAAK,CAAC9B,IAAI,EACV8B,KAAK,CAACzB,aAAa,IAAI,CAAC,CAAC,EACzByB,KAAK,CAAC3F,MAAM,IAAI,CAAC,CAAC,EAClB2F,KAAK,CAACxB,QAAQ,IAAI,EAAE,EACpBC,QAAQ,EACRC,aAAa,EACbC,QAAQ,EACRqB,KAAK,CAACG,EACV;QAAC,GAVKH,KAAK,CAACG,EAAE,IAAIF,KAAK;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAWtB,CACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEd;;EAEA;EACA,QAAQrB,IAAI,CAACxH,WAAW,CAAC,CAAC;IACtB,KAAK,QAAQ;MAAE;QAAA,IAAA0J,mBAAA,EAAAC,oBAAA,EAAAC,oBAAA,EAAAC,oBAAA;QACX,MAAM;UAAEC,MAAM,GAAG,CAAC;QAAE,CAAC,GAAGjC,aAAa;QACrC,MAAMkC,WAAW,GAAIC,CAAC,IAAK;UACvBA,CAAC,CAACC,eAAe,CAAC,CAAC;UACnB,IAAIlC,QAAQ,IAAI,OAAOC,aAAa,KAAK,UAAU,IAAIC,QAAQ,IAAIC,OAAO,EAAE;YACxEF,aAAa,CAACC,QAAQ,EAAEC,OAAO,CAAC;UACpC;UACA,IAAI4B,MAAM,CAACI,OAAO,EAAE;YAChB/K,eAAe,CAACgL,WAAW,CAACL,MAAM,CAACI,OAAO,EAAEhC,OAAO,IAAID,QAAQ,EAAEF,QAAQ,CAAC;UAC9E;QACJ,CAAC;QAED,oBACI1I,OAAA;UACIgE,KAAK,EAAEM,MAAM,CAACN,KAAK,MAAAqG,mBAAA,GAAI7B,aAAa,CAACzE,IAAI,cAAAsG,mBAAA,uBAAlBA,mBAAA,CAAoBrG,KAAK,KAAI,EAAG;UACvDE,MAAM,EAAEI,MAAM,CAACJ,MAAM,MAAAoG,oBAAA,GAAI9B,aAAa,CAACzE,IAAI,cAAAuG,oBAAA,uBAAlBA,oBAAA,CAAoBpG,MAAM,KAAI,EAAG;UAC1D6E,KAAK,EAAE;YAAEnF,QAAQ,EAAE,UAAU;YAAE,GAAGU;UAAO,CAAE;UAC3CuG,OAAO,EAAEH,WAAY;UAAAjC,QAAA,eAErBzI,OAAA;YACImB,CAAC,EAAC,GAAG;YACLC,CAAC,EAAC,GAAG;YACL4C,KAAK,EAAEM,MAAM,CAACN,KAAK,MAAAuG,oBAAA,GAAI/B,aAAa,CAACzE,IAAI,cAAAwG,oBAAA,uBAAlBA,oBAAA,CAAoBvG,KAAK,KAAI,EAAG;YACvDE,MAAM,EAAEI,MAAM,CAACJ,MAAM,MAAAsG,oBAAA,GAAIhC,aAAa,CAACzE,IAAI,cAAAyG,oBAAA,uBAAlBA,oBAAA,CAAoBtG,MAAM,KAAI,EAAG;YAC1D6G,IAAI,EAAEzG,MAAM,CAACyG,IAAI,IAAIvC,aAAa,CAACuC,IAAI,IAAI,MAAO;YAClDlE,MAAM,EAAEvC,MAAM,CAACuC,MAAM,IAAI2B,aAAa,CAAC3B,MAAM,IAAI,cAAe;YAChEC,WAAW,EAAExC,MAAM,CAACwC,WAAW,IAAI0B,aAAa,CAAC1B,WAAW,IAAI,CAAE;YAClEC,aAAa,EAAEzC,MAAM,CAACyC,aAAa,IAAIyB,aAAa,CAACzB,aAAa,IAAI,OAAQ;YAC9EC,cAAc,EAAE1C,MAAM,CAAC0C,cAAc,IAAIwB,aAAa,CAACxB,cAAc,IAAI;UAAQ;YAAAqC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAEd;IAEA,KAAK,MAAM;MAAE;QAAA,IAAAwB,oBAAA,EAAAC,oBAAA;QACT,MAAM;UAAER,MAAM,GAAG,CAAC;QAAE,CAAC,GAAGjC,aAAa;QACrC,MAAMkC,WAAW,GAAIC,CAAC,IAAK;UACvBA,CAAC,CAACC,eAAe,CAAC,CAAC;UACnB,IAAIlC,QAAQ,IAAI,OAAOC,aAAa,KAAK,UAAU,IAAIC,QAAQ,IAAIC,OAAO,EAAE;YACxEF,aAAa,CAACC,QAAQ,EAAEC,OAAO,CAAC;UACpC;UACA,IAAI4B,MAAM,CAACI,OAAO,EAAE;YAChB/K,eAAe,CAACgL,WAAW,CAACL,MAAM,CAACI,OAAO,EAAEhC,OAAO,IAAID,QAAQ,EAAEF,QAAQ,CAAC;UAC9E;QACJ,CAAC;QAED,oBACI1I,OAAA;UACIgE,KAAK,EAAEM,MAAM,CAACN,KAAK,MAAAgH,oBAAA,GAAIxC,aAAa,CAACzE,IAAI,cAAAiH,oBAAA,uBAAlBA,oBAAA,CAAoBhH,KAAK,KAAI,EAAG;UACvDE,MAAM,EAAEI,MAAM,CAACJ,MAAM,MAAA+G,oBAAA,GAAIzC,aAAa,CAACzE,IAAI,cAAAkH,oBAAA,uBAAlBA,oBAAA,CAAoB/G,MAAM,KAAI,EAAG;UAC1D6E,KAAK,EAAE;YAAEnF,QAAQ,EAAE,UAAU;YAAE,GAAGU;UAAO,CAAE;UAC3CuG,OAAO,EAAEH,WAAY;UAAAjC,QAAA,eAErBzI,OAAA;YACIkL,CAAC,EAAC,gEAAgE;YAClEH,IAAI,EAAEzG,MAAM,CAACyG,IAAI,IAAIvC,aAAa,CAACuC,IAAI,IAAI,MAAO;YAClDlE,MAAM,EAAEvC,MAAM,CAACuC,MAAM,IAAI2B,aAAa,CAAC3B,MAAM,IAAI,cAAe;YAChEC,WAAW,EAAExC,MAAM,CAACwC,WAAW,IAAI0B,aAAa,CAAC1B,WAAW,IAAI,CAAE;YAClEC,aAAa,EAAEzC,MAAM,CAACyC,aAAa,IAAIyB,aAAa,CAACzB,aAAa,IAAI,OAAQ;YAC9EC,cAAc,EAAE1C,MAAM,CAAC0C,cAAc,IAAIwB,aAAa,CAACxB,cAAc,IAAI;UAAQ;YAAAqC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAEd;IAEA,KAAK,YAAY;MAAE;QACf,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHnD,OAAO,EAAE,MAAM;YACfuF,mBAAmB,EAAE3C,aAAa,CAAC4C,OAAO,GACpC,UAAU5C,aAAa,CAAC4C,OAAO,QAAQ,GACvC9G,MAAM,CAAC6G,mBAAmB,IAAI,gBAAgB;YACpDE,GAAG,EAAE7C,aAAa,CAAC6C,GAAG,IAAI/G,MAAM,CAAC+G,GAAG,IAAI,MAAM;YAC9CnC,OAAO,EAAEV,aAAa,CAACU,OAAO,IAAI5E,MAAM,CAAC4E,OAAO,IAAI,MAAM;YAC1DoC,UAAU,EAAE9C,aAAa,CAAC8C,UAAU,IAAIhH,MAAM,CAACgH,UAAU,IAAI,aAAa;YAC1E,GAAGhH;UACP,CAAE;UAAAmE,QAAA,EAEDA,QAAQ,CAAChB,GAAG,CAAC,CAACwC,KAAK,EAAEC,KAAK,kBACvBlK,OAAA;YAA6B+I,KAAK,EAAE;cAAEoB,YAAY,EAAEF,KAAK,CAACE,YAAY,IAAI;YAAO,CAAE;YAAA1B,QAAA,EAC9EF,sBAAsB,CACnB0B,KAAK,CAAC9B,IAAI,EACV8B,KAAK,CAACzB,aAAa,IAAI,CAAC,CAAC,EACzByB,KAAK,CAAC3F,MAAM,IAAI,CAAC,CAAC,EAClB2F,KAAK,CAACxB,QAAQ,IAAI,EAAE,EACpBC,QAAQ,EACRC,aAAa,EACbC,QAAQ,EACRqB,KAAK,CAACG,EACV;UAAC,GAVKH,KAAK,CAACG,EAAE,IAAIF,KAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWtB,CACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAEd;IAEA,KAAK,MAAM;MAAE;QAAA,IAAA+B,oBAAA,EAAAC,oBAAA,EAAAC,oBAAA,EAAAC,oBAAA;QACT,MAAM;UAAEC,IAAI;UAAElB,MAAM,GAAG,CAAC,CAAC;UAAEmB,KAAK;UAAEC;QAAS,CAAC,GAAGrD,aAAa;QAC5D,MAAM1C,WAAW,GAAG,QAAQ8C,QAAQ,IAAI,MAAM,IAAIC,OAAO,IAAIiD,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;QACzE,MAAMC,KAAK,GAAGL,IAAI,IAAIA,IAAI,CAAC7G,UAAU,CAAC,MAAM,CAAC;QAE7C,MAAM4F,WAAW,GAAIC,CAAC,IAAK;UACvBA,CAAC,CAACC,eAAe,CAAC,CAAC;UACnB,IAAIlC,QAAQ,IAAI,OAAOC,aAAa,KAAK,UAAU,IAAIC,QAAQ,IAAIC,OAAO,EAAE;YACxEF,aAAa,CAACC,QAAQ,EAAEC,OAAO,CAAC;UACpC;UACA,IAAI4B,MAAM,CAACI,OAAO,EAAE;YAChB/K,eAAe,CAACgL,WAAW,CAACL,MAAM,CAACI,OAAO,EAAEhC,OAAO,IAAID,QAAQ,EAAEF,QAAQ,CAAC;UAC9E;QACJ,CAAC;QAED,MAAMvC,UAAU,GAAG;UACf,GAAG7B,MAAM;UACTN,KAAK,EAAE,EAAAuH,oBAAA,GAAA/C,aAAa,CAACzE,IAAI,cAAAwH,oBAAA,uBAAlBA,oBAAA,CAAoBvH,KAAK,KAAIM,MAAM,CAACN,KAAK,IAAI,MAAM;UAC1DE,MAAM,EAAE,EAAAsH,oBAAA,GAAAhD,aAAa,CAACzE,IAAI,cAAAyH,oBAAA,uBAAlBA,oBAAA,CAAoBtH,MAAM,KAAII,MAAM,CAACJ,MAAM,IAAI,MAAM;UAC7D0B,OAAO,EAAEtB,MAAM,CAACsB,OAAO,IAAI,MAAM;UACjCqG,UAAU,EAAE3H,MAAM,CAAC2H,UAAU,IAAI,QAAQ;UACzCC,cAAc,EAAE5H,MAAM,CAAC4H,cAAc,IAAI,QAAQ;UACjDC,MAAM,EAAE1B,MAAM,CAACI,OAAO,GAAG,SAAS,GAAG,SAAS;UAC9CjH,QAAQ,EAAEU,MAAM,CAACV,QAAQ,IAAI;QACjC,CAAC;QAED,MAAMY,SAAS,GAAGqB,UAAU,CAACvB,MAAM,EAAEwB,WAAW,EAAE,CAAC,CAAC+F,QAAQ,CAAC;QAE7D,oBACI7L,OAAA,CAAAE,SAAA;UAAAuI,QAAA,GACKjE,SAAS,iBAAIxE,OAAA;YAAAyI,QAAA,EAAQjE;UAAS;YAAA6E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxCxJ,OAAA;YAAKuE,SAAS,EAAE,YAAYuB,WAAW,EAAG;YAACiD,KAAK,EAAE5C,UAAW;YAAC0E,OAAO,EAAEH,WAAY;YAACkB,KAAK,EAAEA,KAAK,IAAI,EAAG;YAAAnD,QAAA,EAClGoD,QAAQ,gBACL7L,OAAA;cAAKoM,GAAG,EAAEP,QAAS;cAACQ,GAAG,EAAET,KAAK,IAAI,MAAO;cAAC7C,KAAK,EAAE;gBAAE/E,KAAK,EAAE,MAAM;gBAAEE,MAAM,EAAE,MAAM;gBAAEoI,SAAS,EAAE;cAAU;YAAE;cAAAjD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,GAC5GwC,KAAK,gBACLhM,OAAA;cACIuM,uBAAuB,EAAE;gBAAEC,MAAM,EAAEb;cAAK,CAAE;cAC1C5C,KAAK,EAAE;gBACH/E,KAAK,EAAE,EAAAyH,oBAAA,GAAAjD,aAAa,CAACzE,IAAI,cAAA0H,oBAAA,uBAAlBA,oBAAA,CAAoBzH,KAAK,KAAIM,MAAM,CAACN,KAAK,IAAI,MAAM;gBAC1DE,MAAM,EAAE,EAAAwH,oBAAA,GAAAlD,aAAa,CAACzE,IAAI,cAAA2H,oBAAA,uBAAlBA,oBAAA,CAAoBxH,MAAM,KAAII,MAAM,CAACJ,MAAM,IAAI,MAAM;gBAC7D0B,OAAO,EAAE,MAAM;gBACfqG,UAAU,EAAE,QAAQ;gBACpBC,cAAc,EAAE;cACpB;YAAE;cAAA7C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,GAEFmC,IAAI,iBAAI3L,OAAA;cAAGuE,SAAS,EAAEoH,IAAK;cAAC5C,KAAK,EAAE;gBAAE0D,QAAQ,EAAE,SAAS;gBAAEzD,KAAK,EAAE;cAAU;YAAE;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAClF;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC;QAAA,eACR,CAAC;MAEX;IAEA,KAAK,SAAS;MAAE;QACZ,MAAMkD,YAAY,GAAGlE,aAAa,CAACmE,KAAK,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAACC,QAAQ,CAACpE,aAAa,CAACmE,KAAK,CAAC,GACxGnE,aAAa,CAACmE,KAAK,GACnB,IAAI;QACV,MAAME,UAAU,GAAGH,YAAY;QAC/B,oBACI1M,OAAA,CAAC6M,UAAU;UACP9D,KAAK,EAAE;YACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;YAC7BmI,QAAQ,EAAEjE,aAAa,CAACiE,QAAQ,IAAI,QAAQ;YAC5CzD,KAAK,EAAER,aAAa,CAACQ,KAAK,IAAI,SAAS;YACvCtD,MAAM,EAAE8C,aAAa,CAAC9C,MAAM,IAAI,GAAG;YACnCoH,UAAU,EAAEtE,aAAa,CAACsE,UAAU,IAAI,KAAK;YAC7CC,SAAS,EAAEvE,aAAa,CAACuE,SAAS,IAAI,MAAM;YAC5CC,UAAU,EAAExE,aAAa,CAACwE,UAAU,IAAI;UAC5C,CAAE;UAAAvE,QAAA,EAEDD,aAAa,CAACyE,OAAO,IAAI;QAAS;UAAA5D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC;MAErB;IAEA,KAAK,WAAW;MAAE;QACd,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;YAC7BmI,QAAQ,EAAEjE,aAAa,CAACiE,QAAQ,IAAI,MAAM;YAC1CzD,KAAK,EAAER,aAAa,CAACQ,KAAK,IAAI,SAAS;YACvCtD,MAAM,EAAE8C,aAAa,CAAC9C,MAAM,IAAI,GAAG;YACnCoH,UAAU,EAAEtE,aAAa,CAACsE,UAAU,IAAI,KAAK;YAC7CE,UAAU,EAAExE,aAAa,CAACwE,UAAU,IAAI,KAAK;YAC7CD,SAAS,EAAEvE,aAAa,CAACuE,SAAS,IAAI;UAC1C,CAAE;UAAAtE,QAAA,EAEDD,aAAa,CAACyE,OAAO,IAAI;QAAU;UAAA5D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC;MAEZ;IAEA,KAAK,QAAQ;MAAE;QACX,MAAMtC,WAAW,GAAG,UAAUsB,aAAa,CAAC4B,EAAE,IAAIrI,IAAI,CAACmL,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;QAC3F,MAAM5I,SAAS,GAAGyC,YAAY,CAAC3C,MAAM,EAAE4C,WAAW,CAAC;QAEnD,MAAMwD,WAAW,GAAIC,CAAC,IAAK;UAAA,IAAA0C,qBAAA;UACvB1C,CAAC,CAACC,eAAe,CAAC,CAAC;UACnB,IAAIlC,QAAQ,IAAI,OAAOC,aAAa,KAAK,UAAU,IAAIC,QAAQ,IAAIC,OAAO,EAAE;YACxEF,aAAa,CAACC,QAAQ,EAAEC,OAAO,CAAC;UACpC;UACA,KAAAwE,qBAAA,GAAI7E,aAAa,CAACiC,MAAM,cAAA4C,qBAAA,eAApBA,qBAAA,CAAsBxC,OAAO,EAAE;YAC/B/K,eAAe,CAACgL,WAAW,CAACtC,aAAa,CAACiC,MAAM,CAACI,OAAO,EAAEhC,OAAO,IAAID,QAAQ,EAAEF,QAAQ,CAAC;YACxF,MAAM4E,KAAK,GAAG9E,aAAa,CAACiC,MAAM,CAACI,OAAO;YAC1C,IAAInC,QAAQ,EAAE;cACV,IAAI4E,KAAK,CAACnF,IAAI,KAAK,YAAY,EAAE;gBAC7BvI,KAAK,CAAC2N,IAAI,CAAC,0BAA0BD,KAAK,CAACE,MAAM,EAAE,EAAE;kBACjD5J,QAAQ,EAAE,cAAc;kBACxB6J,SAAS,EAAE;gBACf,CAAC,CAAC;cACN,CAAC,MAAM,IAAIH,KAAK,CAACnF,IAAI,KAAK,UAAU,EAAE;gBAClCvI,KAAK,CAAC2N,IAAI,CAAC,4BAA4BD,KAAK,CAACI,GAAG,EAAE,EAAE;kBAChD9J,QAAQ,EAAE,cAAc;kBACxB6J,SAAS,EAAE;gBACf,CAAC,CAAC;cACN,CAAC,MAAM,IAAIH,KAAK,CAACnF,IAAI,KAAK,YAAY,EAAE;gBACpCvI,KAAK,CAAC2N,IAAI,CAAC,qBAAqBD,KAAK,CAACE,MAAM,EAAE,EAAE;kBAC5C5J,QAAQ,EAAE,cAAc;kBACxB6J,SAAS,EAAE;gBACf,CAAC,CAAC;cACN;YACJ,CAAC,MAAM;cACH,IAAIH,KAAK,CAACnF,IAAI,KAAK,YAAY,EAAE;gBAC7BlH,OAAO,CAAC0M,GAAG,CAAC,sBAAsBL,KAAK,CAACE,MAAM,EAAE,CAAC;cACrD,CAAC,MAAM,IAAIF,KAAK,CAACnF,IAAI,KAAK,UAAU,EAAE;gBAClCyF,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGR,KAAK,CAACI,GAAG;cACpC,CAAC,MAAM,IAAIJ,KAAK,CAACnF,IAAI,KAAK,YAAY,EAAE;gBACpClH,OAAO,CAAC0M,GAAG,CAAC,gBAAgBL,KAAK,CAACE,MAAM,EAAE,CAAC;cAC/C;YACJ;UACJ;QACJ,CAAC;QAED,oBACIxN,OAAA,CAAAE,SAAA;UAAAuI,QAAA,GACKjE,SAAS,iBAAIxE,OAAA;YAAAyI,QAAA,EAAQjE;UAAS;YAAA6E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxCxJ,OAAA;YACIuE,SAAS,EAAE2C,WAAY;YACvB6B,KAAK,EAAE;cACH,GAAGzE,MAAM;cACT4E,OAAO,EAAE5E,MAAM,CAAC4E,OAAO,IAAIV,aAAa,CAACU,OAAO,IAAI,WAAW;cAC/DE,YAAY,EAAE9E,MAAM,CAAC8E,YAAY,IAAIZ,aAAa,CAACY,YAAY,IAAI,KAAK;cACxEkC,UAAU,EAAEhH,MAAM,CAACgH,UAAU,IAAI9C,aAAa,CAAC8C,UAAU,IAAI,SAAS;cACtEtC,KAAK,EAAE1E,MAAM,CAAC0E,KAAK,IAAIR,aAAa,CAACQ,KAAK,IAAI,MAAM;cACpDG,MAAM,EAAE7E,MAAM,CAAC6E,MAAM,IAAIX,aAAa,CAACW,MAAM,IAAI,MAAM;cACvDgD,MAAM,EAAE7H,MAAM,CAAC6H,MAAM,IAAI,SAAS;cAClCM,QAAQ,EAAEnI,MAAM,CAACmI,QAAQ,IAAIjE,aAAa,CAACiE,QAAQ,IAAI,MAAM;cAC7DK,UAAU,EAAExI,MAAM,CAACwI,UAAU,IAAItE,aAAa,CAACsE,UAAU,IAAI,KAAK;cAClEC,SAAS,EAAEzI,MAAM,CAACyI,SAAS,IAAIvE,aAAa,CAACuE,SAAS,IAAI,QAAQ;cAClEnH,OAAO,EAAEtB,MAAM,CAACsB,OAAO,IAAI,aAAa;cACxCqG,UAAU,EAAE3H,MAAM,CAAC2H,UAAU,IAAI,QAAQ;cACzCC,cAAc,EAAE5H,MAAM,CAAC4H,cAAc,IAAI,QAAQ;cACjD6B,UAAU,EAAEzJ,MAAM,CAACyJ,UAAU,IAAI,eAAe;cAChDpI,SAAS,EAAE,YAAY;cACvB3B,KAAK,EAAEM,MAAM,CAACN,KAAK,IAAI,MAAM;cAC7BgK,QAAQ,EAAE1J,MAAM,CAAC0J,QAAQ,IAAI,aAAa;cAC1CC,UAAU,EAAE;YAChB,CAAE;YACFpD,OAAO,EAAEH,WAAY;YAAAjC,QAAA,EAEpBD,aAAa,CAACyE,OAAO,IAAI;UAAK;YAAA5D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3B,CAAC;QAAA,eACX,CAAC;MAEX;IAEA,KAAK,OAAO;MAAE;QAAA,IAAA0E,qBAAA;QACV,oBACIlO,OAAA;UACIoM,GAAG,EAAE5D,aAAa,CAAC4D,GAAG,IAAI,4CAA6C;UACvEC,GAAG,EAAE7D,aAAa,CAAC6D,GAAG,IAAI,UAAW;UACrCtD,KAAK,EAAE;YACHoF,QAAQ,EAAE3F,aAAa,CAAC2F,QAAQ,IAAI,MAAM;YAC1CjK,MAAM,EAAEsE,aAAa,CAACtE,MAAM,IAAI,MAAM;YACtCkF,YAAY,EAAEZ,aAAa,CAACY,YAAY,IAAI,GAAG;YAC/C,GAAG9E;UACP,CAAE;UACF8J,SAAS,GAAAF,qBAAA,GAAE1F,aAAa,CAAC4F,SAAS,cAAAF,qBAAA,cAAAA,qBAAA,GAAI;QAAM;UAAA7E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC;MAEV;IAEA,KAAK,MAAM;MAAE;QACT,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHnD,OAAO,EAAE,MAAM;YACfyI,aAAa,EAAE7F,aAAa,CAAC8F,SAAS,IAAI,QAAQ;YAClDjD,GAAG,EAAE7C,aAAa,CAAC6C,GAAG,IAAI,MAAM;YAChC,GAAG/G;UACP,CAAE;UAAAmE,QAAA,GAEDD,aAAa,CAACoD,KAAK,IAAI,CAACnD,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,SAAS,CAAC,iBACxEnI,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BoB,MAAM,EAAE8C,aAAa,CAACgG,WAAW,IAAI,GAAG;cACxC/B,QAAQ,EAAEjE,aAAa,CAACiG,aAAa,IAAI,QAAQ;cACjDzF,KAAK,EAAER,aAAa,CAACkG,UAAU,IAAI,SAAS;cAC5C5B,UAAU,EAAEtE,aAAa,CAACmG,eAAe,IAAI;YACjD,CAAE;YAAAlG,QAAA,EAEDD,aAAa,CAACoD;UAAK;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CACP,EACAoF,KAAK,CAACC,OAAO,CAACrG,aAAa,CAACsG,MAAM,CAAC,IAAItG,aAAa,CAACsG,MAAM,CAACrI,MAAM,GAAG,CAAC,GACnE+B,aAAa,CAACsG,MAAM,CAACrH,GAAG,CAAC,CAACsH,KAAK,EAAE7E,KAAK,kBAClClK,OAAA;YAEImI,IAAI,EAAE4G,KAAK,CAAC5G,IAAI,IAAI,MAAO;YAC3B6G,WAAW,EAAED,KAAK,CAACC,WAAW,IAAID,KAAK,CAACE,KAAK,IAAI,SAAU;YAC3DlG,KAAK,EAAE;cACHG,OAAO,EAAE6F,KAAK,CAAC7F,OAAO,IAAI,KAAK;cAC/BE,YAAY,EAAE2F,KAAK,CAAC3F,YAAY,IAAI,KAAK;cACzCD,MAAM,EAAE4F,KAAK,CAAC5F,MAAM,IAAI,gBAAgB;cACxCsD,QAAQ,EAAEsC,KAAK,CAACtC,QAAQ,IAAI;YAChC;UAAE,GARGvC,KAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OASb,CACJ,CAAC,GAEF,CAACf,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,OAAO,CAAC,iBAC9CnI,OAAA;YACImI,IAAI,EAAEK,aAAa,CAAC0G,SAAS,IAAI,MAAO;YACxCF,WAAW,EAAExG,aAAa,CAACwG,WAAW,IAAI,SAAU;YACpDjG,KAAK,EAAE;cACHG,OAAO,EAAEV,aAAa,CAAC2G,YAAY,IAAI,KAAK;cAC5C/F,YAAY,EAAEZ,aAAa,CAAC4G,iBAAiB,IAAI,KAAK;cACtDjG,MAAM,EAAEX,aAAa,CAAC6G,WAAW,IAAI,gBAAgB;cACrD5C,QAAQ,EAAEjE,aAAa,CAAC8G,aAAa,IAAI;YAC7C;UAAE;YAAAjG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAER,EACA,CAACf,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,QAAQ,CAAC,iBAChDnI,OAAA;YACImI,IAAI,EAAC,QAAQ;YACbY,KAAK,EAAE;cACHuC,UAAU,EAAE9C,aAAa,CAAC+G,gBAAgB,IAAI,SAAS;cACvDvG,KAAK,EAAER,aAAa,CAACgH,WAAW,IAAI,MAAM;cAC1CtG,OAAO,EAAEV,aAAa,CAACiH,aAAa,IAAI,UAAU;cAClDrG,YAAY,EAAEZ,aAAa,CAACkH,kBAAkB,IAAI,KAAK;cACvDvG,MAAM,EAAEX,aAAa,CAACmH,YAAY,IAAI,MAAM;cAC5CxD,MAAM,EAAE,SAAS;cACjBM,QAAQ,EAAEjE,aAAa,CAACoH,cAAc,IAAI,MAAM;cAChD9C,UAAU,EAAEtE,aAAa,CAACqH,gBAAgB,IAAI;YAClD,CAAE;YAAApH,QAAA,EAEDD,aAAa,CAACsH,UAAU,IAAI;UAAK;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CACX,EACAf,QAAQ,CAAChB,GAAG,CAAC,CAACwC,KAAK,EAAEC,KAAK,kBACvBlK,OAAA;YAA6B+I,KAAK,EAAE;cAAEoB,YAAY,EAAEF,KAAK,CAACE,YAAY,IAAI;YAAO,CAAE;YAAA1B,QAAA,EAC9EF,sBAAsB,CACnB0B,KAAK,CAAC9B,IAAI,EACV8B,KAAK,CAACzB,aAAa,IAAI,CAAC,CAAC,EACzByB,KAAK,CAAC3F,MAAM,IAAI,CAAC,CAAC,EAClB2F,KAAK,CAACxB,QAAQ,IAAI,EAAE,EACpBC,QAAQ,EACRC,aAAa,EACbC,QAAQ,EACRqB,KAAK,CAACG,EACV;UAAC,GAVKH,KAAK,CAACG,EAAE,IAAIF,KAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWtB,CACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAEd;IAEA,KAAK,SAAS;IACd,KAAK,WAAW;MAAE;QACd,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHnD,OAAO,EAAE4C,aAAa,CAACuH,UAAU,IAAI,MAAM;YAC3C1B,aAAa,EAAE7F,aAAa,CAAC8F,SAAS,IAAI,QAAQ;YAClDjD,GAAG,EAAE7C,aAAa,CAAC6C,GAAG,IAAI,MAAM;YAChCnC,OAAO,EAAEV,aAAa,CAACU,OAAO,IAAI,GAAG;YACrCoC,UAAU,EAAE9C,aAAa,CAAC8C,UAAU,IAAI,aAAa;YACrD,GAAGhH;UACP,CAAE;UAAAmE,QAAA,GAEDD,aAAa,CAACoD,KAAK,IAAI,CAACnD,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,SAAS,CAAC,iBACxEnI,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAACiG,aAAa,IAAI,QAAQ;cACjD/I,MAAM,EAAE8C,aAAa,CAACgG,WAAW,IAAI,GAAG;cACxCxF,KAAK,EAAER,aAAa,CAACkG,UAAU,IAAI,SAAS;cAC5C5B,UAAU,EAAEtE,aAAa,CAACmG,eAAe,IAAI;YACjD,CAAE;YAAAlG,QAAA,EAEDD,aAAa,CAACoD;UAAK;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CACP,EACAhB,aAAa,CAACwH,QAAQ,IAAI,CAACvH,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,WAAW,CAAC,iBAC7EnI,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAACyH,gBAAgB,IAAI,QAAQ;cACpDvK,MAAM,EAAE8C,aAAa,CAAC0H,cAAc,IAAI,GAAG;cAC3ClH,KAAK,EAAER,aAAa,CAAC2H,aAAa,IAAI;YAC1C,CAAE;YAAA1H,QAAA,EAEDD,aAAa,CAACwH;UAAQ;YAAA3G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CACN,EACAhB,aAAa,CAACyE,OAAO,IAAI,CAACxE,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,WAAW,CAAC,iBAC5EnI,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAAC4H,eAAe,IAAI,MAAM;cACjD1K,MAAM,EAAE8C,aAAa,CAAC6H,aAAa,IAAI,GAAG;cAC1CrH,KAAK,EAAER,aAAa,CAAC8H,YAAY,IAAI;YACzC,CAAE;YAAA7H,QAAA,EAEDD,aAAa,CAACyE;UAAO;YAAA5D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvB,CACN,EACAoF,KAAK,CAACC,OAAO,CAACrG,aAAa,CAAC+H,QAAQ,CAAC,IAAI/H,aAAa,CAAC+H,QAAQ,CAAC9J,MAAM,GAAG,CAAC,IAAI,CAACgC,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,MAAM,CAAC,iBAC5HnI,OAAA;YACI+I,KAAK,EAAE;cACHyH,SAAS,EAAE,MAAM;cACjBtH,OAAO,EAAEV,aAAa,CAACiI,eAAe,IAAI,CAAC;cAC3C/K,MAAM,EAAE8C,aAAa,CAACkI,cAAc,IAAI,GAAG;cAC3C9K,OAAO,EAAE,MAAM;cACfyI,aAAa,EAAE7F,aAAa,CAACmI,iBAAiB,IAAI,QAAQ;cAC1DtF,GAAG,EAAE7C,aAAa,CAACoI,WAAW,IAAI;YACtC,CAAE;YAAAnI,QAAA,EAEDD,aAAa,CAAC+H,QAAQ,CAAC9I,GAAG,CAAC,CAACoJ,OAAO,EAAE3G,KAAK,kBACvClK,OAAA;cAEI+I,KAAK,EAAE;gBACH0D,QAAQ,EAAEjE,aAAa,CAACsI,eAAe,IAAI,MAAM;gBACjD9H,KAAK,EAAER,aAAa,CAACuI,YAAY,IAAI;cACzC,CAAE;cAAAtI,QAAA,EAEDoI;YAAO,GANH3G,KAAK;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAOV,CACP;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CACP,EACAhB,aAAa,CAACwI,OAAO,IAAI,CAACvI,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,QAAQ,CAAC,iBACzEnI,OAAA;YACI+I,KAAK,EAAE;cACHG,OAAO,EAAEV,aAAa,CAACyI,UAAU,IAAI,WAAW;cAChD7H,YAAY,EAAEZ,aAAa,CAAC0I,eAAe,IAAI,KAAK;cACpD5F,UAAU,EAAE9C,aAAa,CAAC2I,aAAa,IAAI,SAAS;cACpDnI,KAAK,EAAER,aAAa,CAAC4I,QAAQ,IAAI,MAAM;cACvCjI,MAAM,EAAEX,aAAa,CAAC6I,SAAS,IAAI,MAAM;cACzClF,MAAM,EAAE,SAAS;cACjBM,QAAQ,EAAEjE,aAAa,CAAC8I,WAAW,IAAI,MAAM;cAC7CxE,UAAU,EAAEtE,aAAa,CAAC+I,aAAa,IAAI;YAC/C,CAAE;YAAA9I,QAAA,EAEDD,aAAa,CAACwI;UAAO;YAAA3H,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CACX,EACAhB,aAAa,CAACgJ,OAAO,IAAI,CAAC/I,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,WAAW,CAAC,iBAC5EnI,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAACiJ,eAAe,IAAI,QAAQ;cACnD/L,MAAM,EAAE8C,aAAa,CAACkJ,aAAa,IAAI,GAAG;cAC1C1I,KAAK,EAAER,aAAa,CAACmJ,YAAY,IAAI;YACzC,CAAE;YAAAlJ,QAAA,EAEDD,aAAa,CAACgJ;UAAO;YAAAnI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvB,CACN,EACAf,QAAQ,CAAChB,GAAG,CAAC,CAACwC,KAAK,EAAEC,KAAK,kBACvBlK,OAAA;YAA6B+I,KAAK,EAAE;cAAEoB,YAAY,EAAEF,KAAK,CAACE,YAAY,IAAI;YAAO,CAAE;YAAA1B,QAAA,EAC9EF,sBAAsB,CACnB0B,KAAK,CAAC9B,IAAI,EACV8B,KAAK,CAACzB,aAAa,IAAI,CAAC,CAAC,EACzByB,KAAK,CAAC3F,MAAM,IAAI,CAAC,CAAC,EAClB2F,KAAK,CAACxB,QAAQ,IAAI,EAAE,EACpBC,QAAQ,EACRC,aAAa,EACbC,QAAQ,EACRqB,KAAK,CAACG,EACV;UAAC,GAVKH,KAAK,CAACG,EAAE,IAAIF,KAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWtB,CACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAEd;IAEA,KAAK,SAAS;MAAE;QACZ,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHI,MAAM,EAAE,MAAM;YACdmC,UAAU,EAAE9C,aAAa,CAACQ,KAAK,IAAI,SAAS;YAC5C9E,MAAM,EAAEsE,aAAa,CAACoJ,SAAS,IAAI,KAAK;YACxC5N,KAAK,EAAEwE,aAAa,CAACxE,KAAK,IAAI,MAAM;YACpC0B,MAAM,EAAE8C,aAAa,CAAC9C,MAAM,IAAI,GAAG;YACnC,GAAGpB;UACP;QAAE;UAAA+E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAEV;IAEA,KAAK,QAAQ;MAAE;QACX,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHuC,UAAU,EAAE9C,aAAa,CAAC8C,UAAU,IAAI,aAAa;YACrDpH,MAAM,EAAEsE,aAAa,CAACtE,MAAM,IAAI,MAAM;YACtCF,KAAK,EAAEwE,aAAa,CAACxE,KAAK,IAAI,MAAM;YACpC,GAAGM;UACP;QAAE;UAAA+E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAEV;IAEA,KAAK,OAAO;MAAE;QACV,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHnD,OAAO,EAAE,MAAM;YACfyI,aAAa,EAAE7F,aAAa,CAAC8F,SAAS,IAAI,QAAQ;YAClDjD,GAAG,EAAE7C,aAAa,CAAC6C,GAAG,IAAI,MAAM;YAChC0B,SAAS,EAAEvE,aAAa,CAACuE,SAAS,IAAI,QAAQ;YAC9C7D,OAAO,EAAEV,aAAa,CAACU,OAAO,IAAI,MAAM;YACxCoC,UAAU,EAAE9C,aAAa,CAAC8C,UAAU,IAAI,0BAA0B;YAClElC,YAAY,EAAEZ,aAAa,CAACY,YAAY,IAAI,MAAM;YAClD,GAAG9E;UACP,CAAE;UAAAmE,QAAA,GAEDD,aAAa,CAACoD,KAAK,IAAI,CAACnD,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,SAAS,CAAC,iBACxEnI,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAACiG,aAAa,IAAI,QAAQ;cACjD/I,MAAM,EAAE8C,aAAa,CAACgG,WAAW,IAAI,GAAG;cACxCxF,KAAK,EAAER,aAAa,CAACkG,UAAU,IAAI,SAAS;cAC5C5B,UAAU,EAAEtE,aAAa,CAACmG,eAAe,IAAI;YACjD,CAAE;YAAAlG,QAAA,EAEDD,aAAa,CAACoD;UAAK;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CACP,EACAhB,aAAa,CAACyE,OAAO,IAAI,CAACxE,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,WAAW,CAAC,iBAC5EnI,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAAC4H,eAAe,IAAI,MAAM;cACjD1K,MAAM,EAAE8C,aAAa,CAAC6H,aAAa,IAAI,GAAG;cAC1CrH,KAAK,EAAER,aAAa,CAAC8H,YAAY,IAAI;YACzC,CAAE;YAAA7H,QAAA,EAEDD,aAAa,CAACyE;UAAO;YAAA5D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvB,CACN,EACAhB,aAAa,CAACsH,UAAU,IAAI,CAACrH,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,QAAQ,CAAC,iBAC5EnI,OAAA;YACI+I,KAAK,EAAE;cACHG,OAAO,EAAEV,aAAa,CAACiH,aAAa,IAAI,WAAW;cACnDrG,YAAY,EAAEZ,aAAa,CAACkH,kBAAkB,IAAI,KAAK;cACvDpE,UAAU,EAAE9C,aAAa,CAAC+G,gBAAgB,IAAI,SAAS;cACvDvG,KAAK,EAAER,aAAa,CAACgH,WAAW,IAAI,MAAM;cAC1CrG,MAAM,EAAEX,aAAa,CAACmH,YAAY,IAAI,MAAM;cAC5CxD,MAAM,EAAE,SAAS;cACjBM,QAAQ,EAAEjE,aAAa,CAACoH,cAAc,IAAI,MAAM;cAChD9C,UAAU,EAAEtE,aAAa,CAACqH,gBAAgB,IAAI;YAClD,CAAE;YAAApH,QAAA,EAEDD,aAAa,CAACsH;UAAU;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CACX,EACAf,QAAQ,CAAChB,GAAG,CAAC,CAACwC,KAAK,EAAEC,KAAK,kBACvBlK,OAAA;YAA6B+I,KAAK,EAAE;cAAEoB,YAAY,EAAEF,KAAK,CAACE,YAAY,IAAI;YAAO,CAAE;YAAA1B,QAAA,EAC9EF,sBAAsB,CACnB0B,KAAK,CAAC9B,IAAI,EACV8B,KAAK,CAACzB,aAAa,IAAI,CAAC,CAAC,EACzByB,KAAK,CAACxB,QAAQ,IAAI,EAAE,EACpBC,QAAQ,EACRC,aAAa,EACbC,QAAQ,EACRqB,KAAK,CAACG,EACV;UAAC,GATKH,KAAK,CAACG,EAAE,IAAIF,KAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAUtB,CACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAEd;IAEA,KAAK,OAAO;MAAE;QACV,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHnD,OAAO,EAAE,MAAM;YACfyI,aAAa,EAAE7F,aAAa,CAAC8F,SAAS,IAAI,QAAQ;YAClDjD,GAAG,EAAE7C,aAAa,CAAC6C,GAAG,IAAI,MAAM;YAChCnC,OAAO,EAAEV,aAAa,CAACU,OAAO,IAAI,MAAM;YACxCoC,UAAU,EAAE9C,aAAa,CAAC8C,UAAU,IAAI,0BAA0B;YAClElC,YAAY,EAAEZ,aAAa,CAACY,YAAY,IAAI,MAAM;YAClD,GAAG9E;UACP,CAAE;UAAAmE,QAAA,GAEDD,aAAa,CAACoD,KAAK,IAAI,CAACnD,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,SAAS,CAAC,iBACxEnI,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAACiG,aAAa,IAAI,QAAQ;cACjD/I,MAAM,EAAE8C,aAAa,CAACgG,WAAW,IAAI,GAAG;cACxCxF,KAAK,EAAER,aAAa,CAACkG,UAAU,IAAI,SAAS;cAC5C5B,UAAU,EAAEtE,aAAa,CAACmG,eAAe,IAAI;YACjD,CAAE;YAAAlG,QAAA,EAEDD,aAAa,CAACoD;UAAK;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CACP,EACAhB,aAAa,CAACyE,OAAO,IAAI,CAACxE,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,WAAW,CAAC,iBAC5EnI,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAAC4H,eAAe,IAAI,MAAM;cACjD1K,MAAM,EAAE8C,aAAa,CAAC6H,aAAa,IAAI,GAAG;cAC1CrH,KAAK,EAAER,aAAa,CAAC8H,YAAY,IAAI;YACzC,CAAE;YAAA7H,QAAA,EAEDD,aAAa,CAACyE;UAAO;YAAA5D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvB,CACN,EACAhB,aAAa,CAACqJ,WAAW,IAAI,CAACpJ,QAAQ,CAAC8F,IAAI,CAAEtE,KAAK,IAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,QAAQ,CAAC,iBAC7EnI,OAAA;YACI+I,KAAK,EAAE;cACHG,OAAO,EAAEV,aAAa,CAACiH,aAAa,IAAI,UAAU;cAClDrG,YAAY,EAAEZ,aAAa,CAACkH,kBAAkB,IAAI,KAAK;cACvDpE,UAAU,EAAE9C,aAAa,CAAC+G,gBAAgB,IAAI,SAAS;cACvDvG,KAAK,EAAER,aAAa,CAACgH,WAAW,IAAI,MAAM;cAC1CrG,MAAM,EAAEX,aAAa,CAACmH,YAAY,IAAI,MAAM;cAC5CxD,MAAM,EAAE,SAAS;cACjB2F,SAAS,EAAE,UAAU;cACrBrF,QAAQ,EAAEjE,aAAa,CAACoH,cAAc,IAAI,MAAM;cAChD9C,UAAU,EAAEtE,aAAa,CAACqH,gBAAgB,IAAI;YAClD,CAAE;YAAApH,QAAA,EAEDD,aAAa,CAACsH,UAAU,IAAI;UAAM;YAAAzG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/B,CACX,EACAf,QAAQ,CAAChB,GAAG,CAAC,CAACwC,KAAK,EAAEC,KAAK,kBACvBlK,OAAA;YAA6B+I,KAAK,EAAE;cAAEoB,YAAY,EAAEF,KAAK,CAACE,YAAY,IAAI;YAAO,CAAE;YAAA1B,QAAA,EAC9EF,sBAAsB,CACnB0B,KAAK,CAAC9B,IAAI,EACV8B,KAAK,CAACzB,aAAa,IAAI,CAAC,CAAC,EACzByB,KAAK,CAACxB,QAAQ,IAAI,EAAE,EACpBC,QAAQ,EACRC,aAAa,EACbC,QAAQ,EACRqB,KAAK,CAACG,EACV;UAAC,GATKH,KAAK,CAACG,EAAE,IAAIF,KAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAUtB,CACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAEd;IAEA,KAAK,MAAM;MAAE;QACT,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHG,OAAO,EAAEV,aAAa,CAACU,OAAO,IAAI,MAAM;YACxCoC,UAAU,EAAE9C,aAAa,CAAC8C,UAAU,IAAI,SAAS;YACjDlC,YAAY,EAAEZ,aAAa,CAACY,YAAY,IAAI,KAAK;YACjD2I,SAAS,EAAEvJ,aAAa,CAACuJ,SAAS,IAAI,2BAA2B;YACjE,GAAGzN;UACP,CAAE;UAAAmE,QAAA,GAEDD,aAAa,CAACoD,KAAK,iBAChB5L,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAACiG,aAAa,IAAI,QAAQ;cACjD/I,MAAM,EAAE8C,aAAa,CAACgG,WAAW,IAAI,GAAG;cACxCxF,KAAK,EAAER,aAAa,CAACkG,UAAU,IAAI;YACvC,CAAE;YAAAjG,QAAA,EAEDD,aAAa,CAACoD;UAAK;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CACP,EACAhB,aAAa,CAACyE,OAAO,iBAClBjN,OAAA;YACI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAAC4H,eAAe,IAAI,MAAM;cACjD1K,MAAM,EAAE8C,aAAa,CAAC6H,aAAa,IAAI,UAAU;cACjDrH,KAAK,EAAER,aAAa,CAAC8H,YAAY,IAAI;YACzC,CAAE;YAAA7H,QAAA,EAEDD,aAAa,CAACyE;UAAO;YAAA5D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvB,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAEd;IAEA,KAAK,MAAM;MAAE;QACT,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHnD,OAAO,EAAE,MAAM;YACfuF,mBAAmB,EAAE3C,aAAa,CAAC4C,OAAO,GAAG,UAAU5C,aAAa,CAAC4C,OAAO,QAAQ,GAAG,gBAAgB;YACvGC,GAAG,EAAE7C,aAAa,CAAC6C,GAAG,IAAI,MAAM;YAChC,GAAG/G;UACP,CAAE;UAAAmE,QAAA,EAEDmG,KAAK,CAACC,OAAO,CAACrG,aAAa,CAACwJ,KAAK,CAAC,IAC/BxJ,aAAa,CAACwJ,KAAK,CAACvK,GAAG,CAAC,CAACwK,IAAI,EAAE/H,KAAK,kBAChClK,OAAA;YAEI+I,KAAK,EAAE;cACHuC,UAAU,EAAE9C,aAAa,CAAC0J,cAAc,IAAI,SAAS;cACrD9I,YAAY,EAAEZ,aAAa,CAAC2J,gBAAgB,IAAI,KAAK;cACrDjJ,OAAO,EAAEV,aAAa,CAAC4J,WAAW,IAAI;YAC1C,CAAE;YAAA3J,QAAA,GAEDwJ,IAAI,CAACI,KAAK,iBACPrS,OAAA;cACIoM,GAAG,EAAE6F,IAAI,CAACI,KAAM;cAChBhG,GAAG,EAAE4F,IAAI,CAACrG,KAAK,IAAI,SAAU;cAC7B7C,KAAK,EAAE;gBAAEoF,QAAQ,EAAE,MAAM;gBAAEjK,MAAM,EAAE;cAAO;YAAE;cAAAmF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/C,CACJ,EACAyI,IAAI,CAACrG,KAAK,iBACP5L,OAAA;cACI+I,KAAK,EAAE;gBACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;gBAC7BmI,QAAQ,EAAEjE,aAAa,CAACiG,aAAa,IAAI,MAAM;gBAC/C/I,MAAM,EAAE8C,aAAa,CAACgG,WAAW,IAAI,UAAU;gBAC/CxF,KAAK,EAAER,aAAa,CAACkG,UAAU,IAAI;cACvC,CAAE;cAAAjG,QAAA,EAEDwJ,IAAI,CAACrG;YAAK;cAAAvC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACX,CACP,EACAyI,IAAI,CAACK,KAAK,iBACPtS,OAAA;cACI+I,KAAK,EAAE;gBACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;gBAC7BmI,QAAQ,EAAEjE,aAAa,CAAC+J,aAAa,IAAI,QAAQ;gBACjD7M,MAAM,EAAE8C,aAAa,CAACgK,WAAW,IAAI,SAAS;gBAC9CxJ,KAAK,EAAER,aAAa,CAACiK,UAAU,IAAI;cACvC,CAAE;cAAAhK,QAAA,EAEDwJ,IAAI,CAACK;YAAK;cAAAjJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CACN;UAAA,GArCIU,KAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAsCT,CACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAEd;IAEA,KAAK,MAAM;MAAE;QACT,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACH2J,aAAa,EAAElK,aAAa,CAACkK,aAAa,IAAI,MAAM;YACpDxJ,OAAO,EAAEV,aAAa,CAACU,OAAO,IAAI,GAAG;YACrC,GAAG5E;UACP,CAAE;UAAAmE,QAAA,EAEDmG,KAAK,CAACC,OAAO,CAACrG,aAAa,CAACwJ,KAAK,CAAC,IAC/BxJ,aAAa,CAACwJ,KAAK,CAACvK,GAAG,CAAC,CAACwK,IAAI,EAAE/H,KAAK,kBAChClK,OAAA;YAEI+I,KAAK,EAAE;cACH,GAAGzD,kBAAkB,CAAChB,MAAM,CAAC;cAC7BmI,QAAQ,EAAEjE,aAAa,CAACmK,YAAY,IAAI,MAAM;cAC9CjN,MAAM,EAAE8C,aAAa,CAACoK,UAAU,IAAI,OAAO;cAC3C5J,KAAK,EAAER,aAAa,CAACqK,SAAS,IAAI;YACtC,CAAE;YAAApK,QAAA,EAEDwJ,IAAI,CAACrG,KAAK,IAAIqG;UAAI,GARd/H,KAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OASV,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAEb;IAEA,KAAK,SAAS;MAAE;QAAA,IAAAsJ,sBAAA;QACZ,MAAM;UAAEC,MAAM,GAAG,EAAE;UAAE9K,SAAS,GAAG,CAAC;QAAE,CAAC,GAAGO,aAAa;QACrD,MAAMN,YAAY,GAAG,WAAWU,QAAQ,IAAI,MAAM,IAAIC,OAAO,IAAIiD,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;QAC7E,MAAM3D,YAAY,GAAGJ,sBAAsB,CAACC,SAAS,EAAEC,YAAY,CAAC;QAEpE,MAAM8K,gBAAgB,GAAGA,CAACrI,CAAC,EAAEkB,QAAQ,EAAE3B,KAAK,KAAK;UAC7CS,CAAC,CAACC,eAAe,CAAC,CAAC;UACnB,IAAIlC,QAAQ,EAAE;YACV,IAAI,OAAOC,aAAa,KAAK,UAAU,IAAIC,QAAQ,IAAIC,OAAO,EAAE;cAC5DF,aAAa,CAACC,QAAQ,EAAEC,OAAO,CAAC;YACpC;YACAjJ,KAAK,CAAC2N,IAAI,CAAC,iCAAiCrD,KAAK,GAAG,CAAC,EAAE,EAAE;cACrDtG,QAAQ,EAAE,cAAc;cACxB6J,SAAS,EAAE;YACf,CAAC,CAAC;UACN,CAAC,MAAM;YACHxM,OAAO,CAAC0M,GAAG,CAAC,eAAe9B,QAAQ,EAAE,CAAC;UAC1C;QACJ,CAAC;QAED,oBACI7L,OAAA,CAAAE,SAAA;UAAAuI,QAAA,GACKL,YAAY,iBAAIpI,OAAA;YAAAyI,QAAA,EAAQL;UAAY;YAAAiB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC9CxJ,OAAA;YACIuE,SAAS,EAAE,eAAe2D,YAAY,EAAG;YACzCa,KAAK,EAAE;cACH,GAAGzE,MAAM;cACT6H,MAAM,EAAE,CAAA2G,sBAAA,GAAAtK,aAAa,CAACiC,MAAM,cAAAqI,sBAAA,eAApBA,sBAAA,CAAsBjI,OAAO,GAAG,SAAS,GAAG;YACxD,CAAE;YACFA,OAAO,EAAGF,CAAC,IAAK;cACZA,CAAC,CAACC,eAAe,CAAC,CAAC;cACnB,IAAIlC,QAAQ,IAAI,OAAOC,aAAa,KAAK,UAAU,IAAIC,QAAQ,IAAIC,OAAO,EAAE;gBACxEF,aAAa,CAACC,QAAQ,EAAEC,OAAO,CAAC;cACpC;YACJ,CAAE;YAAAJ,QAAA,gBAEFzI,OAAA;cACI+I,KAAK,EAAE;gBACHnD,OAAO,EAAEtB,MAAM,CAACsB,OAAO,IAAI,MAAM;gBACjCuF,mBAAmB,EAAE7G,MAAM,CAAC6G,mBAAmB,IAAI,uCAAuC;gBAC1FE,GAAG,EAAE/G,MAAM,CAAC+G,GAAG,IAAI,MAAM;gBACzBrH,KAAK,EAAE;cACX,CAAE;cAAAyE,QAAA,EAEDsK,MAAM,CAACtL,GAAG,CAAC,CAACoE,QAAQ,EAAE3B,KAAK,kBACxBlK,OAAA;gBAEI+I,KAAK,EAAE;kBACHnF,QAAQ,EAAE,UAAU;kBACpBqP,QAAQ,EAAE,QAAQ;kBAClB7J,YAAY,EAAE9E,MAAM,CAAC8E,YAAY,IAAI,KAAK;kBAC1C8J,WAAW,EAAE,OAAO;kBACpB/G,MAAM,EAAE,SAAS;kBACjB4B,UAAU,EAAE;gBAChB,CAAE;gBACFlD,OAAO,EAAGF,CAAC,IAAKqI,gBAAgB,CAACrI,CAAC,EAAEkB,QAAQ,EAAE3B,KAAK,CAAE;gBACrDiJ,YAAY,EAAGxI,CAAC,IAAK;kBAAA,IAAAyI,sBAAA,EAAAC,sBAAA;kBACjB,IAAI,EAAAD,sBAAA,GAAA5K,aAAa,CAACiC,MAAM,cAAA2I,sBAAA,wBAAAC,sBAAA,GAApBD,sBAAA,CAAsBE,OAAO,cAAAD,sBAAA,uBAA7BA,sBAAA,CAA+BlL,IAAI,MAAK,QAAQ,EAAE;oBAClDwC,CAAC,CAAC4I,aAAa,CAACxK,KAAK,CAACyK,SAAS,GAAG,aAAa;kBACnD;gBACJ,CAAE;gBACFC,YAAY,EAAG9I,CAAC,IAAK;kBAAA,IAAA+I,sBAAA,EAAAC,sBAAA;kBACjB,IAAI,EAAAD,sBAAA,GAAAlL,aAAa,CAACiC,MAAM,cAAAiJ,sBAAA,wBAAAC,sBAAA,GAApBD,sBAAA,CAAsBJ,OAAO,cAAAK,sBAAA,uBAA7BA,sBAAA,CAA+BxL,IAAI,MAAK,QAAQ,EAAE;oBAClDwC,CAAC,CAAC4I,aAAa,CAACxK,KAAK,CAACyK,SAAS,GAAG,UAAU;kBAChD;gBACJ,CAAE;gBAAA/K,QAAA,eAEFzI,OAAA;kBACIoM,GAAG,EAAEP,QAAQ,IAAI,iCAAkC;kBACnDQ,GAAG,EAAE,WAAWnC,KAAK,GAAG,CAAC,EAAG;kBAC5BnB,KAAK,EAAE;oBACH/E,KAAK,EAAE,MAAM;oBACbE,MAAM,EAAE,MAAM;oBACdoI,SAAS,EAAE;kBACf,CAAE;kBACFsH,OAAO,EAAC;gBAAM;kBAAAvK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjB;cAAC,GA9BGU,KAAK;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OA+BT,CACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,EACLf,QAAQ,CAAChB,GAAG,CAAC,CAACwC,KAAK,EAAEC,KAAK,kBACvBlK,OAAA;cAA6B+I,KAAK,EAAE;gBAAEoB,YAAY,EAAEF,KAAK,CAACE,YAAY,IAAI;cAAO,CAAE;cAAA1B,QAAA,EAC9EF,sBAAsB,CACnB0B,KAAK,CAAC9B,IAAI,EACV8B,KAAK,CAACzB,aAAa,IAAI,CAAC,CAAC,EACzByB,KAAK,CAAC3F,MAAM,IAAI,CAAC,CAAC,EAClB2F,KAAK,CAACxB,QAAQ,IAAI,EAAE,EACpBC,QAAQ,EACRC,aAAa,EACbC,QAAQ,EACRqB,KAAK,CAACG,EACV;YAAC,GAVKH,KAAK,CAACG,EAAE,IAAIF,KAAK;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAWtB,CACR,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA,eACR,CAAC;MAEX;IAEA;MAAS;QACL,oBACIxJ,OAAA;UACI+I,KAAK,EAAE;YACHC,KAAK,EAAER,aAAa,CAACS,UAAU,IAAI,SAAS;YAC5CC,OAAO,EAAE,MAAM;YACfC,MAAM,EAAE,oBAAoB;YAC5BC,YAAY,EAAE,KAAK;YACnB,GAAG9E;UACP,CAAE;UAAAmE,QAAA,GACL,qBACsB,EAACN,IAAI;QAAA;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB,CAAC;MAEd;EACJ;AACJ,CAAC;;AAED;AACAjB,sBAAsB,CAACsL,SAAS,GAAG;EAC/B1L,IAAI,EAAExI,SAAS,CAACmU,MAAM,CAACC,UAAU;EACjCvL,aAAa,EAAE7I,SAAS,CAACqU,MAAM;EAC/B1P,MAAM,EAAE3E,SAAS,CAACqU,MAAM;EACxBvL,QAAQ,EAAE9I,SAAS,CAACsU,KAAK;EACzBvL,QAAQ,EAAE/I,SAAS,CAACuU,IAAI;EACxBvL,aAAa,EAAEhJ,SAAS,CAACwU,IAAI;EAC7BvL,QAAQ,EAAEjJ,SAAS,CAACmU,MAAM;EAC1BjL,OAAO,EAAElJ,SAAS,CAACmU,MAAM;EACzBhL,cAAc,EAAEnJ,SAAS,CAACuU;AAC9B,CAAC;AAEDtT,iBAAiB,CAACiT,SAAS,GAAG;EAC1BhT,MAAM,EAAElB,SAAS,CAACyU,MAAM,CAACL,UAAU;EACnCjT,MAAM,EAAEnB,SAAS,CAACyU,MAAM,CAACL,UAAU;EACnChT,gBAAgB,EAAEpB,SAAS,CAAC0U,UAAU,CAACC,OAAO,CAAC;EAC/CtT,SAAS,EAAErB,SAAS,CAACyU,MAAM,CAACL;AAChC,CAAC;AAED9R,UAAU,CAAC4R,SAAS,GAAG;EACnB1S,CAAC,EAAExB,SAAS,CAACyU,MAAM,CAACL,UAAU;EAC9B3S,CAAC,EAAEzB,SAAS,CAACyU,MAAM,CAACL,UAAU;EAC9B7R,QAAQ,EAAEvC,SAAS,CAACyU,MAAM,CAACL,UAAU;EACrC5R,UAAU,EAAExC,SAAS,CAAC4U,OAAO,CACzB5U,SAAS,CAAC6U,KAAK,CAAC;IACZrT,CAAC,EAAExB,SAAS,CAACyU,MAAM;IACnBhT,CAAC,EAAEzB,SAAS,CAACyU;EACjB,CAAC,CACL;AACJ,CAAC;AAED1R,gBAAgB,CAACmR,SAAS,GAAG;EACzBlR,OAAO,EAAEhD,SAAS,CAAC6U,KAAK,CAAC;IACrB5Q,QAAQ,EAAEjE,SAAS,CAAC6U,KAAK,CAAC;MACtB3Q,OAAO,EAAElE,SAAS,CAAC6U,KAAK,CAAC;QACrBrT,CAAC,EAAExB,SAAS,CAACyU,MAAM;QACnBhT,CAAC,EAAEzB,SAAS,CAACyU;MACjB,CAAC;IACL,CAAC,CAAC;IACFrQ,IAAI,EAAEpE,SAAS,CAAC6U,KAAK,CAAC;MAClBxQ,KAAK,EAAErE,SAAS,CAACyU,MAAM;MACvBlQ,MAAM,EAAEvE,SAAS,CAACyU;IACtB,CAAC;EACL,CAAC,CAAC,CAACL;AACP,CAAC;AAED1P,aAAa,CAACwP,SAAS,GAAG;EACtBvP,MAAM,EAAE3E,SAAS,CAACqU,MAAM,CAACD,UAAU;EACnCxP,SAAS,EAAE5E,SAAS,CAACmU,MAAM,CAACC;AAChC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}