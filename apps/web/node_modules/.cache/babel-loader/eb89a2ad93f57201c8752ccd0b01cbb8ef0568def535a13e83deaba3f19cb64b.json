{"ast":null,"code":"// CSS variables for consistent styling\nconst CSS_VARIABLES = {\n  '--canvas-desktop': '1200px',\n  '--canvas-mobile': '375px',\n  '--white': '#ffffff',\n  '--border-radius': '4px',\n  '--shadow': '0 2px 8px rgba(0, 0, 0, 0.15)',\n  '--primary-color': '#2563eb'\n};\n\n// Utility to convert camelCase to kebab-case\nconst toKebabCase = str => str.replace(/[A-Z]/g, m => `-${m.toLowerCase()}`);\n\n// Utility to parse HTML string to page data structure\nconst parseHTMLToPageData = html => {\n  try {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n    const canvasElement = doc.querySelector('.lpb-canvas');\n    if (!canvasElement) {\n      return {\n        canvas: {\n          width: parseInt(CSS_VARIABLES['--canvas-desktop']),\n          background: CSS_VARIABLES['--white']\n        },\n        elements: [],\n        visiblePopups: []\n      };\n    }\n    const elements = [];\n    const visiblePopups = [];\n    const canvasStyles = window.getComputedStyle(canvasElement);\n    const canvas = {\n      width: parseInt(canvasStyles.width) || parseInt(CSS_VARIABLES['--canvas-desktop']),\n      height: parseInt(canvasStyles.height) || 1000,\n      background: canvasStyles.backgroundColor || CSS_VARIABLES['--white']\n    };\n    const parseElement = (el, parentId = null) => {\n      const element = {\n        id: el.id || `element-${Date.now()}`,\n        type: el.dataset.type || 'section',\n        componentData: JSON.parse(el.dataset.componentData || '{}'),\n        position: {\n          desktop: {\n            x: parseFloat(el.style.left) || 0,\n            y: parseFloat(el.style.top) || 0\n          },\n          tablet: {\n            x: 0,\n            y: 0\n          },\n          mobile: {\n            x: 0,\n            y: 0\n          }\n        },\n        size: {\n          width: parseInt(el.style.width) || el.offsetWidth || 1200,\n          height: parseInt(el.style.height) || el.offsetHeight || 400\n        },\n        styles: {\n          backgroundColor: el.style.backgroundColor || '',\n          borderRadius: el.style.borderRadius || '',\n          boxShadow: el.style.boxShadow || '',\n          margin: el.style.margin || '0',\n          padding: el.style.padding || '0',\n          zIndex: parseInt(el.style.zIndex) || 1,\n          ':hover': el.dataset.hoverStyles ? JSON.parse(el.dataset.hoverStyles) : {},\n          ':active': el.dataset.activeStyles ? JSON.parse(el.dataset.activeStyles) : {}\n        },\n        visible: el.style.display !== 'none',\n        locked: el.dataset.locked === 'true',\n        children: []\n      };\n      if (el.dataset.type === 'popup' || el.dataset.type === 'modal') {\n        if (element.visible) visiblePopups.push(element.id);\n      }\n      const childElements = el.querySelectorAll(':scope > [data-type]');\n      childElements.forEach(child => {\n        element.children.push(parseElement(child, element.id));\n      });\n      return element;\n    };\n    const rootElements = doc.querySelectorAll('.lpb-canvas > [data-type]');\n    rootElements.forEach(el => {\n      elements.push(parseElement(el));\n    });\n    return {\n      canvas,\n      elements,\n      visiblePopups\n    };\n  } catch (error) {\n    console.error('Error parsing HTML to page data:', error);\n    return {\n      canvas: {\n        width: parseInt(CSS_VARIABLES['--canvas-desktop']),\n        background: CSS_VARIABLES['--white']\n      },\n      elements: [],\n      visiblePopups: []\n    };\n  }\n};\n\n// Utility to generate static HTML from page data\nconst renderStaticHTML = (pageData, viewMode = 'desktop') => {\n  try {\n    const {\n      canvas,\n      elements,\n      visiblePopups\n    } = pageData;\n    const canvasWidth = viewMode === 'mobile' ? parseInt(CSS_VARIABLES['--canvas-mobile']) : parseInt(CSS_VARIABLES['--canvas-desktop']);\n    const canvasHeight = canvas.height || 1000;\n\n    // Calculate canvas height based on sections\n    const calculatedHeight = elements.filter(el => el.type === 'section').reduce((maxY, el) => {\n      var _el$position, _el$position$viewMode, _el$size;\n      const y = ((_el$position = el.position) === null || _el$position === void 0 ? void 0 : (_el$position$viewMode = _el$position[viewMode]) === null || _el$position$viewMode === void 0 ? void 0 : _el$position$viewMode.y) || 0;\n      const height = ((_el$size = el.size) === null || _el$size === void 0 ? void 0 : _el$size.height) || 400;\n      return Math.max(maxY, y + height);\n    }, canvasHeight);\n\n    // Base HTML structure\n    let html = `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Landing Page Preview</title>\n    <style>\n        body { margin: 0; padding: 0; font-family: Arial, sans-serif; }\n        .lpb-canvas { \n            position: relative; \n            width: ${canvasWidth}px; \n            height: ${calculatedHeight}px; \n            background: ${canvas.background || CSS_VARIABLES['--white']}; \n            margin: 0 auto; \n            overflow: hidden; \n        }\n        .lpb-element { position: absolute; box-sizing: border-box; }\n        .lpb-child-element { position: absolute; box-sizing: border-box; }\n        .lpb-section { width: 100%; }\n        .lpb-popup, .lpb-modal { \n            display: none; \n            background: ${CSS_VARIABLES['--white']}; \n            border-radius: ${CSS_VARIABLES['--border-radius']}; \n            box-shadow: ${CSS_VARIABLES['--shadow']}; \n        }\n        .lpb-popup.visible, .lpb-modal.visible { display: block; }\n        .lpb-heading { font-size: 2rem; font-weight: bold; }\n        .lpb-paragraph { font-size: 1rem; line-height: 1.5; }\n        .lpb-button { \n            padding: 10px 20px; \n            background: ${CSS_VARIABLES['--primary-color']}; \n            color: white; \n            border: none; \n            border-radius: 4px; \n            cursor: pointer; \n            transition: all 0.3s ease;\n        }\n        .lpb-image { object-fit: cover; }\n        .lpb-icon { font-size: 24px; }\n        .lpb-gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; }\n        .lpb-gallery img { width: 100%; height: 100%; object-fit: cover; }\n        .lpb-form { display: flex; flex-direction: column; gap: 10px; }\n        .lpb-form input { padding: 8px; border: 1px solid #ccc; border-radius: 8px; }\n    </style>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\">\n    <script>\n        function togglePopup(popupId) {\n            const popup = document.getElementById(popupId);\n            if (popup) {\n                popup.classList.toggle('visible');\n            }\n        }\n        function handleButtonClick(eventType, data, elementId) {\n            if (eventType === 'navigate') {\n                window.location.href = data.url;\n            } else if (eventType === 'triggerApi') {\n                console.log('Trigger API:', data.apiUrl);\n            } else if (eventType === 'submitForm') {\n                console.log('Submit form to:', data.apiUrl);\n            } else if (eventType === 'popup') {\n                togglePopup(data.popupId);\n            }\n        }\n        function handleGalleryClick(imageUrl, index) {\n            console.log('Open lightbox for image:', imageUrl, 'at index:', index);\n        }\n    </script>\n</head>\n<body>\n    <div class=\"lpb-canvas\">\n`;\n\n    // Process styles for pseudo-classes and keyframes\n    const processStyles = (styles, className) => {\n      let cssString = `.${className} { `;\n      const keyframes = {};\n      Object.entries(styles).forEach(([key, value]) => {\n        if (key.startsWith(':')) {\n          cssString += `.${className}${key} { `;\n          Object.entries(value).forEach(([prop, val]) => {\n            cssString += `${toKebabCase(prop)}: ${val}; `;\n          });\n          cssString += '} ';\n        } else if (key.startsWith('@keyframes')) {\n          keyframes[key] = value;\n        } else {\n          cssString += `${toKebabCase(key)}: ${value}; `;\n        }\n      });\n      Object.entries(keyframes).forEach(([key, frames]) => {\n        cssString += `${key} { `;\n        Object.entries(frames).forEach(([percentage, props]) => {\n          cssString += `${percentage} { `;\n          Object.entries(props).forEach(([prop, val]) => {\n            cssString += `${toKebabCase(prop)}: ${val}; `;\n          });\n          cssString += '} ';\n        });\n        cssString += '} ';\n      });\n      return cssString;\n    };\n\n    // Render elements\n    elements.forEach(element => {\n      var _position$viewMode, _position$viewMode2;\n      const {\n        id,\n        type,\n        position,\n        size,\n        styles,\n        componentData,\n        children,\n        visible,\n        locked\n      } = element;\n      const isPopup = type === 'popup' || type === 'modal';\n      const isVisible = visible && (!isPopup || visiblePopups.includes(id));\n      const uniqueClass = `element-${id}`;\n      const elementClass = `lpb-element lpb-${type} ${uniqueClass} ${isVisible ? 'visible' : ''}`;\n      const elementStyles = `\n                left: ${((_position$viewMode = position[viewMode]) === null || _position$viewMode === void 0 ? void 0 : _position$viewMode.x) || 0}px;\n                top: ${((_position$viewMode2 = position[viewMode]) === null || _position$viewMode2 === void 0 ? void 0 : _position$viewMode2.y) || 0}px;\n                width: ${size.width}px;\n                height: ${size.height}px;\n                ${styles.backgroundColor ? `background-color: ${styles.backgroundColor};` : ''}\n                ${styles.borderRadius ? `border-radius: ${styles.borderRadius};` : ''}\n                ${styles.boxShadow ? `box-shadow: ${styles.boxShadow};` : ''}\n                ${styles.margin ? `margin: ${styles.margin};` : ''}\n                ${styles.padding ? `padding: ${styles.padding};` : ''}\n                z-index: ${styles.zIndex || 1};\n                ${locked ? 'pointer-events: none;' : ''}\n            `.trim();\n\n      // Generate CSS for pseudo-classes and keyframes\n      const cssStyles = processStyles(styles, uniqueClass);\n\n      // Generate content based on element type\n      let content = '';\n      if (type === 'section' && componentData.structure === 'ladi-standard') {\n        content = `\n                    <div class=\"ladi-section-background\" style=\"background-color: ${componentData.backgroundColor || 'transparent'}; background-image: ${componentData.backgroundImage ? `url(${componentData.backgroundImage})` : 'none'}; background-size: cover; background-position: center; position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 0;\"></div>\n                    <div class=\"ladi-overlay\" style=\"background-color: ${componentData.overlayColor || 'transparent'}; opacity: ${componentData.overlayOpacity || 0}; position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 0;\"></div>\n                    <div class=\"ladi-container\" style=\"position: relative; z-index: 1; padding: ${componentData.padding || '20px'}; width: 100%; height: 100%;\">\n                `;\n      } else if (type === 'heading') {\n        content = `<h${componentData.level || 2} style=\"font-size: ${componentData.fontSize || '2rem'}; color: ${componentData.color || '#1f2937'}; margin: ${componentData.margin || '0'}; font-weight: ${componentData.fontWeight || '700'}; text-align: ${componentData.textAlign || 'left'}; line-height: ${componentData.lineHeight || '1.4'};\">${componentData.content || 'Heading'}</h${componentData.level || 2}>`;\n      } else if (type === 'paragraph') {\n        content = `<p style=\"font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || '#1f2937'}; margin: ${componentData.margin || '0'}; font-weight: ${componentData.fontWeight || '400'}; line-height: ${componentData.lineHeight || '1.6'}; text-align: ${componentData.textAlign || 'left'};\">${componentData.content || 'Paragraph'}</p>`;\n      } else if (type === 'button') {\n        var _componentData$events;\n        const action = ((_componentData$events = componentData.events) === null || _componentData$events === void 0 ? void 0 : _componentData$events.onClick) || {};\n        const actionAttr = action.type === 'popup' && action.popupId ? `onclick=\"togglePopup('${action.popupId}')\"` : action.type === 'navigate' && action.url ? `onclick=\"handleButtonClick('navigate', { url: '${action.url}' }, '${id}')\"` : action.type === 'triggerApi' && action.apiUrl ? `onclick=\"handleButtonClick('triggerApi', { apiUrl: '${action.apiUrl}' }, '${id}')\"` : action.type === 'submitForm' && action.apiUrl ? `onclick=\"handleButtonClick('submitForm', { apiUrl: '${action.apiUrl}' }, '${id}')\"` : '';\n        content = `<button class=\"lpb-button ${uniqueClass}\" ${actionAttr} style=\"padding: ${styles.padding || '10px 20px'}; border-radius: ${styles.borderRadius || componentData.borderRadius || '4px'}; background: ${styles.background || componentData.background || CSS_VARIABLES['--primary-color']}; color: ${styles.color || componentData.color || '#fff'}; border: ${styles.border || componentData.border || 'none'}; font-size: ${styles.fontSize || componentData.fontSize || '1rem'}; font-weight: ${styles.fontWeight || componentData.fontWeight || '600'}; text-align: ${styles.textAlign || componentData.textAlign || 'center'}; display: ${styles.display || 'inline-flex'}; align-items: ${styles.alignItems || 'center'}; justify-content: ${styles.justifyContent || 'center'}; transition: ${styles.transition || 'all 0.3s ease'}; width: ${styles.width || 'auto'}; min-width: ${styles.minWidth || 'fit-content'}; white-space: nowrap;\">${componentData.content || 'Button'}</button>`;\n      } else if (type === 'image') {\n        content = `<img src=\"${componentData.src || 'https://via.placeholder.com/150'}\" alt=\"${componentData.alt || 'Image'}\" class=\"lpb-image\" style=\"max-width: ${componentData.maxWidth || '100%'}; height: ${componentData.height || 'auto'}; border-radius: ${componentData.borderRadius || '0'};\" loading=\"lazy\">`;\n      } else if (type === 'icon') {\n        var _componentData$size, _componentData$size2, _componentData$events2, _componentData$size3, _componentData$size4, _componentData$events3;\n        const isSvg = componentData.icon && componentData.icon.startsWith('<svg');\n        content = isSvg ? `<div class=\"lpb-icon ${uniqueClass}\" style=\"width: ${((_componentData$size = componentData.size) === null || _componentData$size === void 0 ? void 0 : _componentData$size.width) || styles.width || '50px'}; height: ${((_componentData$size2 = componentData.size) === null || _componentData$size2 === void 0 ? void 0 : _componentData$size2.height) || styles.height || '50px'}; display: ${styles.display || 'flex'}; align-items: ${styles.alignItems || 'center'}; justify-content: ${styles.justifyContent || 'center'};\" ${(_componentData$events2 = componentData.events) !== null && _componentData$events2 !== void 0 && _componentData$events2.onClick ? `onclick=\"handleButtonClick('${componentData.events.onClick.type}', ${JSON.stringify(componentData.events.onClick)}, '${id}')\"` : ''}>${componentData.icon}</div>` : `<i class=\"${componentData.icon || 'fas fa-star'} lpb-icon ${uniqueClass}\" style=\"font-size: ${styles.fontSize || '24px'}; width: ${((_componentData$size3 = componentData.size) === null || _componentData$size3 === void 0 ? void 0 : _componentData$size3.width) || styles.width || '50px'}; height: ${((_componentData$size4 = componentData.size) === null || _componentData$size4 === void 0 ? void 0 : _componentData$size4.height) || styles.height || '50px'}; display: ${styles.display || 'flex'}; align-items: ${styles.alignItems || 'center'}; justify-content: ${styles.justifyContent || 'center'};\" ${(_componentData$events3 = componentData.events) !== null && _componentData$events3 !== void 0 && _componentData$events3.onClick ? `onclick=\"handleButtonClick('${componentData.events.onClick.type}', ${JSON.stringify(componentData.events.onClick)}, '${id}')\"` : ''}></i>`;\n      } else if (type === 'gallery') {\n        const animation = componentData.animation || {};\n        const galleryClass = `gallery-${id}`;\n        let animationCSS = '';\n        if (animation.type) {\n          const animationName = `${animation.type}-${galleryClass}`;\n          animationCSS = `\n                        @keyframes ${animationName} {\n                            ${animation.type === 'fadeIn' ? `\n                                from { opacity: 0; }\n                                to { opacity: 1; }\n                            ` : animation.type === 'fadeInUp' ? `\n                                from { opacity: 0; transform: translateY(20px); }\n                                to { opacity: 1; transform: translateY(0); }\n                            ` : animation.type === 'slideInRight' ? `\n                                from { transform: translateX(100%); }\n                                to { transform: translateX(0); }\n                            ` : animation.type === 'bounceIn' ? `\n                                0% { opacity: 0; transform: scale(0.3); }\n                                50% { opacity: 1; transform: scale(1.05); }\n                                70% { transform: scale(0.9); }\n                                100% { transform: scale(1); }\n                            ` : ''}\n                        }\n                        .${galleryClass} { animation: ${animationName} ${animation.duration || 800}ms ease-out ${animation.delay || 0}ms; }\n                    `;\n        }\n        content = `<div class=\"lpb-gallery ${galleryClass}\" style=\"display: ${styles.display || 'grid'}; grid-template-columns: ${styles.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))'}; gap: ${styles.gap || '10px'}; width: 100%;\">${(componentData.images || []).map((img, idx) => `<div style=\"position: relative; overflow: hidden; border-radius: ${styles.borderRadius || '8px'}; aspect-ratio: 1 / 1; cursor: pointer; transition: transform 0.3s ease;\" onclick=\"handleGalleryClick('${img}', ${idx})\"><img src=\"${img || 'https://via.placeholder.com/150'}\" alt=\"Gallery ${idx + 1}\" style=\"width: 100%; height: 100%; object-fit: cover;\" loading=\"lazy\"></div>`).join('')}</div>`;\n        html += `<style>${animationCSS}</style>`;\n      } else if (type === 'form') {\n        content = `<div class=\"lpb-form\" style=\"display: flex; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; padding: ${styles.padding || '0'}; background: ${styles.background || 'transparent'};\">\n                    ${componentData.title ? `<h3 style=\"font-size: ${componentData.titleFontSize || '1.2rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>` : ''}\n                    ${(componentData.fields || []).map((field, idx) => `<input type=\"${field.type || 'text'}\" placeholder=\"${field.placeholder || field.label || 'Nhập...'}\" style=\"padding: ${field.padding || '8px'}; border-radius: ${field.borderRadius || '8px'}; border: ${field.border || '1px solid #ccc'}; font-size: ${field.fontSize || '1rem'};\">`).join('')}\n                    ${componentData.buttonText ? `<button type=\"submit\" style=\"background: ${componentData.buttonBackground || '#2563eb'}; color: ${componentData.buttonColor || '#fff'}; padding: ${componentData.buttonPadding || '8px 16px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText || 'Gửi'}</button>` : ''}\n                </div>`;\n      }\n\n      // Start element HTML\n      html += `\n        <style>${cssStyles}</style>\n        <div id=\"${id}\" class=\"${elementClass}\" data-type=\"${type}\" data-component-data='${JSON.stringify(componentData)}' style=\"${elementStyles}\">\n            ${content}\n`;\n\n      // Render children\n      if (children && children.length > 0) {\n        children.forEach(child => {\n          var _child$position$viewM, _child$position$viewM2;\n          const childClass = `child-${child.id}`;\n          const childStyles = `\n                        left: ${((_child$position$viewM = child.position[viewMode]) === null || _child$position$viewM === void 0 ? void 0 : _child$position$viewM.x) || 0}px;\n                        top: ${((_child$position$viewM2 = child.position[viewMode]) === null || _child$position$viewM2 === void 0 ? void 0 : _child$position$viewM2.y) || 0}px;\n                        width: ${child.size.width}px;\n                        height: ${child.size.height}px;\n                        ${child.styles.backgroundColor ? `background-color: ${child.styles.backgroundColor};` : ''}\n                        ${child.styles.borderRadius ? `border-radius: ${child.styles.borderRadius};` : ''}\n                        ${child.styles.boxShadow ? `box-shadow: ${child.styles.boxShadow};` : ''}\n                        ${child.styles.margin ? `margin: ${child.styles.margin};` : ''}\n                        ${child.styles.padding ? `padding: ${child.styles.padding};` : ''}\n                        z-index: ${child.styles.zIndex || 2};\n                        ${child.locked ? 'pointer-events: none;' : ''}\n                    `.trim();\n          let childContent = '';\n          if (child.type === 'heading') {\n            childContent = `<h${child.componentData.level || 2} style=\"font-size: ${child.componentData.fontSize || '1.5rem'}; color: ${child.componentData.color || '#1f2937'}; margin: ${child.componentData.margin || '0'}; font-weight: ${child.componentData.fontWeight || '700'}; text-align: ${child.componentData.textAlign || 'left'}; line-height: ${child.componentData.lineHeight || '1.4'};\">${child.componentData.content || 'Child Heading'}</h${child.componentData.level || 2}>`;\n          } else if (child.type === 'paragraph') {\n            childContent = `<p style=\"font-size: ${child.componentData.fontSize || '1rem'}; color: ${child.componentData.color || '#1f2937'}; margin: ${child.componentData.margin || '0'}; font-weight: ${child.componentData.fontWeight || '400'}; line-height: ${child.componentData.lineHeight || '1.6'}; text-align: ${child.componentData.textAlign || 'left'};\">${child.componentData.content || 'Child Paragraph'}</p>`;\n          } else if (child.type === 'button') {\n            var _child$componentData$;\n            const action = ((_child$componentData$ = child.componentData.events) === null || _child$componentData$ === void 0 ? void 0 : _child$componentData$.onClick) || {};\n            const actionAttr = action.type === 'popup' && action.popupId ? `onclick=\"togglePopup('${action.popupId}')\"` : action.type === 'navigate' && action.url ? `onclick=\"handleButtonClick('navigate', { url: '${action.url}' }, '${child.id}')\"` : action.type === 'triggerApi' && action.apiUrl ? `onclick=\"handleButtonClick('triggerApi', { apiUrl: '${action.apiUrl}' }, '${child.id}')\"` : action.type === 'submitForm' && action.apiUrl ? `onclick=\"handleButtonClick('submitForm', { apiUrl: '${action.apiUrl}' }, '${child.id}')\"` : '';\n            childContent = `<button class=\"lpb-button ${childClass}\" ${actionAttr} style=\"padding: ${child.styles.padding || '10px 20px'}; border-radius: ${child.styles.borderRadius || child.componentData.borderRadius || '4px'}; background: ${child.styles.background || child.componentData.background || CSS_VARIABLES['--primary-color']}; color: ${child.styles.color || child.componentData.color || '#fff'}; border: ${child.styles.border || child.componentData.border || 'none'}; font-size: ${child.styles.fontSize || child.componentData.fontSize || '1rem'}; font-weight: ${child.styles.fontWeight || child.componentData.fontWeight || '600'}; text-align: ${child.styles.textAlign || child.componentData.textAlign || 'center'}; display: ${child.styles.display || 'inline-flex'}; align-items: ${child.styles.alignItems || 'center'}; justify-content: ${child.styles.justifyContent || 'center'}; transition: ${child.styles.transition || 'all 0.3s ease'}; width: ${child.styles.width || 'auto'}; min-width: ${child.styles.minWidth || 'fit-content'}; white-space: nowrap;\">${child.componentData.content || 'Child Button'}</button>`;\n          } else if (child.type === 'image') {\n            childContent = `<img src=\"${child.componentData.src || 'https://via.placeholder.com/150'}\" alt=\"${child.componentData.alt || 'Child Image'}\" class=\"lpb-image\" style=\"max-width: ${child.componentData.maxWidth || '100%'}; height: ${child.componentData.height || 'auto'}; border-radius: ${child.componentData.borderRadius || '0'};\" loading=\"lazy\">`;\n          } else if (child.type === 'icon') {\n            var _child$componentData$2, _child$componentData$3, _child$componentData$4, _child$componentData$5, _child$componentData$6, _child$componentData$7;\n            const isSvg = child.componentData.icon && child.componentData.icon.startsWith('<svg');\n            childContent = isSvg ? `<div class=\"lpb-icon ${childClass}\" style=\"width: ${((_child$componentData$2 = child.componentData.size) === null || _child$componentData$2 === void 0 ? void 0 : _child$componentData$2.width) || child.styles.width || '50px'}; height: ${((_child$componentData$3 = child.componentData.size) === null || _child$componentData$3 === void 0 ? void 0 : _child$componentData$3.height) || child.styles.height || '50px'}; display: ${child.styles.display || 'flex'}; align-items: ${child.styles.alignItems || 'center'}; justify-content: ${child.styles.justifyContent || 'center'};\" ${(_child$componentData$4 = child.componentData.events) !== null && _child$componentData$4 !== void 0 && _child$componentData$4.onClick ? `onclick=\"handleButtonClick('${child.componentData.events.onClick.type}', ${JSON.stringify(child.componentData.events.onClick)}, '${child.id}')\"` : ''}>${child.componentData.icon}</div>` : `<i class=\"${child.componentData.icon || 'fas fa-star'} lpb-icon ${childClass}\" style=\"font-size: ${child.styles.fontSize || '24px'}; width: ${((_child$componentData$5 = child.componentData.size) === null || _child$componentData$5 === void 0 ? void 0 : _child$componentData$5.width) || child.styles.width || '50px'}; height: ${((_child$componentData$6 = child.componentData.size) === null || _child$componentData$6 === void 0 ? void 0 : _child$componentData$6.height) || child.styles.height || '50px'}; display: ${child.styles.display || 'flex'}; align-items: ${child.styles.alignItems || 'center'}; justify-content: ${child.styles.justifyContent || 'center'};\" ${(_child$componentData$7 = child.componentData.events) !== null && _child$componentData$7 !== void 0 && _child$componentData$7.onClick ? `onclick=\"handleButtonClick('${child.componentData.events.onClick.type}', ${JSON.stringify(child.componentData.events.onClick)}, '${child.id}')\"` : ''}></i>`;\n          } else if (child.type === 'gallery') {\n            const animation = child.componentData.animation || {};\n            const galleryClass = `gallery-${child.id}`;\n            let animationCSS = '';\n            if (animation.type) {\n              const animationName = `${animation.type}-${galleryClass}`;\n              animationCSS = `\n                                @keyframes ${animationName} {\n                                    ${animation.type === 'fadeIn' ? `\n                                        from { opacity: 0; }\n                                        to { opacity: 1; }\n                                    ` : animation.type === 'fadeInUp' ? `\n                                        from { opacity: 0; transform: translateY(20px); }\n                                        to { opacity: 1; transform: translateY(0); }\n                                    ` : animation.type === 'slideInRight' ? `\n                                        from { transform: translateX(100%); }\n                                        to { transform: translateX(0); }\n                                    ` : animation.type === 'bounceIn' ? `\n                                        0% { opacity: 0; transform: scale(0.3); }\n                                        50% { opacity: 1; transform: scale(1.05); }\n                                        70% { transform: scale(0.9); }\n                                        100% { transform: scale(1); }\n                                    ` : ''}\n                                }\n                                .${galleryClass} { animation: ${animationName} ${animation.duration || 800}ms ease-out ${animation.delay || 0}ms; }\n                            `;\n            }\n            childContent = `<div class=\"lpb-gallery ${galleryClass}\" style=\"display: ${child.styles.display || 'grid'}; grid-template-columns: ${child.styles.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))'}; gap: ${child.styles.gap || '10px'}; width: 100%;\">${(child.componentData.images || []).map((img, idx) => `<div style=\"position: relative; overflow: hidden; border-radius: ${child.styles.borderRadius || '8px'}; aspect-ratio: 1 / 1; cursor: pointer; transition: transform 0.3s ease;\" onclick=\"handleGalleryClick('${img}', ${idx})\"><img src=\"${img || 'https://via.placeholder.com/150'}\" alt=\"Gallery ${idx + 1}\" style=\"width: 100%; height: 100%; object-fit: cover;\" loading=\"lazy\"></div>`).join('')}</div>`;\n            html += `<style>${animationCSS}</style>`;\n          }\n          html += `\n            <style>${processStyles(child.styles, childClass)}</style>\n            <div id=\"${child.id}\" class=\"lpb-child-element lpb-${child.type} ${childClass}\" data-type=\"${child.type}\" data-component-data='${JSON.stringify(child.componentData)}' style=\"${childStyles}\">\n                ${childContent}\n            </div>\n`;\n        });\n      }\n\n      // Close section container for ladi-standard sections\n      if (type === 'section' && componentData.structure === 'ladi-standard') {\n        content += `</div>`;\n      }\n\n      // Close element div\n      html += `\n        </div>\n`;\n    });\n\n    // Close HTML\n    html += `\n    </div>\n</body>\n</html>\n`;\n    return html;\n  } catch (error) {\n    console.error('Error rendering static HTML:', error);\n    return '<div>Error rendering page</div>';\n  }\n};\nexport { CSS_VARIABLES, parseHTMLToPageData, renderStaticHTML };","map":{"version":3,"names":["CSS_VARIABLES","toKebabCase","str","replace","m","toLowerCase","parseHTMLToPageData","html","parser","DOMParser","doc","parseFromString","canvasElement","querySelector","canvas","width","parseInt","background","elements","visiblePopups","canvasStyles","window","getComputedStyle","height","backgroundColor","parseElement","el","parentId","element","id","Date","now","type","dataset","componentData","JSON","parse","position","desktop","x","parseFloat","style","left","y","top","tablet","mobile","size","offsetWidth","offsetHeight","styles","borderRadius","boxShadow","margin","padding","zIndex","hoverStyles","activeStyles","visible","display","locked","children","push","childElements","querySelectorAll","forEach","child","rootElements","error","console","renderStaticHTML","pageData","viewMode","canvasWidth","canvasHeight","calculatedHeight","filter","reduce","maxY","_el$position","_el$position$viewMode","_el$size","Math","max","processStyles","className","cssString","keyframes","Object","entries","key","value","startsWith","prop","val","frames","percentage","props","_position$viewMode","_position$viewMode2","isPopup","isVisible","includes","uniqueClass","elementClass","elementStyles","trim","cssStyles","content","structure","backgroundImage","overlayColor","overlayOpacity","level","fontSize","color","fontWeight","textAlign","lineHeight","_componentData$events","action","events","onClick","actionAttr","popupId","url","apiUrl","border","alignItems","justifyContent","transition","minWidth","src","alt","maxWidth","_componentData$size","_componentData$size2","_componentData$events2","_componentData$size3","_componentData$size4","_componentData$events3","isSvg","icon","stringify","animation","galleryClass","animationCSS","animationName","duration","delay","gridTemplateColumns","gap","images","map","img","idx","join","direction","title","titleFontSize","titleMargin","titleColor","titleFontWeight","fields","field","placeholder","label","buttonText","buttonBackground","buttonColor","buttonPadding","buttonBorderRadius","buttonBorder","buttonFontSize","buttonFontWeight","length","_child$position$viewM","_child$position$viewM2","childClass","childStyles","childContent","_child$componentData$","_child$componentData$2","_child$componentData$3","_child$componentData$4","_child$componentData$5","_child$componentData$6","_child$componentData$7"],"sources":["F:/landinghub-iconic/apps/web/src/utils/pageUtils.js"],"sourcesContent":["// CSS variables for consistent styling\r\nconst CSS_VARIABLES = {\r\n    '--canvas-desktop': '1200px',\r\n    '--canvas-mobile': '375px',\r\n    '--white': '#ffffff',\r\n    '--border-radius': '4px',\r\n    '--shadow': '0 2px 8px rgba(0, 0, 0, 0.15)',\r\n    '--primary-color': '#2563eb',\r\n};\r\n\r\n// Utility to convert camelCase to kebab-case\r\nconst toKebabCase = (str) => str.replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`);\r\n\r\n// Utility to parse HTML string to page data structure\r\nconst parseHTMLToPageData = (html) => {\r\n    try {\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(html, 'text/html');\r\n        const canvasElement = doc.querySelector('.lpb-canvas');\r\n        if (!canvasElement) {\r\n            return {\r\n                canvas: {\r\n                    width: parseInt(CSS_VARIABLES['--canvas-desktop']),\r\n                    background: CSS_VARIABLES['--white'],\r\n                },\r\n                elements: [],\r\n                visiblePopups: [],\r\n            };\r\n        }\r\n\r\n        const elements = [];\r\n        const visiblePopups = [];\r\n        const canvasStyles = window.getComputedStyle(canvasElement);\r\n        const canvas = {\r\n            width: parseInt(canvasStyles.width) || parseInt(CSS_VARIABLES['--canvas-desktop']),\r\n            height: parseInt(canvasStyles.height) || 1000,\r\n            background: canvasStyles.backgroundColor || CSS_VARIABLES['--white'],\r\n        };\r\n\r\n        const parseElement = (el, parentId = null) => {\r\n            const element = {\r\n                id: el.id || `element-${Date.now()}`,\r\n                type: el.dataset.type || 'section',\r\n                componentData: JSON.parse(el.dataset.componentData || '{}'),\r\n                position: {\r\n                    desktop: {\r\n                        x: parseFloat(el.style.left) || 0,\r\n                        y: parseFloat(el.style.top) || 0,\r\n                    },\r\n                    tablet: { x: 0, y: 0 },\r\n                    mobile: { x: 0, y: 0 },\r\n                },\r\n                size: {\r\n                    width: parseInt(el.style.width) || el.offsetWidth || 1200,\r\n                    height: parseInt(el.style.height) || el.offsetHeight || 400,\r\n                },\r\n                styles: {\r\n                    backgroundColor: el.style.backgroundColor || '',\r\n                    borderRadius: el.style.borderRadius || '',\r\n                    boxShadow: el.style.boxShadow || '',\r\n                    margin: el.style.margin || '0',\r\n                    padding: el.style.padding || '0',\r\n                    zIndex: parseInt(el.style.zIndex) || 1,\r\n                    ':hover': el.dataset.hoverStyles ? JSON.parse(el.dataset.hoverStyles) : {},\r\n                    ':active': el.dataset.activeStyles ? JSON.parse(el.dataset.activeStyles) : {},\r\n                },\r\n                visible: el.style.display !== 'none',\r\n                locked: el.dataset.locked === 'true',\r\n                children: [],\r\n            };\r\n\r\n            if (el.dataset.type === 'popup' || el.dataset.type === 'modal') {\r\n                if (element.visible) visiblePopups.push(element.id);\r\n            }\r\n\r\n            const childElements = el.querySelectorAll(':scope > [data-type]');\r\n            childElements.forEach((child) => {\r\n                element.children.push(parseElement(child, element.id));\r\n            });\r\n\r\n            return element;\r\n        };\r\n\r\n        const rootElements = doc.querySelectorAll('.lpb-canvas > [data-type]');\r\n        rootElements.forEach((el) => {\r\n            elements.push(parseElement(el));\r\n        });\r\n\r\n        return { canvas, elements, visiblePopups };\r\n    } catch (error) {\r\n        console.error('Error parsing HTML to page data:', error);\r\n        return {\r\n            canvas: {\r\n                width: parseInt(CSS_VARIABLES['--canvas-desktop']),\r\n                background: CSS_VARIABLES['--white'],\r\n            },\r\n            elements: [],\r\n            visiblePopups: [],\r\n        };\r\n    }\r\n};\r\n\r\n// Utility to generate static HTML from page data\r\nconst renderStaticHTML = (pageData, viewMode = 'desktop') => {\r\n    try {\r\n        const { canvas, elements, visiblePopups } = pageData;\r\n        const canvasWidth = viewMode === 'mobile' ? parseInt(CSS_VARIABLES['--canvas-mobile']) : parseInt(CSS_VARIABLES['--canvas-desktop']);\r\n        const canvasHeight = canvas.height || 1000;\r\n\r\n        // Calculate canvas height based on sections\r\n        const calculatedHeight = elements\r\n            .filter((el) => el.type === 'section')\r\n            .reduce((maxY, el) => {\r\n                const y = el.position?.[viewMode]?.y || 0;\r\n                const height = el.size?.height || 400;\r\n                return Math.max(maxY, y + height);\r\n            }, canvasHeight);\r\n\r\n        // Base HTML structure\r\n        let html = `\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Landing Page Preview</title>\r\n    <style>\r\n        body { margin: 0; padding: 0; font-family: Arial, sans-serif; }\r\n        .lpb-canvas { \r\n            position: relative; \r\n            width: ${canvasWidth}px; \r\n            height: ${calculatedHeight}px; \r\n            background: ${canvas.background || CSS_VARIABLES['--white']}; \r\n            margin: 0 auto; \r\n            overflow: hidden; \r\n        }\r\n        .lpb-element { position: absolute; box-sizing: border-box; }\r\n        .lpb-child-element { position: absolute; box-sizing: border-box; }\r\n        .lpb-section { width: 100%; }\r\n        .lpb-popup, .lpb-modal { \r\n            display: none; \r\n            background: ${CSS_VARIABLES['--white']}; \r\n            border-radius: ${CSS_VARIABLES['--border-radius']}; \r\n            box-shadow: ${CSS_VARIABLES['--shadow']}; \r\n        }\r\n        .lpb-popup.visible, .lpb-modal.visible { display: block; }\r\n        .lpb-heading { font-size: 2rem; font-weight: bold; }\r\n        .lpb-paragraph { font-size: 1rem; line-height: 1.5; }\r\n        .lpb-button { \r\n            padding: 10px 20px; \r\n            background: ${CSS_VARIABLES['--primary-color']}; \r\n            color: white; \r\n            border: none; \r\n            border-radius: 4px; \r\n            cursor: pointer; \r\n            transition: all 0.3s ease;\r\n        }\r\n        .lpb-image { object-fit: cover; }\r\n        .lpb-icon { font-size: 24px; }\r\n        .lpb-gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; }\r\n        .lpb-gallery img { width: 100%; height: 100%; object-fit: cover; }\r\n        .lpb-form { display: flex; flex-direction: column; gap: 10px; }\r\n        .lpb-form input { padding: 8px; border: 1px solid #ccc; border-radius: 8px; }\r\n    </style>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\">\r\n    <script>\r\n        function togglePopup(popupId) {\r\n            const popup = document.getElementById(popupId);\r\n            if (popup) {\r\n                popup.classList.toggle('visible');\r\n            }\r\n        }\r\n        function handleButtonClick(eventType, data, elementId) {\r\n            if (eventType === 'navigate') {\r\n                window.location.href = data.url;\r\n            } else if (eventType === 'triggerApi') {\r\n                console.log('Trigger API:', data.apiUrl);\r\n            } else if (eventType === 'submitForm') {\r\n                console.log('Submit form to:', data.apiUrl);\r\n            } else if (eventType === 'popup') {\r\n                togglePopup(data.popupId);\r\n            }\r\n        }\r\n        function handleGalleryClick(imageUrl, index) {\r\n            console.log('Open lightbox for image:', imageUrl, 'at index:', index);\r\n        }\r\n    </script>\r\n</head>\r\n<body>\r\n    <div class=\"lpb-canvas\">\r\n`;\r\n\r\n        // Process styles for pseudo-classes and keyframes\r\n        const processStyles = (styles, className) => {\r\n            let cssString = `.${className} { `;\r\n            const keyframes = {};\r\n\r\n            Object.entries(styles).forEach(([key, value]) => {\r\n                if (key.startsWith(':')) {\r\n                    cssString += `.${className}${key} { `;\r\n                    Object.entries(value).forEach(([prop, val]) => {\r\n                        cssString += `${toKebabCase(prop)}: ${val}; `;\r\n                    });\r\n                    cssString += '} ';\r\n                } else if (key.startsWith('@keyframes')) {\r\n                    keyframes[key] = value;\r\n                } else {\r\n                    cssString += `${toKebabCase(key)}: ${value}; `;\r\n                }\r\n            });\r\n\r\n            Object.entries(keyframes).forEach(([key, frames]) => {\r\n                cssString += `${key} { `;\r\n                Object.entries(frames).forEach(([percentage, props]) => {\r\n                    cssString += `${percentage} { `;\r\n                    Object.entries(props).forEach(([prop, val]) => {\r\n                        cssString += `${toKebabCase(prop)}: ${val}; `;\r\n                    });\r\n                    cssString += '} ';\r\n                });\r\n                cssString += '} ';\r\n            });\r\n\r\n            return cssString;\r\n        };\r\n\r\n        // Render elements\r\n        elements.forEach((element) => {\r\n            const { id, type, position, size, styles, componentData, children, visible, locked } = element;\r\n            const isPopup = type === 'popup' || type === 'modal';\r\n            const isVisible = visible && (!isPopup || visiblePopups.includes(id));\r\n            const uniqueClass = `element-${id}`;\r\n            const elementClass = `lpb-element lpb-${type} ${uniqueClass} ${isVisible ? 'visible' : ''}`;\r\n            const elementStyles = `\r\n                left: ${position[viewMode]?.x || 0}px;\r\n                top: ${position[viewMode]?.y || 0}px;\r\n                width: ${size.width}px;\r\n                height: ${size.height}px;\r\n                ${styles.backgroundColor ? `background-color: ${styles.backgroundColor};` : ''}\r\n                ${styles.borderRadius ? `border-radius: ${styles.borderRadius};` : ''}\r\n                ${styles.boxShadow ? `box-shadow: ${styles.boxShadow};` : ''}\r\n                ${styles.margin ? `margin: ${styles.margin};` : ''}\r\n                ${styles.padding ? `padding: ${styles.padding};` : ''}\r\n                z-index: ${styles.zIndex || 1};\r\n                ${locked ? 'pointer-events: none;' : ''}\r\n            `.trim();\r\n\r\n            // Generate CSS for pseudo-classes and keyframes\r\n            const cssStyles = processStyles(styles, uniqueClass);\r\n\r\n            // Generate content based on element type\r\n            let content = '';\r\n            if (type === 'section' && componentData.structure === 'ladi-standard') {\r\n                content = `\r\n                    <div class=\"ladi-section-background\" style=\"background-color: ${componentData.backgroundColor || 'transparent'}; background-image: ${componentData.backgroundImage ? `url(${componentData.backgroundImage})` : 'none'}; background-size: cover; background-position: center; position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 0;\"></div>\r\n                    <div class=\"ladi-overlay\" style=\"background-color: ${componentData.overlayColor || 'transparent'}; opacity: ${componentData.overlayOpacity || 0}; position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 0;\"></div>\r\n                    <div class=\"ladi-container\" style=\"position: relative; z-index: 1; padding: ${componentData.padding || '20px'}; width: 100%; height: 100%;\">\r\n                `;\r\n            } else if (type === 'heading') {\r\n                content = `<h${componentData.level || 2} style=\"font-size: ${componentData.fontSize || '2rem'}; color: ${componentData.color || '#1f2937'}; margin: ${componentData.margin || '0'}; font-weight: ${componentData.fontWeight || '700'}; text-align: ${componentData.textAlign || 'left'}; line-height: ${componentData.lineHeight || '1.4'};\">${componentData.content || 'Heading'}</h${componentData.level || 2}>`;\r\n            } else if (type === 'paragraph') {\r\n                content = `<p style=\"font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || '#1f2937'}; margin: ${componentData.margin || '0'}; font-weight: ${componentData.fontWeight || '400'}; line-height: ${componentData.lineHeight || '1.6'}; text-align: ${componentData.textAlign || 'left'};\">${componentData.content || 'Paragraph'}</p>`;\r\n            } else if (type === 'button') {\r\n                const action = componentData.events?.onClick || {};\r\n                const actionAttr = action.type === 'popup' && action.popupId\r\n                    ? `onclick=\"togglePopup('${action.popupId}')\"`\r\n                    : action.type === 'navigate' && action.url\r\n                        ? `onclick=\"handleButtonClick('navigate', { url: '${action.url}' }, '${id}')\"`\r\n                        : action.type === 'triggerApi' && action.apiUrl\r\n                            ? `onclick=\"handleButtonClick('triggerApi', { apiUrl: '${action.apiUrl}' }, '${id}')\"`\r\n                            : action.type === 'submitForm' && action.apiUrl\r\n                                ? `onclick=\"handleButtonClick('submitForm', { apiUrl: '${action.apiUrl}' }, '${id}')\"`\r\n                                : '';\r\n                content = `<button class=\"lpb-button ${uniqueClass}\" ${actionAttr} style=\"padding: ${styles.padding || '10px 20px'}; border-radius: ${styles.borderRadius || componentData.borderRadius || '4px'}; background: ${styles.background || componentData.background || CSS_VARIABLES['--primary-color']}; color: ${styles.color || componentData.color || '#fff'}; border: ${styles.border || componentData.border || 'none'}; font-size: ${styles.fontSize || componentData.fontSize || '1rem'}; font-weight: ${styles.fontWeight || componentData.fontWeight || '600'}; text-align: ${styles.textAlign || componentData.textAlign || 'center'}; display: ${styles.display || 'inline-flex'}; align-items: ${styles.alignItems || 'center'}; justify-content: ${styles.justifyContent || 'center'}; transition: ${styles.transition || 'all 0.3s ease'}; width: ${styles.width || 'auto'}; min-width: ${styles.minWidth || 'fit-content'}; white-space: nowrap;\">${componentData.content || 'Button'}</button>`;\r\n            } else if (type === 'image') {\r\n                content = `<img src=\"${componentData.src || 'https://via.placeholder.com/150'}\" alt=\"${componentData.alt || 'Image'}\" class=\"lpb-image\" style=\"max-width: ${componentData.maxWidth || '100%'}; height: ${componentData.height || 'auto'}; border-radius: ${componentData.borderRadius || '0'};\" loading=\"lazy\">`;\r\n            } else if (type === 'icon') {\r\n                const isSvg = componentData.icon && componentData.icon.startsWith('<svg');\r\n                content = isSvg\r\n                    ? `<div class=\"lpb-icon ${uniqueClass}\" style=\"width: ${componentData.size?.width || styles.width || '50px'}; height: ${componentData.size?.height || styles.height || '50px'}; display: ${styles.display || 'flex'}; align-items: ${styles.alignItems || 'center'}; justify-content: ${styles.justifyContent || 'center'};\" ${componentData.events?.onClick ? `onclick=\"handleButtonClick('${componentData.events.onClick.type}', ${JSON.stringify(componentData.events.onClick)}, '${id}')\"` : ''}>${componentData.icon}</div>`\r\n                    : `<i class=\"${componentData.icon || 'fas fa-star'} lpb-icon ${uniqueClass}\" style=\"font-size: ${styles.fontSize || '24px'}; width: ${componentData.size?.width || styles.width || '50px'}; height: ${componentData.size?.height || styles.height || '50px'}; display: ${styles.display || 'flex'}; align-items: ${styles.alignItems || 'center'}; justify-content: ${styles.justifyContent || 'center'};\" ${componentData.events?.onClick ? `onclick=\"handleButtonClick('${componentData.events.onClick.type}', ${JSON.stringify(componentData.events.onClick)}, '${id}')\"` : ''}></i>`;\r\n            } else if (type === 'gallery') {\r\n                const animation = componentData.animation || {};\r\n                const galleryClass = `gallery-${id}`;\r\n                let animationCSS = '';\r\n                if (animation.type) {\r\n                    const animationName = `${animation.type}-${galleryClass}`;\r\n                    animationCSS = `\r\n                        @keyframes ${animationName} {\r\n                            ${animation.type === 'fadeIn' ? `\r\n                                from { opacity: 0; }\r\n                                to { opacity: 1; }\r\n                            ` : animation.type === 'fadeInUp' ? `\r\n                                from { opacity: 0; transform: translateY(20px); }\r\n                                to { opacity: 1; transform: translateY(0); }\r\n                            ` : animation.type === 'slideInRight' ? `\r\n                                from { transform: translateX(100%); }\r\n                                to { transform: translateX(0); }\r\n                            ` : animation.type === 'bounceIn' ? `\r\n                                0% { opacity: 0; transform: scale(0.3); }\r\n                                50% { opacity: 1; transform: scale(1.05); }\r\n                                70% { transform: scale(0.9); }\r\n                                100% { transform: scale(1); }\r\n                            ` : ''}\r\n                        }\r\n                        .${galleryClass} { animation: ${animationName} ${animation.duration || 800}ms ease-out ${animation.delay || 0}ms; }\r\n                    `;\r\n                }\r\n                content = `<div class=\"lpb-gallery ${galleryClass}\" style=\"display: ${styles.display || 'grid'}; grid-template-columns: ${styles.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))'}; gap: ${styles.gap || '10px'}; width: 100%;\">${(componentData.images || []).map((img, idx) => `<div style=\"position: relative; overflow: hidden; border-radius: ${styles.borderRadius || '8px'}; aspect-ratio: 1 / 1; cursor: pointer; transition: transform 0.3s ease;\" onclick=\"handleGalleryClick('${img}', ${idx})\"><img src=\"${img || 'https://via.placeholder.com/150'}\" alt=\"Gallery ${idx + 1}\" style=\"width: 100%; height: 100%; object-fit: cover;\" loading=\"lazy\"></div>`).join('')}</div>`;\r\n                html += `<style>${animationCSS}</style>`;\r\n            } else if (type === 'form') {\r\n                content = `<div class=\"lpb-form\" style=\"display: flex; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; padding: ${styles.padding || '0'}; background: ${styles.background || 'transparent'};\">\r\n                    ${componentData.title ? `<h3 style=\"font-size: ${componentData.titleFontSize || '1.2rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>` : ''}\r\n                    ${(componentData.fields || []).map((field, idx) => `<input type=\"${field.type || 'text'}\" placeholder=\"${field.placeholder || field.label || 'Nhập...'}\" style=\"padding: ${field.padding || '8px'}; border-radius: ${field.borderRadius || '8px'}; border: ${field.border || '1px solid #ccc'}; font-size: ${field.fontSize || '1rem'};\">`).join('')}\r\n                    ${componentData.buttonText ? `<button type=\"submit\" style=\"background: ${componentData.buttonBackground || '#2563eb'}; color: ${componentData.buttonColor || '#fff'}; padding: ${componentData.buttonPadding || '8px 16px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText || 'Gửi'}</button>` : ''}\r\n                </div>`;\r\n            }\r\n\r\n            // Start element HTML\r\n            html += `\r\n        <style>${cssStyles}</style>\r\n        <div id=\"${id}\" class=\"${elementClass}\" data-type=\"${type}\" data-component-data='${JSON.stringify(componentData)}' style=\"${elementStyles}\">\r\n            ${content}\r\n`;\r\n\r\n            // Render children\r\n            if (children && children.length > 0) {\r\n                children.forEach((child) => {\r\n                    const childClass = `child-${child.id}`;\r\n                    const childStyles = `\r\n                        left: ${child.position[viewMode]?.x || 0}px;\r\n                        top: ${child.position[viewMode]?.y || 0}px;\r\n                        width: ${child.size.width}px;\r\n                        height: ${child.size.height}px;\r\n                        ${child.styles.backgroundColor ? `background-color: ${child.styles.backgroundColor};` : ''}\r\n                        ${child.styles.borderRadius ? `border-radius: ${child.styles.borderRadius};` : ''}\r\n                        ${child.styles.boxShadow ? `box-shadow: ${child.styles.boxShadow};` : ''}\r\n                        ${child.styles.margin ? `margin: ${child.styles.margin};` : ''}\r\n                        ${child.styles.padding ? `padding: ${child.styles.padding};` : ''}\r\n                        z-index: ${child.styles.zIndex || 2};\r\n                        ${child.locked ? 'pointer-events: none;' : ''}\r\n                    `.trim();\r\n\r\n                    let childContent = '';\r\n                    if (child.type === 'heading') {\r\n                        childContent = `<h${child.componentData.level || 2} style=\"font-size: ${child.componentData.fontSize || '1.5rem'}; color: ${child.componentData.color || '#1f2937'}; margin: ${child.componentData.margin || '0'}; font-weight: ${child.componentData.fontWeight || '700'}; text-align: ${child.componentData.textAlign || 'left'}; line-height: ${child.componentData.lineHeight || '1.4'};\">${child.componentData.content || 'Child Heading'}</h${child.componentData.level || 2}>`;\r\n                    } else if (child.type === 'paragraph') {\r\n                        childContent = `<p style=\"font-size: ${child.componentData.fontSize || '1rem'}; color: ${child.componentData.color || '#1f2937'}; margin: ${child.componentData.margin || '0'}; font-weight: ${child.componentData.fontWeight || '400'}; line-height: ${child.componentData.lineHeight || '1.6'}; text-align: ${child.componentData.textAlign || 'left'};\">${child.componentData.content || 'Child Paragraph'}</p>`;\r\n                    } else if (child.type === 'button') {\r\n                        const action = child.componentData.events?.onClick || {};\r\n                        const actionAttr = action.type === 'popup' && action.popupId\r\n                            ? `onclick=\"togglePopup('${action.popupId}')\"`\r\n                            : action.type === 'navigate' && action.url\r\n                                ? `onclick=\"handleButtonClick('navigate', { url: '${action.url}' }, '${child.id}')\"`\r\n                                : action.type === 'triggerApi' && action.apiUrl\r\n                                    ? `onclick=\"handleButtonClick('triggerApi', { apiUrl: '${action.apiUrl}' }, '${child.id}')\"`\r\n                                    : action.type === 'submitForm' && action.apiUrl\r\n                                        ? `onclick=\"handleButtonClick('submitForm', { apiUrl: '${action.apiUrl}' }, '${child.id}')\"`\r\n                                        : '';\r\n                        childContent = `<button class=\"lpb-button ${childClass}\" ${actionAttr} style=\"padding: ${child.styles.padding || '10px 20px'}; border-radius: ${child.styles.borderRadius || child.componentData.borderRadius || '4px'}; background: ${child.styles.background || child.componentData.background || CSS_VARIABLES['--primary-color']}; color: ${child.styles.color || child.componentData.color || '#fff'}; border: ${child.styles.border || child.componentData.border || 'none'}; font-size: ${child.styles.fontSize || child.componentData.fontSize || '1rem'}; font-weight: ${child.styles.fontWeight || child.componentData.fontWeight || '600'}; text-align: ${child.styles.textAlign || child.componentData.textAlign || 'center'}; display: ${child.styles.display || 'inline-flex'}; align-items: ${child.styles.alignItems || 'center'}; justify-content: ${child.styles.justifyContent || 'center'}; transition: ${child.styles.transition || 'all 0.3s ease'}; width: ${child.styles.width || 'auto'}; min-width: ${child.styles.minWidth || 'fit-content'}; white-space: nowrap;\">${child.componentData.content || 'Child Button'}</button>`;\r\n                    } else if (child.type === 'image') {\r\n                        childContent = `<img src=\"${child.componentData.src || 'https://via.placeholder.com/150'}\" alt=\"${child.componentData.alt || 'Child Image'}\" class=\"lpb-image\" style=\"max-width: ${child.componentData.maxWidth || '100%'}; height: ${child.componentData.height || 'auto'}; border-radius: ${child.componentData.borderRadius || '0'};\" loading=\"lazy\">`;\r\n                    } else if (child.type === 'icon') {\r\n                        const isSvg = child.componentData.icon && child.componentData.icon.startsWith('<svg');\r\n                        childContent = isSvg\r\n                            ? `<div class=\"lpb-icon ${childClass}\" style=\"width: ${child.componentData.size?.width || child.styles.width || '50px'}; height: ${child.componentData.size?.height || child.styles.height || '50px'}; display: ${child.styles.display || 'flex'}; align-items: ${child.styles.alignItems || 'center'}; justify-content: ${child.styles.justifyContent || 'center'};\" ${child.componentData.events?.onClick ? `onclick=\"handleButtonClick('${child.componentData.events.onClick.type}', ${JSON.stringify(child.componentData.events.onClick)}, '${child.id}')\"` : ''}>${child.componentData.icon}</div>`\r\n                            : `<i class=\"${child.componentData.icon || 'fas fa-star'} lpb-icon ${childClass}\" style=\"font-size: ${child.styles.fontSize || '24px'}; width: ${child.componentData.size?.width || child.styles.width || '50px'}; height: ${child.componentData.size?.height || child.styles.height || '50px'}; display: ${child.styles.display || 'flex'}; align-items: ${child.styles.alignItems || 'center'}; justify-content: ${child.styles.justifyContent || 'center'};\" ${child.componentData.events?.onClick ? `onclick=\"handleButtonClick('${child.componentData.events.onClick.type}', ${JSON.stringify(child.componentData.events.onClick)}, '${child.id}')\"` : ''}></i>`;\r\n                    } else if (child.type === 'gallery') {\r\n                        const animation = child.componentData.animation || {};\r\n                        const galleryClass = `gallery-${child.id}`;\r\n                        let animationCSS = '';\r\n                        if (animation.type) {\r\n                            const animationName = `${animation.type}-${galleryClass}`;\r\n                            animationCSS = `\r\n                                @keyframes ${animationName} {\r\n                                    ${animation.type === 'fadeIn' ? `\r\n                                        from { opacity: 0; }\r\n                                        to { opacity: 1; }\r\n                                    ` : animation.type === 'fadeInUp' ? `\r\n                                        from { opacity: 0; transform: translateY(20px); }\r\n                                        to { opacity: 1; transform: translateY(0); }\r\n                                    ` : animation.type === 'slideInRight' ? `\r\n                                        from { transform: translateX(100%); }\r\n                                        to { transform: translateX(0); }\r\n                                    ` : animation.type === 'bounceIn' ? `\r\n                                        0% { opacity: 0; transform: scale(0.3); }\r\n                                        50% { opacity: 1; transform: scale(1.05); }\r\n                                        70% { transform: scale(0.9); }\r\n                                        100% { transform: scale(1); }\r\n                                    ` : ''}\r\n                                }\r\n                                .${galleryClass} { animation: ${animationName} ${animation.duration || 800}ms ease-out ${animation.delay || 0}ms; }\r\n                            `;\r\n                        }\r\n                        childContent = `<div class=\"lpb-gallery ${galleryClass}\" style=\"display: ${child.styles.display || 'grid'}; grid-template-columns: ${child.styles.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))'}; gap: ${child.styles.gap || '10px'}; width: 100%;\">${(child.componentData.images || []).map((img, idx) => `<div style=\"position: relative; overflow: hidden; border-radius: ${child.styles.borderRadius || '8px'}; aspect-ratio: 1 / 1; cursor: pointer; transition: transform 0.3s ease;\" onclick=\"handleGalleryClick('${img}', ${idx})\"><img src=\"${img || 'https://via.placeholder.com/150'}\" alt=\"Gallery ${idx + 1}\" style=\"width: 100%; height: 100%; object-fit: cover;\" loading=\"lazy\"></div>`).join('')}</div>`;\r\n                        html += `<style>${animationCSS}</style>`;\r\n                    }\r\n\r\n                    html += `\r\n            <style>${processStyles(child.styles, childClass)}</style>\r\n            <div id=\"${child.id}\" class=\"lpb-child-element lpb-${child.type} ${childClass}\" data-type=\"${child.type}\" data-component-data='${JSON.stringify(child.componentData)}' style=\"${childStyles}\">\r\n                ${childContent}\r\n            </div>\r\n`;\r\n                });\r\n            }\r\n\r\n            // Close section container for ladi-standard sections\r\n            if (type === 'section' && componentData.structure === 'ladi-standard') {\r\n                content += `</div>`;\r\n            }\r\n\r\n            // Close element div\r\n            html += `\r\n        </div>\r\n`;\r\n        });\r\n\r\n        // Close HTML\r\n        html += `\r\n    </div>\r\n</body>\r\n</html>\r\n`;\r\n\r\n        return html;\r\n    } catch (error) {\r\n        console.error('Error rendering static HTML:', error);\r\n        return '<div>Error rendering page</div>';\r\n    }\r\n};\r\n\r\nexport { CSS_VARIABLES, parseHTMLToPageData, renderStaticHTML };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}