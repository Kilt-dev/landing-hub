{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\Canvas.js\",\n  _s2 = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { useDrop, useDrag } from 'react-dnd';\nimport QuickEditToolkit from \"./QuickEditToolkit\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemTypes = {\n  COMPONENT: 'component',\n  EXISTING_ELEMENT: 'existingElement'\n};\nconst Canvas = ({\n  pageStructure,\n  selectedElement,\n  onSelectElement,\n  quickEditElement,\n  quickEditPosition,\n  onQuickEdit,\n  onCloseQuickEdit,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  viewMode,\n  addComponent,\n  // New prop from parent\n  moveElement // New prop from parent\n}) => {\n  _s2();\n  var _s = $RefreshSig$();\n  const canvasRef = useRef(null);\n\n  // Make the entire canvas a drop target\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: [ItemTypes.COMPONENT, ItemTypes.EXISTING_ELEMENT],\n    drop: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      const rect = canvasRef.current.getBoundingClientRect();\n      const position = {\n        x: clientOffset.x - rect.left,\n        y: clientOffset.y - rect.top\n      };\n      if (item.componentData) {\n        // Dropping new component - calculate index based on position or append\n        const index = pageStructure.length; // Or calculate based on y-position\n        addComponent(item.componentData, index);\n      } else {\n        // Reordering existing element - calculate new index based on drop position\n        const newIndex = calculateDropIndex(position.y); // Implement this function\n        moveElement(item.id, newIndex);\n      }\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }));\n\n  // Helper to calculate drop index based on y-position (simplified example)\n  const calculateDropIndex = y => {\n    // Logic to find where to insert based on current elements' positions\n    // For simplicity, append to end or implement proper index calculation\n    return pageStructure.length;\n  };\n  const handleElementHover = (e, component) => {\n    if ((quickEditElement === null || quickEditElement === void 0 ? void 0 : quickEditElement.id) === component.id) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const canvasRect = canvasRef.current.getBoundingClientRect();\n    onQuickEdit(component, {\n      x: rect.left - canvasRect.left,\n      y: rect.top - canvasRect.top\n    });\n  };\n  const renderComponent = (component, index) => {\n    _s();\n    var _component$json$backg, _component$json$conte;\n    const isSelected = (selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === component.id;\n    const hasQuickEdit = (quickEditElement === null || quickEditElement === void 0 ? void 0 : quickEditElement.id) === component.id;\n    const baseClasses = `relative transition-all duration-200 ${isSelected ? 'ring-2 ring-blue-500' : ''} ${hasQuickEdit ? 'shadow-lg' : ''}`;\n\n    // Wrap each rendered component with drag functionality for reordering\n    const [{\n      isDragging\n    }, drag] = useDrag(() => ({\n      type: ItemTypes.EXISTING_ELEMENT,\n      item: {\n        id: component.id\n      },\n      collect: monitor => ({\n        isDragging: !!monitor.isDragging()\n      })\n    }));\n    let content;\n    switch (component.json.type) {\n      case 'heading':\n        const HeadingTag = component.json.level === 2 ? 'h2' : 'h1';\n        content = /*#__PURE__*/_jsxDEV(HeadingTag, {\n          children: component.json.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this);\n        break;\n      case 'paragraph':\n        content = /*#__PURE__*/_jsxDEV(\"p\", {\n          children: component.json.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 27\n        }, this);\n        break;\n      case 'button':\n        content = /*#__PURE__*/_jsxDEV(\"button\", {\n          style: component.json.styles,\n          children: component.json.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 27\n        }, this);\n        break;\n      case 'section':\n        content = /*#__PURE__*/_jsxDEV(\"section\", {\n          style: {\n            ...component.json.styles,\n            background: (_component$json$backg = component.json.background) === null || _component$json$backg === void 0 ? void 0 : _component$json$backg.value\n          },\n          children: [component.json.layout === 'hero' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container mx-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl font-bold mb-4 text-white\",\n              children: component.json.content.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl mb-8 text-white\",\n              children: component.json.content.subtitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-4 justify-center\",\n              children: (_component$json$conte = component.json.content.buttons) === null || _component$json$conte === void 0 ? void 0 : _component$json$conte.map((btn, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `px-6 py-3 rounded-lg font-semibold ${btn.type === 'primary' ? 'bg-white text-blue-600' : 'border-2 border-white text-white bg-transparent'}`,\n                children: btn.text\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this), isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded\",\n            children: \"Hero Section\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this);\n        return content;\n      // Section doesn't need extra div wrapper for drag\n      default:\n        return null;\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: drag,\n      className: baseClasses,\n      onClick: () => onSelectElement(component),\n      onMouseEnter: e => handleElementHover(e, component),\n      style: {\n        ...component.json.styles,\n        opacity: isDragging ? 0.5 : 1\n      },\n      children: [content, isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -top-6 left-0 bg-blue-500 text-white text-xs px-2 py-1 rounded\",\n        children: component.json.type.charAt(0).toUpperCase() + component.json.type.slice(1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }, this)]\n    }, component.id || index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this);\n  };\n  _s(renderComponent, \"wuumsFp4qAni9XRJfRhQAZjuD/k=\", false, function () {\n    return [useDrag];\n  });\n  const getCanvasClasses = () => {\n    const baseClasses = \"bg-white overflow-auto transition-all duration-300\";\n    switch (viewMode) {\n      case 'mobile':\n        return `${baseClasses} max-w-sm mx-auto border-x-2 border-gray-300`;\n      case 'tablet':\n        return `${baseClasses} max-w-2xl mx-auto border-x-2 border-gray-300`;\n      default:\n        return `${baseClasses} w-full`;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 bg-gray-100 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: node => {\n        canvasRef.current = node;\n        drop(node);\n      },\n      className: getCanvasClasses(),\n      onMouseLeave: onCloseQuickEdit,\n      style: {\n        backgroundColor: isOver ? '#f0f9ff' : 'white'\n      } // Visual feedback\n      ,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-full\",\n        children: pageStructure.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full flex items-center justify-center text-gray-400 min-h-96\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-mouse-pointer text-6xl mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl\",\n              children: \"K\\xE9o th\\u1EA3 component v\\xE0o \\u0111\\xE2y \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this) : pageStructure.map((component, index) => renderComponent(component, index))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(QuickEditToolkit, {\n        element: quickEditElement,\n        position: quickEditPosition,\n        onEdit: () => onSelectElement(quickEditElement),\n        onDuplicate: () => onDuplicateElement(quickEditElement),\n        onDelete: () => onDeleteElement(quickEditElement),\n        onMoveUp: () => onMoveElement(quickEditElement, 'up'),\n        onMoveDown: () => onMoveElement(quickEditElement, 'down'),\n        onClose: onCloseQuickEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 9\n  }, this);\n};\n_s2(Canvas, \"RgDWaN2IcshMWNeA+IheEdJu20E=\", false, function () {\n  return [useDrop];\n});\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useDrop","useDrag","QuickEditToolkit","jsxDEV","_jsxDEV","ItemTypes","COMPONENT","EXISTING_ELEMENT","Canvas","pageStructure","selectedElement","onSelectElement","quickEditElement","quickEditPosition","onQuickEdit","onCloseQuickEdit","onDuplicateElement","onDeleteElement","onMoveElement","viewMode","addComponent","moveElement","_s2","_s","$RefreshSig$","canvasRef","isOver","drop","accept","item","monitor","clientOffset","getClientOffset","rect","current","getBoundingClientRect","position","x","left","y","top","componentData","index","length","newIndex","calculateDropIndex","id","collect","handleElementHover","e","component","currentTarget","canvasRect","renderComponent","_component$json$backg","_component$json$conte","isSelected","hasQuickEdit","baseClasses","isDragging","drag","type","content","json","HeadingTag","level","children","fileName","_jsxFileName","lineNumber","columnNumber","style","styles","background","value","layout","className","title","subtitle","buttons","map","btn","idx","text","ref","onClick","onMouseEnter","opacity","charAt","toUpperCase","slice","getCanvasClasses","node","onMouseLeave","backgroundColor","element","onEdit","onDuplicate","onDelete","onMoveUp","onMoveDown","onClose","_c","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/Canvas.js"],"sourcesContent":["import React, { useRef } from 'react';\r\nimport { useDrop, useDrag } from 'react-dnd';\r\nimport QuickEditToolkit from \"./QuickEditToolkit\";\r\n\r\nconst ItemTypes = {\r\n    COMPONENT: 'component',\r\n    EXISTING_ELEMENT: 'existingElement',\r\n};\r\n\r\nconst Canvas = ({\r\n                    pageStructure,\r\n                    selectedElement,\r\n                    onSelectElement,\r\n                    quickEditElement,\r\n                    quickEditPosition,\r\n                    onQuickEdit,\r\n                    onCloseQuickEdit,\r\n                    onDuplicateElement,\r\n                    onDeleteElement,\r\n                    onMoveElement,\r\n                    viewMode,\r\n                    addComponent, // New prop from parent\r\n                    moveElement, // New prop from parent\r\n                }) => {\r\n    const canvasRef = useRef(null);\r\n\r\n    // Make the entire canvas a drop target\r\n    const [{ isOver }, drop] = useDrop(() => ({\r\n        accept: [ItemTypes.COMPONENT, ItemTypes.EXISTING_ELEMENT],\r\n        drop: (item, monitor) => {\r\n            const clientOffset = monitor.getClientOffset();\r\n            const rect = canvasRef.current.getBoundingClientRect();\r\n            const position = {\r\n                x: clientOffset.x - rect.left,\r\n                y: clientOffset.y - rect.top,\r\n            };\r\n\r\n            if (item.componentData) {\r\n                // Dropping new component - calculate index based on position or append\r\n                const index = pageStructure.length; // Or calculate based on y-position\r\n                addComponent(item.componentData, index);\r\n            } else {\r\n                // Reordering existing element - calculate new index based on drop position\r\n                const newIndex = calculateDropIndex(position.y); // Implement this function\r\n                moveElement(item.id, newIndex);\r\n            }\r\n        },\r\n        collect: (monitor) => ({\r\n            isOver: !!monitor.isOver(),\r\n        }),\r\n    }));\r\n\r\n    // Helper to calculate drop index based on y-position (simplified example)\r\n    const calculateDropIndex = (y) => {\r\n        // Logic to find where to insert based on current elements' positions\r\n        // For simplicity, append to end or implement proper index calculation\r\n        return pageStructure.length;\r\n    };\r\n\r\n    const handleElementHover = (e, component) => {\r\n        if (quickEditElement?.id === component.id) return;\r\n\r\n        const rect = e.currentTarget.getBoundingClientRect();\r\n        const canvasRect = canvasRef.current.getBoundingClientRect();\r\n\r\n        onQuickEdit(component, {\r\n            x: rect.left - canvasRect.left,\r\n            y: rect.top - canvasRect.top,\r\n        });\r\n    };\r\n\r\n    const renderComponent = (component, index) => {\r\n        const isSelected = selectedElement?.id === component.id;\r\n        const hasQuickEdit = quickEditElement?.id === component.id;\r\n\r\n        const baseClasses = `relative transition-all duration-200 ${\r\n            isSelected ? 'ring-2 ring-blue-500' : ''\r\n        } ${hasQuickEdit ? 'shadow-lg' : ''}`;\r\n\r\n        // Wrap each rendered component with drag functionality for reordering\r\n        const [{ isDragging }, drag] = useDrag(() => ({\r\n            type: ItemTypes.EXISTING_ELEMENT,\r\n            item: { id: component.id },\r\n            collect: (monitor) => ({\r\n                isDragging: !!monitor.isDragging(),\r\n            }),\r\n        }));\r\n\r\n        let content;\r\n        switch (component.json.type) {\r\n            case 'heading':\r\n                const HeadingTag = component.json.level === 2 ? 'h2' : 'h1';\r\n                content = (\r\n                    <HeadingTag>{component.json.content}</HeadingTag>\r\n                );\r\n                break;\r\n            case 'paragraph':\r\n                content = <p>{component.json.content}</p>;\r\n                break;\r\n            case 'button':\r\n                content = <button style={component.json.styles}>{component.json.content}</button>;\r\n                break;\r\n            case 'section':\r\n                content = (\r\n                    <section style={{ ...component.json.styles, background: component.json.background?.value }}>\r\n                        {component.json.layout === 'hero' && (\r\n                            <div className=\"container mx-auto\">\r\n                                <h1 className=\"text-4xl font-bold mb-4 text-white\">{component.json.content.title}</h1>\r\n                                <p className=\"text-xl mb-8 text-white\">{component.json.content.subtitle}</p>\r\n                                <div className=\"flex gap-4 justify-center\">\r\n                                    {component.json.content.buttons?.map((btn, idx) => (\r\n                                        <button\r\n                                            key={idx}\r\n                                            className={`px-6 py-3 rounded-lg font-semibold ${\r\n                                                btn.type === 'primary' ? 'bg-white text-blue-600' : 'border-2 border-white text-white bg-transparent'\r\n                                            }`}\r\n                                        >\r\n                                            {btn.text}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        {isSelected && (\r\n                            <div className=\"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded\">\r\n                                Hero Section\r\n                            </div>\r\n                        )}\r\n                    </section>\r\n                );\r\n                return content; // Section doesn't need extra div wrapper for drag\r\n            default:\r\n                return null;\r\n        }\r\n\r\n        return (\r\n            <div\r\n                ref={drag}\r\n                key={component.id || index}\r\n                className={baseClasses}\r\n                onClick={() => onSelectElement(component)}\r\n                onMouseEnter={(e) => handleElementHover(e, component)}\r\n                style={{ ...component.json.styles, opacity: isDragging ? 0.5 : 1 }}\r\n            >\r\n                {content}\r\n                {isSelected && (\r\n                    <div className=\"absolute -top-6 left-0 bg-blue-500 text-white text-xs px-2 py-1 rounded\">\r\n                        {component.json.type.charAt(0).toUpperCase() + component.json.type.slice(1)}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const getCanvasClasses = () => {\r\n        const baseClasses = \"bg-white overflow-auto transition-all duration-300\";\r\n        switch (viewMode) {\r\n            case 'mobile':\r\n                return `${baseClasses} max-w-sm mx-auto border-x-2 border-gray-300`;\r\n            case 'tablet':\r\n                return `${baseClasses} max-w-2xl mx-auto border-x-2 border-gray-300`;\r\n            default:\r\n                return `${baseClasses} w-full`;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-1 bg-gray-100 p-4\">\r\n            <div\r\n                ref={(node) => {\r\n                    canvasRef.current = node;\r\n                    drop(node);\r\n                }}\r\n                className={getCanvasClasses()}\r\n                onMouseLeave={onCloseQuickEdit}\r\n                style={{ backgroundColor: isOver ? '#f0f9ff' : 'white' }} // Visual feedback\r\n            >\r\n                <div className=\"min-h-full\">\r\n                    {pageStructure.length === 0 ? (\r\n                        <div className=\"h-full flex items-center justify-center text-gray-400 min-h-96\">\r\n                            <div className=\"text-center\">\r\n                                <i className=\"fas fa-mouse-pointer text-6xl mb-4\"></i>\r\n                                <p className=\"text-xl\">Kéo thả component vào đây để bắt đầu</p>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        pageStructure.map((component, index) => renderComponent(component, index))\r\n                    )}\r\n                </div>\r\n\r\n                <QuickEditToolkit\r\n                    element={quickEditElement}\r\n                    position={quickEditPosition}\r\n                    onEdit={() => onSelectElement(quickEditElement)}\r\n                    onDuplicate={() => onDuplicateElement(quickEditElement)}\r\n                    onDelete={() => onDeleteElement(quickEditElement)}\r\n                    onMoveUp={() => onMoveElement(quickEditElement, 'up')}\r\n                    onMoveDown={() => onMoveElement(quickEditElement, 'down')}\r\n                    onClose={onCloseQuickEdit}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Canvas;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}