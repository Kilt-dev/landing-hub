{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\ComponentLibrary.js\",\n  _s = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useMemo, useCallback } from 'react';\nimport { useDrag } from 'react-dnd';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { toast } from 'react-toastify';\nimport COMPONENT_LIBRARY from '../../constants/componentLibrary';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemTypes = {\n  COMPONENT: 'component',\n  TEMPLATE: 'template' // New type for templates\n};\n\n// Extended with sub-categories and templates\n// Assuming COMPONENT_LIBRARY is structured like this; adjust as needed\nconst EXTENDED_LIBRARY = {\n  text: {\n    name: 'Văn bản',\n    icon: 'fas fa-font',\n    subCategories: [{\n      id: 'basic',\n      name: 'Cơ bản',\n      components: [{\n        id: 'heading',\n        name: 'Tiêu đề',\n        icon: 'fas fa-heading',\n        description: 'Thêm tiêu đề lớn với các cấp độ H1-H6',\n        variants: ['h1', 'h2', 'h3']\n      }, {\n        id: 'paragraph',\n        name: 'Đoạn văn',\n        icon: 'fas fa-paragraph',\n        description: 'Thêm đoạn văn bản đơn giản với tùy chỉnh font'\n      }]\n    }, {\n      id: 'advanced',\n      name: 'Nâng cao',\n      components: [{\n        id: 'quote',\n        name: 'Trích dẫn',\n        icon: 'fas fa-quote-left',\n        description: 'Trích dẫn văn bản với style đặc biệt'\n      }, {\n        id: 'list',\n        name: 'Danh sách',\n        icon: 'fas fa-list',\n        description: 'Danh sách có thứ tự hoặc không thứ tự'\n      }]\n    }]\n  },\n  buttons: {\n    name: 'Nút bấm',\n    icon: 'fas fa-mouse-pointer',\n    subCategories: [{\n      id: 'basic',\n      name: 'Cơ bản',\n      components: [{\n        id: 'button-primary',\n        name: 'Nút chính',\n        icon: 'fas fa-square',\n        description: 'Nút hành động chính với màu nổi bật',\n        variants: ['primary', 'secondary', 'outline']\n      }, {\n        id: 'button-link',\n        name: 'Nút liên kết',\n        icon: 'fas fa-link',\n        description: 'Nút kiểu liên kết với hover effect'\n      }]\n    }]\n  },\n  sections: {\n    name: 'Section',\n    icon: 'fas fa-layer-group',\n    subCategories: [{\n      id: 'hero',\n      name: 'Hero',\n      components: [{\n        id: 'hero-basic',\n        name: 'Hero cơ bản',\n        icon: 'fas fa-star',\n        description: 'Section hero với tiêu đề và nút CTA'\n      }, {\n        id: 'hero-image',\n        name: 'Hero với hình',\n        icon: 'fas fa-image',\n        description: 'Hero với hình nền hoặc minh họa'\n      }]\n    }, {\n      id: 'features',\n      name: 'Features',\n      components: [{\n        id: 'features-grid',\n        name: 'Lưới features',\n        icon: 'fas fa-th',\n        description: 'Hiển thị features theo lưới'\n      }, {\n        id: 'features-list',\n        name: 'Danh sách features',\n        icon: 'fas fa-list-ul',\n        description: 'Danh sách features với icon'\n      }]\n    }]\n  },\n  media: {\n    name: 'Media',\n    icon: 'fas fa-image',\n    subCategories: [],\n    components: [{\n      id: 'image',\n      name: 'Hình ảnh',\n      icon: 'fas fa-image',\n      description: 'Thêm hình ảnh với caption và alt text'\n    }, {\n      id: 'video',\n      name: 'Video',\n      icon: 'fas fa-video',\n      description: 'Nhúng video với tùy chỉnh autoplay'\n    }]\n  },\n  forms: {\n    name: 'Form',\n    icon: 'fas fa-wpforms',\n    subCategories: [],\n    components: [{\n      id: 'input',\n      name: 'Ô nhập liệu',\n      icon: 'fas fa-keyboard',\n      description: 'Ô input với validation'\n    }, {\n      id: 'form-contact',\n      name: 'Form liên hệ',\n      icon: 'fas fa-envelope',\n      description: 'Form liên hệ đầy đủ'\n    }]\n  },\n  templates: {\n    name: 'Templates',\n    icon: 'fas fa-file-alt',\n    subCategories: [],\n    components: [\n    // Based on search results, e.g., from MUI, GitHub templates\n    {\n      id: 'hero-template',\n      name: 'Hero Template',\n      icon: 'fas fa-star',\n      description: 'Mẫu hero từ React-Landing-Page-Template',\n      structure: [{\n        json: {\n          type: 'section',\n          layout: 'hero',\n          content: {\n            title: 'Welcome to Our Startup',\n            subtitle: 'Innovative solutions for your business',\n            buttons: [{\n              text: 'Get Started',\n              type: 'primary'\n            }]\n          },\n          styles: {\n            background: '#f0f9ff'\n          }\n        }\n      }]\n    }, {\n      id: 'features-template',\n      name: 'Features Template',\n      icon: 'fas fa-th-list',\n      description: 'Mẫu features từ MUI Marketing page',\n      structure: [{\n        json: {\n          type: 'section',\n          layout: 'features',\n          content: {\n            features: [{\n              title: 'Feature 1',\n              description: 'Description 1',\n              icon: 'icon1'\n            }, {\n              title: 'Feature 2',\n              description: 'Description 2',\n              icon: 'icon2'\n            }]\n          },\n          styles: {\n            padding: '20px'\n          }\n        }\n      }]\n    }, {\n      id: 'pricing-template',\n      name: 'Pricing Template',\n      icon: 'fas fa-dollar-sign',\n      description: 'Mẫu pricing từ Treact',\n      structure: [{\n        json: {\n          type: 'section',\n          layout: 'pricing',\n          content: {\n            plans: [{\n              name: 'Basic',\n              price: 'Free',\n              features: ['Feature A', 'Feature B']\n            }, {\n              name: 'Pro',\n              price: '$10/mo',\n              features: ['Feature A', 'Feature B', 'Feature C']\n            }]\n          }\n        }\n      }]\n    },\n    // Add more from search results, e.g., blog, sign-in, etc.\n    {\n      id: 'blog-template',\n      name: 'Blog Template',\n      icon: 'fas fa-blog',\n      description: 'Mẫu blog từ MUI',\n      structure: [{\n        json: {\n          type: 'section',\n          layout: 'blog',\n          content: {\n            posts: [{\n              title: 'Post 1',\n              excerpt: 'Excerpt 1'\n            }, {\n              title: 'Post 2',\n              excerpt: 'Excerpt 2'\n            }]\n          }\n        }\n      }]\n    }]\n  }\n};\n\n// DraggableComponent updated to handle both components and templates\nconst DraggableComponent = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c = _s(({\n  item,\n  isTemplate = false\n}) => {\n  _s();\n  const [{\n    isDragging\n  }, drag] = useDrag(() => ({\n    type: isTemplate ? ItemTypes.TEMPLATE : ItemTypes.COMPONENT,\n    item: {\n      componentData: isTemplate ? item.structure : item\n    },\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging()\n    })\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: drag,\n    className: \"p-3 mb-2 border border-gray-200 rounded-lg cursor-move hover:border-blue-300 hover:shadow-sm hover:bg-blue-50 transition-all duration-200\",\n    style: {\n      opacity: isDragging ? 0.5 : 1\n    },\n    onMouseDown: () => toast.info(`Bắt đầu kéo ${item.name}`),\n    \"data-tooltip-id\": \"component-tooltip\",\n    \"data-tooltip-content\": item.description || `Kéo để thêm ${item.name}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: `${item.icon} text-gray-500`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium text-sm text-gray-800\",\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: \"K\\xE9o \\u0111\\u1EC3 th\\xEAm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), item.variants && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-blue-500\",\n          children: [\"Variants: \", item.variants.join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 9\n  }, this);\n}, \"wuumsFp4qAni9XRJfRhQAZjuD/k=\", false, function () {\n  return [useDrag];\n})), \"wuumsFp4qAni9XRJfRhQAZjuD/k=\", false, function () {\n  return [useDrag];\n});\n_c2 = DraggableComponent;\nconst ComponentLibrary = /*#__PURE__*/_s3(/*#__PURE__*/React.memo(_c3 = _s3(({\n  isCollapsed,\n  onToggle\n}) => {\n  var _s2 = $RefreshSig$();\n  _s3();\n  const [activeCategory, setActiveCategory] = useState('text');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [expandedSubs, setExpandedSubs] = useState({}); // State for expanded sub-categories\n\n  const categories = Object.keys(EXTENDED_LIBRARY).map(key => ({\n    id: key,\n    ...EXTENDED_LIBRARY[key]\n  }));\n\n  // Toggle sub-category expansion\n  const toggleSub = useCallback((catId, subId) => {\n    setExpandedSubs(prev => {\n      var _prev$catId;\n      return {\n        ...prev,\n        [catId]: {\n          ...prev[catId],\n          [subId]: !((_prev$catId = prev[catId]) !== null && _prev$catId !== void 0 && _prev$catId[subId])\n        }\n      };\n    });\n  }, []);\n\n  // Filter components or templates based on search query\n  const filteredItems = useMemo(() => {\n    const categoryData = EXTENDED_LIBRARY[activeCategory];\n    if (!categoryData) return [];\n    let items = [];\n    if (categoryData.subCategories && categoryData.subCategories.length > 0) {\n      categoryData.subCategories.forEach(sub => {\n        var _expandedSubs$activeC;\n        if ((_expandedSubs$activeC = expandedSubs[activeCategory]) !== null && _expandedSubs$activeC !== void 0 && _expandedSubs$activeC[sub.id]) {\n          items = [...items, ...sub.components];\n        }\n      });\n    } else {\n      items = categoryData.components || [];\n    }\n    if (!searchQuery) return items;\n    return items.filter(item => item.name.toLowerCase().includes(searchQuery.toLowerCase()));\n  }, [activeCategory, searchQuery, expandedSubs]);\n\n  // Handle category change\n  const handleCategoryChange = useCallback(categoryId => {\n    var _EXTENDED_LIBRARY$cat;\n    setActiveCategory(categoryId);\n    setSearchQuery(''); // Reset search when changing category\n    toast.info(`Đã chuyển sang danh mục ${(_EXTENDED_LIBRARY$cat = EXTENDED_LIBRARY[categoryId]) === null || _EXTENDED_LIBRARY$cat === void 0 ? void 0 : _EXTENDED_LIBRARY$cat.name}`);\n  }, []);\n\n  // Keyboard shortcuts for categories\n  _s2(categories.forEach(_s2((cat, index) => {\n    _s2();\n    useHotkeys(`ctrl+${index + 1}`, () => handleCategoryChange(cat.id), [handleCategoryChange]);\n  }, \"pwpuIBlwH6mtmZzykQCeVxCd7IA=\", false, function () {\n    return [useHotkeys];\n  })), \"pwpuIBlwH6mtmZzykQCeVxCd7IA=\", false, function () {\n    return [useHotkeys];\n  });\n  if (isCollapsed) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-12 bg-white border-r border-gray-200 h-full flex flex-col items-center py-2 transition-all duration-300\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onToggle,\n        className: \"p-2 hover:bg-blue-50 rounded mb-4 text-gray-600 hover:text-blue-600\",\n        \"data-tooltip-id\": \"component-tooltip\",\n        \"data-tooltip-content\": \"M\\u1EDF th\\u01B0 vi\\u1EC7n th\\xE0nh ph\\u1EA7n\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-chevron-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-2 hover:bg-blue-50 rounded mb-1 text-gray-600 hover:text-blue-600\",\n        \"data-tooltip-id\": \"component-tooltip\",\n        \"data-tooltip-content\": cat.name,\n        onClick: () => {\n          handleCategoryChange(cat.id);\n          onToggle(); // Auto-expand when selecting category\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: cat.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 25\n        }, this)\n      }, cat.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }, this);\n  }\n  const renderSubCategories = categoryData => {\n    if (!categoryData.subCategories || categoryData.subCategories.length === 0) return null;\n    return categoryData.subCategories.map(sub => {\n      var _expandedSubs$activeC2, _expandedSubs$activeC3;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toggleSub(activeCategory, sub.id),\n          className: \"w-full p-2 text-left flex items-center justify-between hover:bg-gray-50 text-gray-600 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: sub.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas fa-chevron-${(_expandedSubs$activeC2 = expandedSubs[activeCategory]) !== null && _expandedSubs$activeC2 !== void 0 && _expandedSubs$activeC2[sub.id] ? 'down' : 'right'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 17\n        }, this), ((_expandedSubs$activeC3 = expandedSubs[activeCategory]) === null || _expandedSubs$activeC3 === void 0 ? void 0 : _expandedSubs$activeC3[sub.id]) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pl-4\",\n          children: sub.components.map(item => /*#__PURE__*/_jsxDEV(DraggableComponent, {\n            item: item\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this)]\n      }, sub.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 13\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-64 bg-white border-r border-gray-200 h-full overflow-y-auto transition-all duration-300\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-b flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold text-gray-800\",\n        children: \"Th\\u01B0 vi\\u1EC7n th\\xE0nh ph\\u1EA7n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onToggle,\n        className: \"p-1 hover:bg-blue-50 rounded text-gray-600 hover:text-blue-600\",\n        \"data-tooltip-id\": \"component-tooltip\",\n        \"data-tooltip-content\": \"Thu g\\u1ECDn th\\u01B0 vi\\u1EC7n\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-chevron-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2 border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"T\\xECm ki\\u1EBFm th\\xE0nh ph\\u1EA7n ho\\u1EB7c template...\",\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value),\n        className: \"w-full p-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b\",\n      children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleCategoryChange(cat.id),\n        className: `w-full p-3 text-left flex items-center gap-2 hover:bg-blue-50 transition-all duration-200 ${activeCategory === cat.id ? 'bg-blue-50 border-r-2 border-blue-500 text-blue-600' : 'text-gray-600'}`,\n        \"data-tooltip-id\": \"component-tooltip\",\n        \"data-tooltip-content\": `Danh mục ${cat.name}`,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: cat.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium\",\n          children: cat.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 25\n        }, this)]\n      }, cat.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2\",\n      children: [renderSubCategories(EXTENDED_LIBRARY[activeCategory]), filteredItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-500 text-sm py-4\",\n        children: \"Kh\\xF4ng t\\xECm th\\u1EA5y th\\xE0nh ph\\u1EA7n ho\\u1EB7c template\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 21\n      }, this) : filteredItems.map(item => /*#__PURE__*/_jsxDEV(DraggableComponent, {\n        item: item,\n        isTemplate: activeCategory === 'templates'\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 9\n  }, this);\n}, \"pZ0e/knVF3PE6QrfGXO0lrHXhDE=\")), \"pZ0e/knVF3PE6QrfGXO0lrHXhDE=\");\n_c4 = ComponentLibrary;\nexport default ComponentLibrary;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"DraggableComponent$React.memo\");\n$RefreshReg$(_c2, \"DraggableComponent\");\n$RefreshReg$(_c3, \"ComponentLibrary$React.memo\");\n$RefreshReg$(_c4, \"ComponentLibrary\");","map":{"version":3,"names":["React","useState","useMemo","useCallback","useDrag","useHotkeys","toast","COMPONENT_LIBRARY","jsxDEV","_jsxDEV","ItemTypes","COMPONENT","TEMPLATE","EXTENDED_LIBRARY","text","name","icon","subCategories","id","components","description","variants","buttons","sections","media","forms","templates","structure","json","type","layout","content","title","subtitle","styles","background","features","padding","plans","price","posts","excerpt","DraggableComponent","_s","memo","_c","item","isTemplate","isDragging","drag","componentData","collect","monitor","ref","className","style","opacity","onMouseDown","info","children","fileName","_jsxFileName","lineNumber","columnNumber","join","_c2","ComponentLibrary","_s3","_c3","isCollapsed","onToggle","_s2","$RefreshSig$","activeCategory","setActiveCategory","searchQuery","setSearchQuery","expandedSubs","setExpandedSubs","categories","Object","keys","map","key","toggleSub","catId","subId","prev","_prev$catId","filteredItems","categoryData","items","length","forEach","sub","_expandedSubs$activeC","filter","toLowerCase","includes","handleCategoryChange","categoryId","_EXTENDED_LIBRARY$cat","cat","index","onClick","renderSubCategories","_expandedSubs$activeC2","_expandedSubs$activeC3","placeholder","value","onChange","e","target","_c4","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/ComponentLibrary.js"],"sourcesContent":["import React, { useState, useMemo, useCallback } from 'react';\r\nimport { useDrag } from 'react-dnd';\r\nimport { useHotkeys } from 'react-hotkeys-hook';\r\nimport { toast } from 'react-toastify';\r\nimport COMPONENT_LIBRARY from '../../constants/componentLibrary';\r\n\r\nconst ItemTypes = {\r\n    COMPONENT: 'component',\r\n    TEMPLATE: 'template', // New type for templates\r\n};\r\n\r\n// Extended with sub-categories and templates\r\n// Assuming COMPONENT_LIBRARY is structured like this; adjust as needed\r\nconst EXTENDED_LIBRARY = {\r\n    text: {\r\n        name: 'Văn bản',\r\n        icon: 'fas fa-font',\r\n        subCategories: [\r\n            {\r\n                id: 'basic',\r\n                name: 'Cơ bản',\r\n                components: [\r\n                    { id: 'heading', name: 'Tiêu đề', icon: 'fas fa-heading', description: 'Thêm tiêu đề lớn với các cấp độ H1-H6', variants: ['h1', 'h2', 'h3'] },\r\n                    { id: 'paragraph', name: 'Đoạn văn', icon: 'fas fa-paragraph', description: 'Thêm đoạn văn bản đơn giản với tùy chỉnh font' },\r\n                ],\r\n            },\r\n            {\r\n                id: 'advanced',\r\n                name: 'Nâng cao',\r\n                components: [\r\n                    { id: 'quote', name: 'Trích dẫn', icon: 'fas fa-quote-left', description: 'Trích dẫn văn bản với style đặc biệt' },\r\n                    { id: 'list', name: 'Danh sách', icon: 'fas fa-list', description: 'Danh sách có thứ tự hoặc không thứ tự' },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    buttons: {\r\n        name: 'Nút bấm',\r\n        icon: 'fas fa-mouse-pointer',\r\n        subCategories: [\r\n            {\r\n                id: 'basic',\r\n                name: 'Cơ bản',\r\n                components: [\r\n                    { id: 'button-primary', name: 'Nút chính', icon: 'fas fa-square', description: 'Nút hành động chính với màu nổi bật', variants: ['primary', 'secondary', 'outline'] },\r\n                    { id: 'button-link', name: 'Nút liên kết', icon: 'fas fa-link', description: 'Nút kiểu liên kết với hover effect' },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    sections: {\r\n        name: 'Section',\r\n        icon: 'fas fa-layer-group',\r\n        subCategories: [\r\n            {\r\n                id: 'hero',\r\n                name: 'Hero',\r\n                components: [\r\n                    { id: 'hero-basic', name: 'Hero cơ bản', icon: 'fas fa-star', description: 'Section hero với tiêu đề và nút CTA' },\r\n                    { id: 'hero-image', name: 'Hero với hình', icon: 'fas fa-image', description: 'Hero với hình nền hoặc minh họa' },\r\n                ],\r\n            },\r\n            {\r\n                id: 'features',\r\n                name: 'Features',\r\n                components: [\r\n                    { id: 'features-grid', name: 'Lưới features', icon: 'fas fa-th', description: 'Hiển thị features theo lưới' },\r\n                    { id: 'features-list', name: 'Danh sách features', icon: 'fas fa-list-ul', description: 'Danh sách features với icon' },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    media: {\r\n        name: 'Media',\r\n        icon: 'fas fa-image',\r\n        subCategories: [],\r\n        components: [\r\n            { id: 'image', name: 'Hình ảnh', icon: 'fas fa-image', description: 'Thêm hình ảnh với caption và alt text' },\r\n            { id: 'video', name: 'Video', icon: 'fas fa-video', description: 'Nhúng video với tùy chỉnh autoplay' },\r\n        ],\r\n    },\r\n    forms: {\r\n        name: 'Form',\r\n        icon: 'fas fa-wpforms',\r\n        subCategories: [],\r\n        components: [\r\n            { id: 'input', name: 'Ô nhập liệu', icon: 'fas fa-keyboard', description: 'Ô input với validation' },\r\n            { id: 'form-contact', name: 'Form liên hệ', icon: 'fas fa-envelope', description: 'Form liên hệ đầy đủ' },\r\n        ],\r\n    },\r\n    templates: {\r\n        name: 'Templates',\r\n        icon: 'fas fa-file-alt',\r\n        subCategories: [],\r\n        components: [ // Based on search results, e.g., from MUI, GitHub templates\r\n            {\r\n                id: 'hero-template',\r\n                name: 'Hero Template',\r\n                icon: 'fas fa-star',\r\n                description: 'Mẫu hero từ React-Landing-Page-Template',\r\n                structure: [\r\n                    {\r\n                        json: {\r\n                            type: 'section',\r\n                            layout: 'hero',\r\n                            content: {\r\n                                title: 'Welcome to Our Startup',\r\n                                subtitle: 'Innovative solutions for your business',\r\n                                buttons: [\r\n                                    { text: 'Get Started', type: 'primary' },\r\n                                ],\r\n                            },\r\n                            styles: { background: '#f0f9ff' },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                id: 'features-template',\r\n                name: 'Features Template',\r\n                icon: 'fas fa-th-list',\r\n                description: 'Mẫu features từ MUI Marketing page',\r\n                structure: [\r\n                    {\r\n                        json: {\r\n                            type: 'section',\r\n                            layout: 'features',\r\n                            content: {\r\n                                features: [\r\n                                    { title: 'Feature 1', description: 'Description 1', icon: 'icon1' },\r\n                                    { title: 'Feature 2', description: 'Description 2', icon: 'icon2' },\r\n                                ],\r\n                            },\r\n                            styles: { padding: '20px' },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                id: 'pricing-template',\r\n                name: 'Pricing Template',\r\n                icon: 'fas fa-dollar-sign',\r\n                description: 'Mẫu pricing từ Treact',\r\n                structure: [\r\n                    {\r\n                        json: {\r\n                            type: 'section',\r\n                            layout: 'pricing',\r\n                            content: {\r\n                                plans: [\r\n                                    { name: 'Basic', price: 'Free', features: ['Feature A', 'Feature B'] },\r\n                                    { name: 'Pro', price: '$10/mo', features: ['Feature A', 'Feature B', 'Feature C'] },\r\n                                ],\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            // Add more from search results, e.g., blog, sign-in, etc.\r\n            {\r\n                id: 'blog-template',\r\n                name: 'Blog Template',\r\n                icon: 'fas fa-blog',\r\n                description: 'Mẫu blog từ MUI',\r\n                structure: [\r\n                    {\r\n                        json: {\r\n                            type: 'section',\r\n                            layout: 'blog',\r\n                            content: {\r\n                                posts: [\r\n                                    { title: 'Post 1', excerpt: 'Excerpt 1' },\r\n                                    { title: 'Post 2', excerpt: 'Excerpt 2' },\r\n                                ],\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n};\r\n\r\n// DraggableComponent updated to handle both components and templates\r\nconst DraggableComponent = React.memo(({ item, isTemplate = false }) => {\r\n    const [{ isDragging }, drag] = useDrag(() => ({\r\n        type: isTemplate ? ItemTypes.TEMPLATE : ItemTypes.COMPONENT,\r\n        item: { componentData: isTemplate ? item.structure : item },\r\n        collect: (monitor) => ({\r\n            isDragging: !!monitor.isDragging(),\r\n        }),\r\n    }));\r\n\r\n    return (\r\n        <div\r\n            ref={drag}\r\n            className=\"p-3 mb-2 border border-gray-200 rounded-lg cursor-move hover:border-blue-300 hover:shadow-sm hover:bg-blue-50 transition-all duration-200\"\r\n            style={{ opacity: isDragging ? 0.5 : 1 }}\r\n            onMouseDown={() => toast.info(`Bắt đầu kéo ${item.name}`)}\r\n            data-tooltip-id=\"component-tooltip\"\r\n            data-tooltip-content={item.description || `Kéo để thêm ${item.name}`}\r\n        >\r\n            <div className=\"flex items-center gap-3\">\r\n                <i className={`${item.icon} text-gray-500`}></i>\r\n                <div>\r\n                    <div className=\"font-medium text-sm text-gray-800\">{item.name}</div>\r\n                    <div className=\"text-xs text-gray-500\">Kéo để thêm</div>\r\n                    {item.variants && (\r\n                        <div className=\"text-xs text-blue-500\">Variants: {item.variants.join(', ')}</div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nconst ComponentLibrary = React.memo(({ isCollapsed, onToggle }) => {\r\n    const [activeCategory, setActiveCategory] = useState('text');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [expandedSubs, setExpandedSubs] = useState({}); // State for expanded sub-categories\r\n\r\n    const categories = Object.keys(EXTENDED_LIBRARY).map((key) => ({\r\n        id: key,\r\n        ...EXTENDED_LIBRARY[key],\r\n    }));\r\n\r\n    // Toggle sub-category expansion\r\n    const toggleSub = useCallback((catId, subId) => {\r\n        setExpandedSubs((prev) => ({\r\n            ...prev,\r\n            [catId]: {\r\n                ...prev[catId],\r\n                [subId]: !prev[catId]?.[subId],\r\n            },\r\n        }));\r\n    }, []);\r\n\r\n    // Filter components or templates based on search query\r\n    const filteredItems = useMemo(() => {\r\n        const categoryData = EXTENDED_LIBRARY[activeCategory];\r\n        if (!categoryData) return [];\r\n\r\n        let items = [];\r\n        if (categoryData.subCategories && categoryData.subCategories.length > 0) {\r\n            categoryData.subCategories.forEach((sub) => {\r\n                if (expandedSubs[activeCategory]?.[sub.id]) {\r\n                    items = [...items, ...sub.components];\r\n                }\r\n            });\r\n        } else {\r\n            items = categoryData.components || [];\r\n        }\r\n\r\n        if (!searchQuery) return items;\r\n        return items.filter((item) =>\r\n            item.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n        );\r\n    }, [activeCategory, searchQuery, expandedSubs]);\r\n\r\n    // Handle category change\r\n    const handleCategoryChange = useCallback((categoryId) => {\r\n        setActiveCategory(categoryId);\r\n        setSearchQuery(''); // Reset search when changing category\r\n        toast.info(`Đã chuyển sang danh mục ${EXTENDED_LIBRARY[categoryId]?.name}`);\r\n    }, []);\r\n\r\n    // Keyboard shortcuts for categories\r\n    categories.forEach((cat, index) => {\r\n        useHotkeys(`ctrl+${index + 1}`, () => handleCategoryChange(cat.id), [handleCategoryChange]);\r\n    });\r\n\r\n    if (isCollapsed) {\r\n        return (\r\n            <div className=\"w-12 bg-white border-r border-gray-200 h-full flex flex-col items-center py-2 transition-all duration-300\">\r\n                <button\r\n                    onClick={onToggle}\r\n                    className=\"p-2 hover:bg-blue-50 rounded mb-4 text-gray-600 hover:text-blue-600\"\r\n                    data-tooltip-id=\"component-tooltip\"\r\n                    data-tooltip-content=\"Mở thư viện thành phần\"\r\n                >\r\n                    <i className=\"fas fa-chevron-right\"></i>\r\n                </button>\r\n                {categories.map((cat) => (\r\n                    <button\r\n                        key={cat.id}\r\n                        className=\"p-2 hover:bg-blue-50 rounded mb-1 text-gray-600 hover:text-blue-600\"\r\n                        data-tooltip-id=\"component-tooltip\"\r\n                        data-tooltip-content={cat.name}\r\n                        onClick={() => {\r\n                            handleCategoryChange(cat.id);\r\n                            onToggle(); // Auto-expand when selecting category\r\n                        }}\r\n                    >\r\n                        <i className={cat.icon}></i>\r\n                    </button>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSubCategories = (categoryData) => {\r\n        if (!categoryData.subCategories || categoryData.subCategories.length === 0) return null;\r\n\r\n        return categoryData.subCategories.map((sub) => (\r\n            <div key={sub.id}>\r\n                <button\r\n                    onClick={() => toggleSub(activeCategory, sub.id)}\r\n                    className=\"w-full p-2 text-left flex items-center justify-between hover:bg-gray-50 text-gray-600 text-sm\"\r\n                >\r\n                    <span>{sub.name}</span>\r\n                    <i className={`fas fa-chevron-${expandedSubs[activeCategory]?.[sub.id] ? 'down' : 'right'}`}></i>\r\n                </button>\r\n                {expandedSubs[activeCategory]?.[sub.id] && (\r\n                    <div className=\"pl-4\">\r\n                        {sub.components.map((item) => (\r\n                            <DraggableComponent key={item.id} item={item} />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        ));\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-64 bg-white border-r border-gray-200 h-full overflow-y-auto transition-all duration-300\">\r\n            <div className=\"p-4 border-b flex items-center justify-between\">\r\n                <h2 className=\"font-semibold text-gray-800\">Thư viện thành phần</h2>\r\n                <button\r\n                    onClick={onToggle}\r\n                    className=\"p-1 hover:bg-blue-50 rounded text-gray-600 hover:text-blue-600\"\r\n                    data-tooltip-id=\"component-tooltip\"\r\n                    data-tooltip-content=\"Thu gọn thư viện\"\r\n                >\r\n                    <i className=\"fas fa-chevron-left\"></i>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"p-2 border-b\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Tìm kiếm thành phần hoặc template...\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    className=\"w-full p-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-blue-500\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"border-b\">\r\n                {categories.map((cat) => (\r\n                    <button\r\n                        key={cat.id}\r\n                        onClick={() => handleCategoryChange(cat.id)}\r\n                        className={`w-full p-3 text-left flex items-center gap-2 hover:bg-blue-50 transition-all duration-200 ${\r\n                            activeCategory === cat.id\r\n                                ? 'bg-blue-50 border-r-2 border-blue-500 text-blue-600'\r\n                                : 'text-gray-600'\r\n                        }`}\r\n                        data-tooltip-id=\"component-tooltip\"\r\n                        data-tooltip-content={`Danh mục ${cat.name}`}\r\n                    >\r\n                        <i className={cat.icon}></i>\r\n                        <span className=\"text-sm font-medium\">{cat.name}</span>\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"p-2\">\r\n                {renderSubCategories(EXTENDED_LIBRARY[activeCategory])}\r\n                {filteredItems.length === 0 ? (\r\n                    <div className=\"text-center text-gray-500 text-sm py-4\">\r\n                        Không tìm thấy thành phần hoặc template\r\n                    </div>\r\n                ) : (\r\n                    filteredItems.map((item) => (\r\n                        <DraggableComponent\r\n                            key={item.id}\r\n                            item={item}\r\n                            isTemplate={activeCategory === 'templates'}\r\n                        />\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default ComponentLibrary;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}