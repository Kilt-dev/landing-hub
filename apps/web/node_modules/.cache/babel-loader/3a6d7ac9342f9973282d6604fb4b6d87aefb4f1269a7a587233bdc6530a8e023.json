{"ast":null,"code":"import axios from 'axios';\n\n// Hàm renderStaticHTML được import từ CreateLanding.jsx hoặc tái sử dụng ở đây\n// Nếu không muốn duplicate, bạn cần export hàm này từ CreateLanding.jsx\nconst renderStaticHTML = pageData => {\n  let html = `<!DOCTYPE html>\n<html lang=\"vi\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Landing Page</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 0; padding: 0; }\n        .page-container { position: relative; width: ${pageData.canvas.width}px; min-height: 600px; margin: 0 auto; background: ${pageData.canvas.background}; }\n    </style>\n</head>\n<body>\n    <div class=\"page-container\">\n`;\n  const renderElementRecursive = (element, isChild = false) => {\n    const {\n      id,\n      type,\n      componentData = {},\n      position = {},\n      size = {\n        width: 200,\n        height: 50\n      },\n      styles = {},\n      children = []\n    } = element;\n    const pos = position.desktop || {\n      x: 0,\n      y: 0\n    };\n    const styleStr = `position: ${isChild ? 'relative' : 'absolute'}; left: ${pos.x}px; top: ${pos.y}px; width: ${size.width}px; height: ${size.height}px; ${Object.entries(styles).map(([k, v]) => `${k}: ${v};`).join(' ')}`;\n    let content = '';\n    switch (type) {\n      case 'heading':\n        content = `<h2 style=\"font-size: ${componentData.fontSize || '1.5rem'}; color: ${componentData.color || '#1f2937'}; margin: 0; padding: 0; ${styleStr}\">${componentData.content || 'Tiêu đề'}</h2>`;\n        break;\n      case 'paragraph':\n        content = `<p style=\"font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || '#1f2937'}; margin: 0; padding: 0; ${styleStr}\">${componentData.content || 'Đoạn văn'}</p>`;\n        break;\n      case 'button':\n        content = `<button style=\"padding: 8px 16px; border-radius: 8px; background: ${componentData.background || '#2563eb'}; color: ${componentData.color || '#fff'}; border: none; cursor: pointer; ${styleStr}\">${componentData.content || 'Nút'}</button>`;\n        break;\n      case 'image':\n        content = `<img src=\"${componentData.src || 'https://via.placeholder.com/150'}\" alt=\"${componentData.alt || 'Image'}\" style=\"max-width: 100%; height: auto; ${styleStr}\" />`;\n        break;\n      case 'form':\n        content = `<form style=\"display: flex; flex-direction: column; gap: 10px; ${styleStr}\">`;\n        if (componentData.title && !children.some(child => child.type === 'heading')) {\n          content += `<h3 style=\"margin: 0; font-size: 1.2rem;\">${componentData.title}</h3>`;\n        }\n        if (componentData.fields) {\n          content += componentData.fields.map((field, index) => `<input key=\"${index}\" type=\"text\" placeholder=\"${field}\" style=\"padding: 8px; border-radius: 8px; border: 1px solid #ccc;\" />`).join('');\n        } else if (!children.some(child => child.type === 'input')) {\n          content += `<input type=\"text\" placeholder=\"${componentData.placeholder || 'Input'}\" style=\"padding: 8px; border-radius: 8px; border: 1px solid #ccc;\" />`;\n        }\n        if (!children.some(child => child.type === 'button')) {\n          content += `<button type=\"submit\" style=\"background: #2563eb; color: #fff; padding: 8px 16px; border-radius: 8px; border: none; cursor: pointer;\">${componentData.buttonText || 'Submit'}</button>`;\n        }\n        children.forEach(child => {\n          content += renderElementRecursive(child, true);\n        });\n        content += `</form>`;\n        break;\n      case 'section':\n      case 'container':\n        content = `<div style=\"display: flex; flex-direction: column; gap: 10px; ${styleStr}\">`;\n        if (componentData.title && !children.some(child => child.type === 'heading')) {\n          content += `<h2 style=\"font-size: 1.8rem; margin: 0;\">${componentData.title}</h2>`;\n        }\n        if (componentData.subtitle && !children.some(child => child.type === 'paragraph')) {\n          content += `<p style=\"font-size: 1.2rem; margin: 0;\">${componentData.subtitle}</p>`;\n        }\n        if (componentData.content && !children.some(child => child.type === 'paragraph')) {\n          content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\n        }\n        if (componentData.features && !children.some(child => child.type === 'list')) {\n          content += `<ul style=\"list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 8px;\">${componentData.features.map((feature, index) => `<li key=\"${index}\" style=\"font-size: 1rem;\">${feature}</li>`).join('')}</ul>`;\n        }\n        if (componentData.ctaText && !children.some(child => child.type === 'button')) {\n          content += `<button style=\"padding: 10px 20px; border-radius: 8px; background: #2563eb; color: #fff; border: none; cursor: pointer;\">${componentData.ctaText}</button>`;\n        }\n        children.forEach(child => {\n          content += renderElementRecursive(child, true);\n        });\n        content += `</div>`;\n        break;\n      case 'divider':\n        content = `<hr style=\"border: none; background: #e5e7eb; height: 2px; ${styleStr}\" />`;\n        break;\n      case 'spacer':\n        content = `<div style=\"background: transparent; ${styleStr}\"></div>`;\n        break;\n      case 'popup':\n      case 'modal':\n        content = `<div style=\"display: flex; flex-direction: column; gap: 10px; text-align: center; ${styleStr}\">`;\n        if (componentData.title && !children.some(child => child.type === 'heading')) {\n          content += `<h3 style=\"font-size: 1.5rem; margin: 0;\">${componentData.title}</h3>`;\n        }\n        if (componentData.content && !children.some(child => child.type === 'paragraph')) {\n          content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\n        }\n        if (componentData.buttonText && !children.some(child => child.type === 'button')) {\n          content += `<button style=\"padding: 10px 20px; border-radius: 8px; background: #2563eb; color: #fff; border: none; cursor: pointer;\">${componentData.buttonText}</button>`;\n        }\n        children.forEach(child => {\n          content += renderElementRecursive(child, true);\n        });\n        content += `</div>`;\n        break;\n      default:\n        content = `<div style=\"color: #ff0000; ${styleStr}\">Không xác định: ${type}</div>`;\n        break;\n    }\n    return content;\n  };\n  pageData.elements.forEach(element => {\n    html += renderElementRecursive(element);\n  });\n  html += `    </div>\\n</body>\\n</html>`;\n  return html;\n};\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL\n});\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n}, error => Promise.reject(error));\n\n// API methods\nexport default {\n  savePageData: async pageData => {\n    try {\n      const html = renderStaticHTML(pageData);\n      const response = await api.post('/api/save', {\n        html,\n        pageId: pageData.id // Có thể undefined nếu là page mới\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error in savePageData:', error);\n      throw error;\n    }\n  },\n  deployLandingPage: async htmlContent => {\n    try {\n      const response = await api.post('/api/deploy', {\n        html: htmlContent\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error in deployLandingPage:', error);\n      throw error;\n    }\n  },\n  getPages: async () => {\n    try {\n      const response = await api.get('/api/pages');\n      return response.data;\n    } catch (error) {\n      console.error('Error in getPages:', error);\n      throw error;\n    }\n  },\n  getPageContent: async pageId => {\n    try {\n      const response = await api.get(`/api/pages/${pageId}/content`);\n      return response.data;\n    } catch (error) {\n      console.error('Error in getPageContent:', error);\n      throw error;\n    }\n  },\n  publishPage: async pageId => {\n    try {\n      const response = await api.post(`/api/pages/${pageId}/publish`);\n      return response.data;\n    } catch (error) {\n      console.error('Error in publishPage:', error);\n      throw error;\n    }\n  },\n  deletePage: async pageId => {\n    try {\n      const response = await api.delete(`/api/pages/${pageId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error in deletePage:', error);\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["axios","renderStaticHTML","pageData","html","canvas","width","background","renderElementRecursive","element","isChild","id","type","componentData","position","size","height","styles","children","pos","desktop","x","y","styleStr","Object","entries","map","k","v","join","content","fontSize","color","src","alt","title","some","child","fields","field","index","placeholder","buttonText","forEach","subtitle","features","feature","ctaText","elements","api","create","baseURL","process","env","REACT_APP_API_URL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","savePageData","response","post","pageId","data","console","deployLandingPage","htmlContent","getPages","get","getPageContent","publishPage","deletePage","delete"],"sources":["F:/landinghub-iconic/packages/api/utils/index.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Hàm renderStaticHTML được import từ CreateLanding.jsx hoặc tái sử dụng ở đây\r\n// Nếu không muốn duplicate, bạn cần export hàm này từ CreateLanding.jsx\r\nconst renderStaticHTML = (pageData) => {\r\n    let html = `<!DOCTYPE html>\r\n<html lang=\"vi\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Landing Page</title>\r\n    <style>\r\n        body { font-family: Arial, sans-serif; margin: 0; padding: 0; }\r\n        .page-container { position: relative; width: ${pageData.canvas.width}px; min-height: 600px; margin: 0 auto; background: ${pageData.canvas.background}; }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"page-container\">\r\n`;\r\n\r\n    const renderElementRecursive = (element, isChild = false) => {\r\n        const { id, type, componentData = {}, position = {}, size = { width: 200, height: 50 }, styles = {}, children = [] } = element;\r\n        const pos = position.desktop || { x: 0, y: 0 };\r\n        const styleStr = `position: ${isChild ? 'relative' : 'absolute'}; left: ${pos.x}px; top: ${pos.y}px; width: ${size.width}px; height: ${size.height}px; ${Object.entries(styles).map(([k, v]) => `${k}: ${v};`).join(' ')}`;\r\n\r\n        let content = '';\r\n        switch (type) {\r\n            case 'heading':\r\n                content = `<h2 style=\"font-size: ${componentData.fontSize || '1.5rem'}; color: ${componentData.color || '#1f2937'}; margin: 0; padding: 0; ${styleStr}\">${componentData.content || 'Tiêu đề'}</h2>`;\r\n                break;\r\n            case 'paragraph':\r\n                content = `<p style=\"font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || '#1f2937'}; margin: 0; padding: 0; ${styleStr}\">${componentData.content || 'Đoạn văn'}</p>`;\r\n                break;\r\n            case 'button':\r\n                content = `<button style=\"padding: 8px 16px; border-radius: 8px; background: ${componentData.background || '#2563eb'}; color: ${componentData.color || '#fff'}; border: none; cursor: pointer; ${styleStr}\">${componentData.content || 'Nút'}</button>`;\r\n                break;\r\n            case 'image':\r\n                content = `<img src=\"${componentData.src || 'https://via.placeholder.com/150'}\" alt=\"${componentData.alt || 'Image'}\" style=\"max-width: 100%; height: auto; ${styleStr}\" />`;\r\n                break;\r\n            case 'form':\r\n                content = `<form style=\"display: flex; flex-direction: column; gap: 10px; ${styleStr}\">`;\r\n                if (componentData.title && !children.some(child => child.type === 'heading')) {\r\n                    content += `<h3 style=\"margin: 0; font-size: 1.2rem;\">${componentData.title}</h3>`;\r\n                }\r\n                if (componentData.fields) {\r\n                    content += componentData.fields.map((field, index) => `<input key=\"${index}\" type=\"text\" placeholder=\"${field}\" style=\"padding: 8px; border-radius: 8px; border: 1px solid #ccc;\" />`).join('');\r\n                } else if (!children.some(child => child.type === 'input')) {\r\n                    content += `<input type=\"text\" placeholder=\"${componentData.placeholder || 'Input'}\" style=\"padding: 8px; border-radius: 8px; border: 1px solid #ccc;\" />`;\r\n                }\r\n                if (!children.some(child => child.type === 'button')) {\r\n                    content += `<button type=\"submit\" style=\"background: #2563eb; color: #fff; padding: 8px 16px; border-radius: 8px; border: none; cursor: pointer;\">${componentData.buttonText || 'Submit'}</button>`;\r\n                }\r\n                children.forEach(child => {\r\n                    content += renderElementRecursive(child, true);\r\n                });\r\n                content += `</form>`;\r\n                break;\r\n            case 'section':\r\n            case 'container':\r\n                content = `<div style=\"display: flex; flex-direction: column; gap: 10px; ${styleStr}\">`;\r\n                if (componentData.title && !children.some(child => child.type === 'heading')) {\r\n                    content += `<h2 style=\"font-size: 1.8rem; margin: 0;\">${componentData.title}</h2>`;\r\n                }\r\n                if (componentData.subtitle && !children.some(child => child.type === 'paragraph')) {\r\n                    content += `<p style=\"font-size: 1.2rem; margin: 0;\">${componentData.subtitle}</p>`;\r\n                }\r\n                if (componentData.content && !children.some(child => child.type === 'paragraph')) {\r\n                    content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\r\n                }\r\n                if (componentData.features && !children.some(child => child.type === 'list')) {\r\n                    content += `<ul style=\"list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 8px;\">${componentData.features.map((feature, index) => `<li key=\"${index}\" style=\"font-size: 1rem;\">${feature}</li>`).join('')}</ul>`;\r\n                }\r\n                if (componentData.ctaText && !children.some(child => child.type === 'button')) {\r\n                    content += `<button style=\"padding: 10px 20px; border-radius: 8px; background: #2563eb; color: #fff; border: none; cursor: pointer;\">${componentData.ctaText}</button>`;\r\n                }\r\n                children.forEach(child => {\r\n                    content += renderElementRecursive(child, true);\r\n                });\r\n                content += `</div>`;\r\n                break;\r\n            case 'divider':\r\n                content = `<hr style=\"border: none; background: #e5e7eb; height: 2px; ${styleStr}\" />`;\r\n                break;\r\n            case 'spacer':\r\n                content = `<div style=\"background: transparent; ${styleStr}\"></div>`;\r\n                break;\r\n            case 'popup':\r\n            case 'modal':\r\n                content = `<div style=\"display: flex; flex-direction: column; gap: 10px; text-align: center; ${styleStr}\">`;\r\n                if (componentData.title && !children.some(child => child.type === 'heading')) {\r\n                    content += `<h3 style=\"font-size: 1.5rem; margin: 0;\">${componentData.title}</h3>`;\r\n                }\r\n                if (componentData.content && !children.some(child => child.type === 'paragraph')) {\r\n                    content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\r\n                }\r\n                if (componentData.buttonText && !children.some(child => child.type === 'button')) {\r\n                    content += `<button style=\"padding: 10px 20px; border-radius: 8px; background: #2563eb; color: #fff; border: none; cursor: pointer;\">${componentData.buttonText}</button>`;\r\n                }\r\n                children.forEach(child => {\r\n                    content += renderElementRecursive(child, true);\r\n                });\r\n                content += `</div>`;\r\n                break;\r\n            default:\r\n                content = `<div style=\"color: #ff0000; ${styleStr}\">Không xác định: ${type}</div>`;\r\n                break;\r\n        }\r\n        return content;\r\n    };\r\n\r\n    pageData.elements.forEach(element => {\r\n        html += renderElementRecursive(element);\r\n    });\r\n\r\n    html += `    </div>\\n</body>\\n</html>`;\r\n    return html;\r\n};\r\n\r\nconst api = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n});\r\n\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) config.headers.Authorization = `Bearer ${token}`;\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\n// API methods\r\nexport default {\r\n    savePageData: async (pageData) => {\r\n        try {\r\n            const html = renderStaticHTML(pageData);\r\n            const response = await api.post('/api/save', {\r\n                html,\r\n                pageId: pageData.id // Có thể undefined nếu là page mới\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error in savePageData:', error);\r\n            throw error;\r\n        }\r\n    },\r\n    deployLandingPage: async (htmlContent) => {\r\n        try {\r\n            const response = await api.post('/api/deploy', { html: htmlContent });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error in deployLandingPage:', error);\r\n            throw error;\r\n        }\r\n    },\r\n    getPages: async () => {\r\n        try {\r\n            const response = await api.get('/api/pages');\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error in getPages:', error);\r\n            throw error;\r\n        }\r\n    },\r\n    getPageContent: async (pageId) => {\r\n        try {\r\n            const response = await api.get(`/api/pages/${pageId}/content`);\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error in getPageContent:', error);\r\n            throw error;\r\n        }\r\n    },\r\n    publishPage: async (pageId) => {\r\n        try {\r\n            const response = await api.post(`/api/pages/${pageId}/publish`);\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error in publishPage:', error);\r\n            throw error;\r\n        }\r\n    },\r\n    deletePage: async (pageId) => {\r\n        try {\r\n            const response = await api.delete(`/api/pages/${pageId}`);\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error in deletePage:', error);\r\n            throw error;\r\n        }\r\n    }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}