{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\Canvas.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useRef, useCallback, useState, useEffect } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { toast } from 'react-toastify';\nimport Guidelines from './Guidelines';\nimport Rulers from './Rulers';\nimport SelectionOverlay from './SelectionOverlay';\nimport '../../styles/Canvas.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\n// Debounce utility để giảm spam mousemove\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst debounce = (func, wait) => {\n  let timeout;\n  return (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), wait);\n  };\n};\nconst ItemTypes = {\n  ELEMENT: 'element'\n};\n\n// Utility functions\nconst getCanvasPosition = (mouseX, mouseY, canvasRef, zoomLevel = 100, canvasBounds) => {\n  if (!(canvasRef !== null && canvasRef !== void 0 && canvasRef.current)) {\n    console.warn('Canvas reference is not available');\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  const canvasRect = canvasRef.current.getBoundingClientRect();\n  const scale = zoomLevel / 100;\n  const x = (mouseX - canvasRect.left) / scale;\n  const y = (mouseY - canvasRect.top) / scale;\n\n  // Giới hạn tọa độ trong canvas\n  const clampedX = Math.max(0, Math.min(x, canvasBounds.width));\n  const clampedY = Math.max(0, Math.min(y, canvasBounds.height));\n  console.debug(`Mouse: (${mouseX}, ${mouseY}), Canvas: (${x}, ${y}), Clamped: (${clampedX}, ${clampedY}), Scale: ${scale}, Rect: (${canvasRect.left}, ${canvasRect.top})`);\n  return {\n    x: clampedX,\n    y: clampedY\n  };\n};\nconst snapToGrid = (x, y, gridSize = 10, snapPoints = [], scale = 1, enableSnapping = true) => {\n  if (!enableSnapping || !Number.isFinite(gridSize) || gridSize <= 0) {\n    console.debug(`Snapping disabled or invalid gridSize: ${gridSize}`);\n    return {\n      x,\n      y\n    };\n  }\n\n  // Snap vào lưới\n  let snappedX = Math.round(x / gridSize) * gridSize;\n  let snappedY = Math.round(y / gridSize) * gridSize;\n\n  // Threshold trên canvas = 8px trên màn hình / scale\n  const threshold = 8 / scale;\n\n  // Tìm snap point gần nhất\n  let minDistX = Infinity,\n    minDistY = Infinity;\n  let bestX = snappedX,\n    bestY = snappedY;\n  snapPoints.forEach(point => {\n    const distX = Math.abs(x - point.x);\n    const distY = Math.abs(y - point.y);\n    if (distX < threshold && distX < minDistX) {\n      minDistX = distX;\n      bestX = point.x;\n    }\n    if (distY < threshold && distY < minDistY) {\n      minDistY = distY;\n      bestY = point.y;\n    }\n  });\n  console.debug(`Input: (${x}, ${y}), Snapped: (${bestX}, ${bestY}), Threshold: ${threshold}`);\n  return {\n    x: bestX,\n    y: bestY\n  };\n};\nconst getElementBounds = element => {\n  var _element$position, _element$position$des, _element$position2, _element$position2$de, _element$position3, _element$position3$de, _element$size, _element$position4, _element$position4$de, _element$size2, _element$position5, _element$position5$de, _element$size3, _element$position6, _element$position6$de, _element$size4;\n  const bounds = {\n    left: ((_element$position = element.position) === null || _element$position === void 0 ? void 0 : (_element$position$des = _element$position.desktop) === null || _element$position$des === void 0 ? void 0 : _element$position$des.x) || 0,\n    top: ((_element$position2 = element.position) === null || _element$position2 === void 0 ? void 0 : (_element$position2$de = _element$position2.desktop) === null || _element$position2$de === void 0 ? void 0 : _element$position2$de.y) || 0,\n    right: (((_element$position3 = element.position) === null || _element$position3 === void 0 ? void 0 : (_element$position3$de = _element$position3.desktop) === null || _element$position3$de === void 0 ? void 0 : _element$position3$de.x) || 0) + (((_element$size = element.size) === null || _element$size === void 0 ? void 0 : _element$size.width) || 200),\n    bottom: (((_element$position4 = element.position) === null || _element$position4 === void 0 ? void 0 : (_element$position4$de = _element$position4.desktop) === null || _element$position4$de === void 0 ? void 0 : _element$position4$de.y) || 0) + (((_element$size2 = element.size) === null || _element$size2 === void 0 ? void 0 : _element$size2.height) || 50),\n    centerX: (((_element$position5 = element.position) === null || _element$position5 === void 0 ? void 0 : (_element$position5$de = _element$position5.desktop) === null || _element$position5$de === void 0 ? void 0 : _element$position5$de.x) || 0) + (((_element$size3 = element.size) === null || _element$size3 === void 0 ? void 0 : _element$size3.width) || 200) / 2,\n    centerY: (((_element$position6 = element.position) === null || _element$position6 === void 0 ? void 0 : (_element$position6$de = _element$position6.desktop) === null || _element$position6$de === void 0 ? void 0 : _element$position6$de.y) || 0) + (((_element$size4 = element.size) === null || _element$size4 === void 0 ? void 0 : _element$size4.height) || 50) / 2\n  };\n  console.debug(`Element ${element.id} bounds: `, bounds);\n  return bounds;\n};\n\n// Draggable Element Component\nconst DraggableElement = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c = _s(({\n  element,\n  isSelected,\n  onSelectElement,\n  onUpdatePosition,\n  viewMode,\n  zoomLevel,\n  gridSize,\n  onContextMenu,\n  canvasRef,\n  snapPoints,\n  enableSnapping = true,\n  canvasBounds\n}) => {\n  var _position$viewMode, _position$viewMode2;\n  _s();\n  const {\n    id,\n    type,\n    componentData = {},\n    position = {},\n    size = {\n      width: 200,\n      height: 50\n    },\n    styles = {}\n  } = element;\n  const elementRef = useRef(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({\n    x: 0,\n    y: 0,\n    offsetX: 0,\n    offsetY: 0\n  });\n  const scale = zoomLevel / 100;\n  const handleMouseDown = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const currentPos = position[viewMode] || {\n      x: 0,\n      y: 0\n    };\n    const mouseCanvasPos = getCanvasPosition(e.clientX, e.clientY, canvasRef, zoomLevel, canvasBounds);\n    setDragStart({\n      x: mouseCanvasPos.x,\n      y: mouseCanvasPos.y,\n      offsetX: mouseCanvasPos.x - currentPos.x,\n      offsetY: mouseCanvasPos.y - currentPos.y\n    });\n    console.debug(`Drag start for ${id}: MouseCanvas (${mouseCanvasPos.x}, ${mouseCanvasPos.y}), Offset (${mouseCanvasPos.x - currentPos.x}, ${mouseCanvasPos.y - currentPos.y})`);\n    setIsDragging(true);\n    onSelectElement(id, e.ctrlKey);\n    document.body.style.userSelect = 'none';\n  }, [position, viewMode, canvasRef, zoomLevel, onSelectElement, id, canvasBounds]);\n  const handleMouseMove = useCallback(debounce(e => {\n    if (!isDragging) return;\n    const mouseCanvasPos = getCanvasPosition(e.clientX, e.clientY, canvasRef, zoomLevel, canvasBounds);\n    const newPos = {\n      x: Math.max(0, mouseCanvasPos.x - dragStart.offsetX),\n      y: Math.max(0, mouseCanvasPos.y - dragStart.offsetY)\n    };\n    const snapped = snapToGrid(newPos.x, newPos.y, gridSize, snapPoints, scale, enableSnapping);\n\n    // Giới hạn vị trí trong canvas\n    const boundedX = Math.max(0, Math.min(snapped.x, canvasBounds.width - size.width));\n    const boundedY = Math.max(0, Math.min(snapped.y, canvasBounds.height - size.height));\n    onUpdatePosition(id, {\n      [viewMode]: {\n        x: boundedX,\n        y: boundedY\n      }\n    }, false);\n  }, 16),\n  // 16ms ~ 60fps\n  [isDragging, dragStart, canvasRef, zoomLevel, gridSize, snapPoints, onUpdatePosition, id, viewMode, scale, enableSnapping, canvasBounds, size]);\n  const handleMouseUp = useCallback(() => {\n    if (isDragging) {\n      setIsDragging(false);\n      const currentPos = position[viewMode] || {\n        x: 0,\n        y: 0\n      };\n      onUpdatePosition(id, {\n        [viewMode]: currentPos\n      }, true);\n      document.body.style.userSelect = '';\n      console.debug(`Drag end for ${id}: Final position (${currentPos.x}, ${currentPos.y})`);\n    }\n  }, [isDragging, position, viewMode, onUpdatePosition, id]);\n  useEffect(() => {\n    if (isDragging) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging, handleMouseMove, handleMouseUp]);\n  const handleContextMenu = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const menuWidth = 120;\n    const menuHeight = 100;\n    const adjustedX = Math.min(e.clientX, viewportWidth - menuWidth);\n    const adjustedY = Math.min(e.clientY, viewportHeight - menuHeight);\n    onContextMenu(id, {\n      x: adjustedX,\n      y: adjustedY\n    });\n  }, [onContextMenu, id]);\n  const renderContent = () => {\n    switch (type) {\n      case 'heading':\n        return /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: componentData.fontSize || '1.5rem',\n            color: componentData.color || '#1f2937',\n            margin: 0,\n            userSelect: 'none',\n            pointerEvents: 'none'\n          },\n          children: componentData.content || 'Tiêu đề'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this);\n      case 'paragraph':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: componentData.fontSize || '1rem',\n            color: componentData.color || '#1f2937',\n            margin: 0,\n            userSelect: 'none',\n            pointerEvents: 'none'\n          },\n          children: componentData.content || 'Đoạn văn'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this);\n      case 'button':\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '8px 16px',\n            borderRadius: '8px',\n            background: componentData.background || '#2563eb',\n            color: componentData.color || '#fff',\n            border: 'none',\n            cursor: 'pointer',\n            userSelect: 'none',\n            pointerEvents: 'none'\n          },\n          children: componentData.content || 'Nút'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: componentData.src || '/placeholder.png' // Local asset để tránh ERR_NAME_NOT_RESOLVED\n          ,\n          alt: \"Image\",\n          style: {\n            maxWidth: '100%',\n            height: 'auto',\n            userSelect: 'none',\n            pointerEvents: 'none'\n          },\n          onError: () => console.error(`Failed to load image for ${id}`),\n          draggable: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this);\n      case 'form':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '10px',\n            userSelect: 'none',\n            pointerEvents: 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Input\",\n            style: {\n              padding: '8px',\n              borderRadius: '8px',\n              border: '1px solid #ccc'\n            },\n            readOnly: true,\n            tabIndex: -1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            style: {\n              background: '#2563eb',\n              color: '#fff',\n              padding: '8px 16px',\n              borderRadius: '8px',\n              border: 'none'\n            },\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            userSelect: 'none'\n          },\n          children: componentData.content || 'Unknown'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: elementRef,\n    className: `lpb-canvas-element ${isSelected ? 'lpb-canvas-element-selected' : ''} ${isDragging ? 'lpb-canvas-element-dragging' : ''}`,\n    style: {\n      position: 'absolute',\n      left: ((_position$viewMode = position[viewMode]) === null || _position$viewMode === void 0 ? void 0 : _position$viewMode.x) || 0,\n      top: ((_position$viewMode2 = position[viewMode]) === null || _position$viewMode2 === void 0 ? void 0 : _position$viewMode2.y) || 0,\n      width: size.width,\n      height: size.height,\n      zIndex: isDragging ? 1000 : position.z || 1,\n      cursor: isDragging ? 'grabbing' : 'grab',\n      opacity: isDragging ? 0.8 : 1,\n      border: isSelected ? '2px solid #3b82f6' : '1px solid transparent',\n      boxSizing: 'border-box',\n      ...styles\n    },\n    onMouseDown: handleMouseDown,\n    onContextMenu: handleContextMenu,\n    children: renderContent()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 9\n  }, this);\n}, \"SpAyLwreDJA2klxv6CHCoc3n8fc=\")), \"SpAyLwreDJA2klxv6CHCoc3n8fc=\");\n\n// Main Canvas Component\n_c2 = DraggableElement;\nconst Canvas = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c3 = _s2(({\n  pageData,\n  selectedIds,\n  onSelectElement,\n  onUpdatePosition,\n  onUpdateSize,\n  onDeleteElement,\n  onAddElement,\n  onGroupElements,\n  viewMode,\n  zoomLevel,\n  gridSize = 10,\n  showGrid,\n  enableSnapping = true\n}) => {\n  var _pageData$canvas, _pageData$canvas2, _pageData$canvas3, _pageData$elements, _pageData$elements2;\n  _s2();\n  const canvasRef = useRef(null);\n  const [guidelines, setGuidelines] = useState([]);\n  const [contextMenu, setContextMenu] = useState(null);\n  const scale = zoomLevel / 100;\n  const canvasBounds = {\n    width: (pageData === null || pageData === void 0 ? void 0 : (_pageData$canvas = pageData.canvas) === null || _pageData$canvas === void 0 ? void 0 : _pageData$canvas.width) || (console.warn('Using default canvas width'), 1200),\n    height: (pageData === null || pageData === void 0 ? void 0 : (_pageData$canvas2 = pageData.canvas) === null || _pageData$canvas2 === void 0 ? void 0 : _pageData$canvas2.height) || (console.warn('Using default canvas height'), 1000)\n  };\n  const snapPoints = React.useMemo(() => {\n    if (!(pageData !== null && pageData !== void 0 && pageData.elements)) return [];\n    const points = pageData.elements.map(el => {\n      const bounds = getElementBounds(el);\n      return [{\n        x: bounds.left,\n        y: bounds.top\n      }, {\n        x: bounds.right,\n        y: bounds.bottom\n      }, {\n        x: bounds.centerX,\n        y: bounds.centerY\n      }, {\n        x: bounds.left,\n        y: bounds.centerY\n      }, {\n        x: bounds.right,\n        y: bounds.centerY\n      }, {\n        x: bounds.centerX,\n        y: bounds.top\n      }, {\n        x: bounds.centerX,\n        y: bounds.bottom\n      }];\n    }).flat();\n    points.push({\n      x: 0,\n      y: 0\n    }, {\n      x: canvasBounds.width,\n      y: 0\n    }, {\n      x: 0,\n      y: canvasBounds.height\n    }, {\n      x: canvasBounds.width,\n      y: canvasBounds.height\n    }, {\n      x: canvasBounds.width / 2,\n      y: canvasBounds.height / 2\n    });\n    console.debug('Snap points generated:', points);\n    return points;\n  }, [pageData === null || pageData === void 0 ? void 0 : pageData.elements, canvasBounds]);\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: [ItemTypes.ELEMENT],\n    hover: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      if (!clientOffset || !canvasRef.current) return;\n      const pos = getCanvasPosition(clientOffset.x, clientOffset.y, canvasRef, zoomLevel, canvasBounds);\n      const snapped = snapToGrid(pos.x, pos.y, showGrid ? gridSize : Infinity, snapPoints, scale, enableSnapping);\n      const guidelineThreshold = 2 / scale;\n      const newGuidelines = [];\n      snapPoints.forEach(point => {\n        if (Math.abs(snapped.x - point.x) < guidelineThreshold) {\n          newGuidelines.push({\n            vertical: true,\n            position: point.x\n          });\n        }\n        if (Math.abs(snapped.y - point.y) < guidelineThreshold) {\n          newGuidelines.push({\n            vertical: false,\n            position: point.y\n          });\n        }\n      });\n      setGuidelines(newGuidelines);\n    },\n    drop: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      if (!clientOffset || !canvasRef.current || !item.json) {\n        toast.error('Không thể thêm phần tử!');\n        return;\n      }\n      const pos = getCanvasPosition(clientOffset.x, clientOffset.y, canvasRef, zoomLevel, canvasBounds);\n      const snapped = snapToGrid(pos.x, pos.y, showGrid ? gridSize : Infinity, snapPoints, scale, enableSnapping);\n      const newElement = {\n        id: `${item.id}-${Date.now()}`,\n        type: item.json.type,\n        componentData: item.json.componentData || {},\n        position: {\n          [viewMode]: snapped,\n          desktop: snapped,\n          tablet: snapped,\n          mobile: snapped\n        },\n        size: item.json.size || {\n          width: 200,\n          height: 50\n        },\n        styles: item.json.styles || {}\n      };\n      onAddElement(newElement);\n      setGuidelines([]);\n      toast.success('Đã thêm phần tử!');\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }), [canvasRef, zoomLevel, gridSize, showGrid, snapPoints, viewMode, onAddElement, scale, enableSnapping, canvasBounds]);\n  const handleCanvasClick = useCallback(e => {\n    if (e.target === canvasRef.current) {\n      onSelectElement([]);\n      setContextMenu(null);\n    }\n  }, [onSelectElement]);\n  const handleContextMenu = useCallback((id, position) => {\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const menuWidth = 120;\n    const menuHeight = 100;\n    const adjustedX = Math.min(position.x, viewportWidth - menuWidth);\n    const adjustedY = Math.min(position.y, viewportHeight - menuHeight);\n    setContextMenu({\n      id,\n      position: {\n        x: adjustedX,\n        y: adjustedY\n      }\n    });\n  }, []);\n  const handleKeyDown = useCallback(e => {\n    if (!selectedIds.length) return;\n    const nudgeDistance = e.shiftKey ? 10 : 1;\n    switch (e.key) {\n      case 'ArrowUp':\n        e.preventDefault();\n        selectedIds.forEach(id => {\n          const element = pageData.elements.find(el => el.id === id);\n          if (element) {\n            const currentPos = element.position[viewMode] || {\n              x: 0,\n              y: 0\n            };\n            onUpdatePosition(id, {\n              [viewMode]: {\n                x: currentPos.x,\n                y: Math.max(0, currentPos.y - nudgeDistance)\n              }\n            }, true);\n          }\n        });\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        selectedIds.forEach(id => {\n          const element = pageData.elements.find(el => el.id === id);\n          if (element) {\n            const currentPos = element.position[viewMode] || {\n              x: 0,\n              y: 0\n            };\n            onUpdatePosition(id, {\n              [viewMode]: {\n                x: currentPos.x,\n                y: Math.min(canvasBounds.height - element.size.height, currentPos.y + nudgeDistance)\n              }\n            }, true);\n          }\n        });\n        break;\n      case 'ArrowLeft':\n        e.preventDefault();\n        selectedIds.forEach(id => {\n          const element = pageData.elements.find(el => el.id === id);\n          if (element) {\n            const currentPos = element.position[viewMode] || {\n              x: 0,\n              y: 0\n            };\n            onUpdatePosition(id, {\n              [viewMode]: {\n                x: Math.max(0, currentPos.x - nudgeDistance),\n                y: currentPos.y\n              }\n            }, true);\n          }\n        });\n        break;\n      case 'ArrowRight':\n        e.preventDefault();\n        selectedIds.forEach(id => {\n          const element = pageData.elements.find(el => el.id === id);\n          if (element) {\n            const currentPos = element.position[viewMode] || {\n              x: 0,\n              y: 0\n            };\n            onUpdatePosition(id, {\n              [viewMode]: {\n                x: Math.min(canvasBounds.width - element.size.width, currentPos.x + nudgeDistance),\n                y: currentPos.y\n              }\n            }, true);\n          }\n        });\n        break;\n      case 'Delete':\n      case 'Backspace':\n        e.preventDefault();\n        selectedIds.forEach(id => onDeleteElement(id));\n        break;\n      case 'Escape':\n        e.preventDefault();\n        onSelectElement([]);\n        setContextMenu(null);\n        break;\n      default:\n        break;\n    }\n  }, [selectedIds, viewMode, pageData, onUpdatePosition, onDeleteElement, onSelectElement, canvasBounds]);\n  useHotkeys('ctrl+a', e => {\n    e.preventDefault();\n    if (pageData !== null && pageData !== void 0 && pageData.elements) {\n      onSelectElement(pageData.elements.map(el => el.id));\n    }\n  }, [pageData === null || pageData === void 0 ? void 0 : pageData.elements, onSelectElement]);\n  useHotkeys('ctrl+g', e => {\n    e.preventDefault();\n    if (selectedIds.length > 1) {\n      onGroupElements(selectedIds);\n    }\n  }, [selectedIds, onGroupElements]);\n  useHotkeys('delete,backspace,esc,up,down,left,right', handleKeyDown, [selectedIds, viewMode, pageData, onUpdatePosition, onDeleteElement, onSelectElement, canvasBounds]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lpb-canvas-wrapper\",\n    style: {\n      outline: 'none',\n      position: 'relative',\n      overflow: 'visible'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: node => {\n        canvasRef.current = node;\n        drop(node);\n      },\n      className: `lpb-canvas ${viewMode === 'mobile' ? 'lpb-canvas-mobile' : viewMode === 'tablet' ? 'lpb-canvas-tablet' : ''}`,\n      style: {\n        position: 'relative',\n        width: canvasBounds.width,\n        height: canvasBounds.height,\n        minHeight: '100vh',\n        background: (pageData === null || pageData === void 0 ? void 0 : (_pageData$canvas3 = pageData.canvas) === null || _pageData$canvas3 === void 0 ? void 0 : _pageData$canvas3.background) || '#ffffff',\n        transform: `scale(${scale})`,\n        transformOrigin: 'top left',\n        cursor: isOver ? 'copy' : 'default',\n        boxShadow: '0 0 0 1px #e5e7eb'\n      },\n      onClick: handleCanvasClick,\n      children: [/*#__PURE__*/_jsxDEV(Rulers, {\n        canvasWidth: canvasBounds.width,\n        canvasHeight: canvasBounds.height,\n        zoomLevel: zoomLevel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Guidelines, {\n        guidelines: guidelines,\n        zoomLevel: zoomLevel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 17\n      }, this), showGrid && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lpb-canvas-grid\",\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundImage: `\nlinear-gradient(to right, #e5e7eb 1px, transparent 1px),\nlinear-gradient(to bottom, #e5e7eb 1px, transparent 1px)\n`,\n          backgroundSize: `${gridSize}px ${gridSize}px`,\n          pointerEvents: 'none',\n          opacity: 0.5\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 21\n      }, this), pageData === null || pageData === void 0 ? void 0 : (_pageData$elements = pageData.elements) === null || _pageData$elements === void 0 ? void 0 : _pageData$elements.map(element => /*#__PURE__*/_jsxDEV(DraggableElement, {\n        element: element,\n        isSelected: selectedIds.includes(element.id),\n        onSelectElement: onSelectElement,\n        onUpdatePosition: onUpdatePosition,\n        viewMode: viewMode,\n        zoomLevel: zoomLevel,\n        gridSize: showGrid ? gridSize : Infinity,\n        onContextMenu: handleContextMenu,\n        canvasRef: canvasRef,\n        snapPoints: snapPoints,\n        enableSnapping: enableSnapping,\n        canvasBounds: canvasBounds\n      }, element.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(SelectionOverlay, {\n        selectedElements: (pageData === null || pageData === void 0 ? void 0 : (_pageData$elements2 = pageData.elements) === null || _pageData$elements2 === void 0 ? void 0 : _pageData$elements2.filter(el => selectedIds.includes(el.id))) || [],\n        onResize: onUpdateSize,\n        zoomLevel: zoomLevel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 17\n      }, this), contextMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lpb-context-menu\",\n        style: {\n          position: 'fixed',\n          left: contextMenu.position.x,\n          top: contextMenu.position.y,\n          background: 'white',\n          border: '1px solid #d1d5db',\n          borderRadius: '6px',\n          boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)',\n          zIndex: 10000,\n          minWidth: '120px'\n        },\n        onClick: () => setContextMenu(null),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lpb-context-menu-item\",\n          style: {\n            padding: '8px 12px',\n            cursor: 'pointer',\n            borderBottom: '1px solid #f3f4f6',\n            fontSize: '14px'\n          },\n          onClick: () => {\n            onDeleteElement(contextMenu.id);\n            setContextMenu(null);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-trash\",\n            style: {\n              marginRight: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 29\n          }, this), \"X\\xF3a\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lpb-context-menu-item\",\n          style: {\n            padding: '8px 12px',\n            cursor: 'pointer',\n            fontSize: '14px'\n          },\n          onClick: () => {\n            const element = pageData.elements.find(el => el.id === contextMenu.id);\n            if (element) {\n              var _element$position$vie, _element$position$vie2;\n              const duplicated = {\n                ...element,\n                id: `${element.id}-copy-${Date.now()}`,\n                position: {\n                  ...element.position,\n                  [viewMode]: {\n                    x: Math.min(canvasBounds.width - element.size.width, (((_element$position$vie = element.position[viewMode]) === null || _element$position$vie === void 0 ? void 0 : _element$position$vie.x) || 0) + 20),\n                    y: Math.min(canvasBounds.height - element.size.height, (((_element$position$vie2 = element.position[viewMode]) === null || _element$position$vie2 === void 0 ? void 0 : _element$position$vie2.y) || 0) + 20)\n                  }\n                }\n              };\n              onAddElement(duplicated);\n            }\n            setContextMenu(null);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-copy\",\n            style: {\n              marginRight: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 29\n          }, this), \"Sao ch\\xE9p\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 540,\n    columnNumber: 9\n  }, this);\n}, \"t82NIBQfK8rpfXs0eyStjmFPvFs=\", false, function () {\n  return [useDrop, useHotkeys, useHotkeys, useHotkeys];\n})), \"t82NIBQfK8rpfXs0eyStjmFPvFs=\", false, function () {\n  return [useDrop, useHotkeys, useHotkeys, useHotkeys];\n});\n_c4 = Canvas;\nexport default Canvas;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"DraggableElement$React.memo\");\n$RefreshReg$(_c2, \"DraggableElement\");\n$RefreshReg$(_c3, \"Canvas$React.memo\");\n$RefreshReg$(_c4, \"Canvas\");","map":{"version":3,"names":["React","useRef","useCallback","useState","useEffect","useDrop","useHotkeys","toast","Guidelines","Rulers","SelectionOverlay","jsxDEV","_jsxDEV","debounce","func","wait","timeout","args","clearTimeout","setTimeout","ItemTypes","ELEMENT","getCanvasPosition","mouseX","mouseY","canvasRef","zoomLevel","canvasBounds","current","console","warn","x","y","canvasRect","getBoundingClientRect","scale","left","top","clampedX","Math","max","min","width","clampedY","height","debug","snapToGrid","gridSize","snapPoints","enableSnapping","Number","isFinite","snappedX","round","snappedY","threshold","minDistX","Infinity","minDistY","bestX","bestY","forEach","point","distX","abs","distY","getElementBounds","element","_element$position","_element$position$des","_element$position2","_element$position2$de","_element$position3","_element$position3$de","_element$size","_element$position4","_element$position4$de","_element$size2","_element$position5","_element$position5$de","_element$size3","_element$position6","_element$position6$de","_element$size4","bounds","position","desktop","right","size","bottom","centerX","centerY","id","DraggableElement","_s","memo","_c","isSelected","onSelectElement","onUpdatePosition","viewMode","onContextMenu","_position$viewMode","_position$viewMode2","type","componentData","styles","elementRef","isDragging","setIsDragging","dragStart","setDragStart","offsetX","offsetY","handleMouseDown","e","preventDefault","stopPropagation","currentPos","mouseCanvasPos","clientX","clientY","ctrlKey","document","body","style","userSelect","handleMouseMove","newPos","snapped","boundedX","boundedY","handleMouseUp","addEventListener","removeEventListener","handleContextMenu","viewportWidth","window","innerWidth","viewportHeight","innerHeight","menuWidth","menuHeight","adjustedX","adjustedY","renderContent","fontSize","color","margin","pointerEvents","children","content","fileName","_jsxFileName","lineNumber","columnNumber","padding","borderRadius","background","border","cursor","src","alt","maxWidth","onError","error","draggable","display","flexDirection","gap","placeholder","readOnly","tabIndex","ref","className","zIndex","z","opacity","boxSizing","onMouseDown","_c2","Canvas","_s2","_c3","pageData","selectedIds","onUpdateSize","onDeleteElement","onAddElement","onGroupElements","showGrid","_pageData$canvas","_pageData$canvas2","_pageData$canvas3","_pageData$elements","_pageData$elements2","guidelines","setGuidelines","contextMenu","setContextMenu","canvas","useMemo","elements","points","map","el","flat","push","isOver","drop","accept","hover","item","monitor","clientOffset","getClientOffset","pos","guidelineThreshold","newGuidelines","vertical","json","newElement","Date","now","tablet","mobile","success","collect","handleCanvasClick","target","handleKeyDown","length","nudgeDistance","shiftKey","key","find","outline","overflow","node","minHeight","transform","transformOrigin","boxShadow","onClick","canvasWidth","canvasHeight","backgroundImage","backgroundSize","includes","selectedElements","filter","onResize","minWidth","borderBottom","marginRight","_element$position$vie","_element$position$vie2","duplicated","_c4","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/Canvas.js"],"sourcesContent":["\r\nimport React, { useRef, useCallback, useState, useEffect } from 'react';\r\nimport { useDrop } from 'react-dnd';\r\nimport { useHotkeys } from 'react-hotkeys-hook';\r\nimport { toast } from 'react-toastify';\r\nimport Guidelines from './Guidelines';\r\nimport Rulers from './Rulers';\r\nimport SelectionOverlay from './SelectionOverlay';\r\nimport '../../styles/Canvas.css';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\n\r\n// Debounce utility để giảm spam mousemove\r\nconst debounce = (func, wait) => {\r\n    let timeout;\r\n    return (...args) => {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => func(...args), wait);\r\n    };\r\n};\r\n\r\nconst ItemTypes = {\r\n    ELEMENT: 'element',\r\n};\r\n\r\n// Utility functions\r\nconst getCanvasPosition = (mouseX, mouseY, canvasRef, zoomLevel = 100, canvasBounds) => {\r\n    if (!canvasRef?.current) {\r\n        console.warn('Canvas reference is not available');\r\n        return { x: 0, y: 0 };\r\n    }\r\n\r\n    const canvasRect = canvasRef.current.getBoundingClientRect();\r\n    const scale = zoomLevel / 100;\r\n    const x = (mouseX - canvasRect.left) / scale;\r\n    const y = (mouseY - canvasRect.top) / scale;\r\n\r\n    // Giới hạn tọa độ trong canvas\r\n    const clampedX = Math.max(0, Math.min(x, canvasBounds.width));\r\n    const clampedY = Math.max(0, Math.min(y, canvasBounds.height));\r\n\r\n    console.debug(`Mouse: (${mouseX}, ${mouseY}), Canvas: (${x}, ${y}), Clamped: (${clampedX}, ${clampedY}), Scale: ${scale}, Rect: (${canvasRect.left}, ${canvasRect.top})`);\r\n\r\n    return { x: clampedX, y: clampedY };\r\n};\r\n\r\nconst snapToGrid = (x, y, gridSize = 10, snapPoints = [], scale = 1, enableSnapping = true) => {\r\n    if (!enableSnapping || !Number.isFinite(gridSize) || gridSize <= 0) {\r\n        console.debug(`Snapping disabled or invalid gridSize: ${gridSize}`);\r\n        return { x, y };\r\n    }\r\n\r\n    // Snap vào lưới\r\n    let snappedX = Math.round(x / gridSize) * gridSize;\r\n    let snappedY = Math.round(y / gridSize) * gridSize;\r\n\r\n    // Threshold trên canvas = 8px trên màn hình / scale\r\n    const threshold = 8 / scale;\r\n\r\n    // Tìm snap point gần nhất\r\n    let minDistX = Infinity, minDistY = Infinity;\r\n    let bestX = snappedX, bestY = snappedY;\r\n\r\n    snapPoints.forEach((point) => {\r\n        const distX = Math.abs(x - point.x);\r\n        const distY = Math.abs(y - point.y);\r\n        if (distX < threshold && distX < minDistX) {\r\n            minDistX = distX;\r\n            bestX = point.x;\r\n        }\r\n        if (distY < threshold && distY < minDistY) {\r\n            minDistY = distY;\r\n            bestY = point.y;\r\n        }\r\n    });\r\n\r\n    console.debug(`Input: (${x}, ${y}), Snapped: (${bestX}, ${bestY}), Threshold: ${threshold}`);\r\n    return { x: bestX, y: bestY };\r\n};\r\n\r\nconst getElementBounds = (element) => {\r\n    const bounds = {\r\n        left: element.position?.desktop?.x || 0,\r\n        top: element.position?.desktop?.y || 0,\r\n        right: (element.position?.desktop?.x || 0) + (element.size?.width || 200),\r\n        bottom: (element.position?.desktop?.y || 0) + (element.size?.height || 50),\r\n        centerX: (element.position?.desktop?.x || 0) + (element.size?.width || 200) / 2,\r\n        centerY: (element.position?.desktop?.y || 0) + (element.size?.height || 50) / 2,\r\n    };\r\n    console.debug(`Element ${element.id} bounds: `, bounds);\r\n    return bounds;\r\n};\r\n\r\n// Draggable Element Component\r\nconst DraggableElement = React.memo(({\r\n    element,\r\n    isSelected,\r\n    onSelectElement,\r\n    onUpdatePosition,\r\n    viewMode,\r\n    zoomLevel,\r\n    gridSize,\r\n    onContextMenu,\r\n    canvasRef,\r\n    snapPoints,\r\n    enableSnapping = true,\r\n    canvasBounds,\r\n}) => {\r\n    const { id, type, componentData = {}, position = {}, size = { width: 200, height: 50 }, styles = {} } = element;\r\n    const elementRef = useRef(null);\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [dragStart, setDragStart] = useState({ x: 0, y: 0, offsetX: 0, offsetY: 0 });\r\n\r\n    const scale = zoomLevel / 100;\r\n\r\n    const handleMouseDown = useCallback((e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const currentPos = position[viewMode] || { x: 0, y: 0 };\r\n        const mouseCanvasPos = getCanvasPosition(e.clientX, e.clientY, canvasRef, zoomLevel, canvasBounds);\r\n\r\n        setDragStart({\r\n            x: mouseCanvasPos.x,\r\n            y: mouseCanvasPos.y,\r\n            offsetX: mouseCanvasPos.x - currentPos.x,\r\n            offsetY: mouseCanvasPos.y - currentPos.y,\r\n        });\r\n\r\n        console.debug(`Drag start for ${id}: MouseCanvas (${mouseCanvasPos.x}, ${mouseCanvasPos.y}), Offset (${mouseCanvasPos.x - currentPos.x}, ${mouseCanvasPos.y - currentPos.y})`);\r\n\r\n        setIsDragging(true);\r\n        onSelectElement(id, e.ctrlKey);\r\n        document.body.style.userSelect = 'none';\r\n    }, [position, viewMode, canvasRef, zoomLevel, onSelectElement, id, canvasBounds]);\r\n\r\n    const handleMouseMove = useCallback(\r\n        debounce((e) => {\r\n            if (!isDragging) return;\r\n\r\n            const mouseCanvasPos = getCanvasPosition(e.clientX, e.clientY, canvasRef, zoomLevel, canvasBounds);\r\n            const newPos = {\r\n                x: Math.max(0, mouseCanvasPos.x - dragStart.offsetX),\r\n                y: Math.max(0, mouseCanvasPos.y - dragStart.offsetY),\r\n            };\r\n\r\n            const snapped = snapToGrid(newPos.x, newPos.y, gridSize, snapPoints, scale, enableSnapping);\r\n\r\n            // Giới hạn vị trí trong canvas\r\n            const boundedX = Math.max(0, Math.min(snapped.x, canvasBounds.width - size.width));\r\n            const boundedY = Math.max(0, Math.min(snapped.y, canvasBounds.height - size.height));\r\n\r\n            onUpdatePosition(id, { [viewMode]: { x: boundedX, y: boundedY } }, false);\r\n        }, 16), // 16ms ~ 60fps\r\n        [isDragging, dragStart, canvasRef, zoomLevel, gridSize, snapPoints, onUpdatePosition, id, viewMode, scale, enableSnapping, canvasBounds, size]\r\n    );\r\n\r\n    const handleMouseUp = useCallback(() => {\r\n        if (isDragging) {\r\n            setIsDragging(false);\r\n            const currentPos = position[viewMode] || { x: 0, y: 0 };\r\n            onUpdatePosition(id, { [viewMode]: currentPos }, true);\r\n            document.body.style.userSelect = '';\r\n            console.debug(`Drag end for ${id}: Final position (${currentPos.x}, ${currentPos.y})`);\r\n        }\r\n    }, [isDragging, position, viewMode, onUpdatePosition, id]);\r\n\r\n    useEffect(() => {\r\n        if (isDragging) {\r\n            document.addEventListener('mousemove', handleMouseMove);\r\n            document.addEventListener('mouseup', handleMouseUp);\r\n        }\r\n        return () => {\r\n            document.removeEventListener('mousemove', handleMouseMove);\r\n            document.removeEventListener('mouseup', handleMouseUp);\r\n        };\r\n    }, [isDragging, handleMouseMove, handleMouseUp]);\r\n\r\n    const handleContextMenu = useCallback((e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const viewportWidth = window.innerWidth;\r\n        const viewportHeight = window.innerHeight;\r\n        const menuWidth = 120;\r\n        const menuHeight = 100;\r\n        const adjustedX = Math.min(e.clientX, viewportWidth - menuWidth);\r\n        const adjustedY = Math.min(e.clientY, viewportHeight - menuHeight);\r\n        onContextMenu(id, { x: adjustedX, y: adjustedY });\r\n    }, [onContextMenu, id]);\r\n\r\n    const renderContent = () => {\r\n        switch (type) {\r\n            case 'heading':\r\n                return (\r\n                    <h2 style={{\r\n                        fontSize: componentData.fontSize || '1.5rem',\r\n                        color: componentData.color || '#1f2937',\r\n                        margin: 0,\r\n                        userSelect: 'none',\r\n                        pointerEvents: 'none',\r\n                    }}>\r\n                        {componentData.content || 'Tiêu đề'}\r\n                    </h2>\r\n                );\r\n            case 'paragraph':\r\n                return (\r\n                    <p style={{\r\n                        fontSize: componentData.fontSize || '1rem',\r\n                        color: componentData.color || '#1f2937',\r\n                        margin: 0,\r\n                        userSelect: 'none',\r\n                        pointerEvents: 'none',\r\n                    }}>\r\n                        {componentData.content || 'Đoạn văn'}\r\n                    </p>\r\n                );\r\n            case 'button':\r\n                return (\r\n                    <button style={{\r\n                        padding: '8px 16px',\r\n                        borderRadius: '8px',\r\n                        background: componentData.background || '#2563eb',\r\n                        color: componentData.color || '#fff',\r\n                        border: 'none',\r\n                        cursor: 'pointer',\r\n                        userSelect: 'none',\r\n                        pointerEvents: 'none',\r\n                    }}>\r\n                        {componentData.content || 'Nút'}\r\n                    </button>\r\n                );\r\n            case 'image':\r\n                return (\r\n                    <img\r\n                        src={componentData.src || '/placeholder.png'} // Local asset để tránh ERR_NAME_NOT_RESOLVED\r\n                        alt=\"Image\"\r\n                        style={{\r\n                            maxWidth: '100%',\r\n                            height: 'auto',\r\n                            userSelect: 'none',\r\n                            pointerEvents: 'none',\r\n                        }}\r\n                        onError={() => console.error(`Failed to load image for ${id}`)}\r\n                        draggable={false}\r\n                    />\r\n                );\r\n            case 'form':\r\n                return (\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        gap: '10px',\r\n                        userSelect: 'none',\r\n                        pointerEvents: 'none',\r\n                    }}>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Input\"\r\n                            style={{ padding: '8px', borderRadius: '8px', border: '1px solid #ccc' }}\r\n                            readOnly\r\n                            tabIndex={-1}\r\n                        />\r\n                        <button\r\n                            type=\"button\"\r\n                            style={{\r\n                                background: '#2563eb',\r\n                                color: '#fff',\r\n                                padding: '8px 16px',\r\n                                borderRadius: '8px',\r\n                                border: 'none',\r\n                            }}\r\n                        >\r\n                            Submit\r\n                        </button>\r\n                    </div>\r\n                );\r\n            default:\r\n                return <div style={{ userSelect: 'none' }}>{componentData.content || 'Unknown'}</div>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            ref={elementRef}\r\n            className={`lpb-canvas-element ${isSelected ? 'lpb-canvas-element-selected' : ''} ${isDragging ? 'lpb-canvas-element-dragging' : ''}`}\r\n            style={{\r\n                position: 'absolute',\r\n                left: position[viewMode]?.x || 0,\r\n                top: position[viewMode]?.y || 0,\r\n                width: size.width,\r\n                height: size.height,\r\n                zIndex: isDragging ? 1000 : (position.z || 1),\r\n                cursor: isDragging ? 'grabbing' : 'grab',\r\n                opacity: isDragging ? 0.8 : 1,\r\n                border: isSelected ? '2px solid #3b82f6' : '1px solid transparent',\r\n                boxSizing: 'border-box',\r\n                ...styles,\r\n            }}\r\n            onMouseDown={handleMouseDown}\r\n            onContextMenu={handleContextMenu}\r\n        >\r\n            {renderContent()}\r\n        </div>\r\n    );\r\n});\r\n\r\n// Main Canvas Component\r\nconst Canvas = React.memo(({\r\n    pageData,\r\n    selectedIds,\r\n    onSelectElement,\r\n    onUpdatePosition,\r\n    onUpdateSize,\r\n    onDeleteElement,\r\n    onAddElement,\r\n    onGroupElements,\r\n    viewMode,\r\n    zoomLevel,\r\n    gridSize = 10,\r\n    showGrid,\r\n    enableSnapping = true,\r\n}) => {\r\n    const canvasRef = useRef(null);\r\n    const [guidelines, setGuidelines] = useState([]);\r\n    const [contextMenu, setContextMenu] = useState(null);\r\n\r\n    const scale = zoomLevel / 100;\r\n\r\n    const canvasBounds = {\r\n        width: pageData?.canvas?.width || (console.warn('Using default canvas width'), 1200),\r\n        height: pageData?.canvas?.height || (console.warn('Using default canvas height'), 1000),\r\n    };\r\n\r\n    const snapPoints = React.useMemo(() => {\r\n        if (!pageData?.elements) return [];\r\n\r\n        const points = pageData.elements.map(el => {\r\n            const bounds = getElementBounds(el);\r\n            return [\r\n                { x: bounds.left, y: bounds.top },\r\n                { x: bounds.right, y: bounds.bottom },\r\n                { x: bounds.centerX, y: bounds.centerY },\r\n                { x: bounds.left, y: bounds.centerY },\r\n                { x: bounds.right, y: bounds.centerY },\r\n                { x: bounds.centerX, y: bounds.top },\r\n                { x: bounds.centerX, y: bounds.bottom },\r\n            ];\r\n        }).flat();\r\n\r\n        points.push(\r\n            { x: 0, y: 0 },\r\n            { x: canvasBounds.width, y: 0 },\r\n            { x: 0, y: canvasBounds.height },\r\n            { x: canvasBounds.width, y: canvasBounds.height },\r\n            { x: canvasBounds.width / 2, y: canvasBounds.height / 2 },\r\n        );\r\n\r\n        console.debug('Snap points generated:', points);\r\n        return points;\r\n    }, [pageData?.elements, canvasBounds]);\r\n\r\n    const [{ isOver }, drop] = useDrop(() => ({\r\n        accept: [ItemTypes.ELEMENT],\r\n        hover: (item, monitor) => {\r\n            const clientOffset = monitor.getClientOffset();\r\n            if (!clientOffset || !canvasRef.current) return;\r\n\r\n            const pos = getCanvasPosition(clientOffset.x, clientOffset.y, canvasRef, zoomLevel, canvasBounds);\r\n            const snapped = snapToGrid(pos.x, pos.y, showGrid ? gridSize : Infinity, snapPoints, scale, enableSnapping);\r\n\r\n            const guidelineThreshold = 2 / scale;\r\n\r\n            const newGuidelines = [];\r\n            snapPoints.forEach(point => {\r\n                if (Math.abs(snapped.x - point.x) < guidelineThreshold) {\r\n                    newGuidelines.push({ vertical: true, position: point.x });\r\n                }\r\n                if (Math.abs(snapped.y - point.y) < guidelineThreshold) {\r\n                    newGuidelines.push({ vertical: false, position: point.y });\r\n                }\r\n            });\r\n\r\n            setGuidelines(newGuidelines);\r\n        },\r\n        drop: (item, monitor) => {\r\n            const clientOffset = monitor.getClientOffset();\r\n            if (!clientOffset || !canvasRef.current || !item.json) {\r\n                toast.error('Không thể thêm phần tử!');\r\n                return;\r\n            }\r\n\r\n            const pos = getCanvasPosition(clientOffset.x, clientOffset.y, canvasRef, zoomLevel, canvasBounds);\r\n            const snapped = snapToGrid(pos.x, pos.y, showGrid ? gridSize : Infinity, snapPoints, scale, enableSnapping);\r\n\r\n            const newElement = {\r\n                id: `${item.id}-${Date.now()}`,\r\n                type: item.json.type,\r\n                componentData: item.json.componentData || {},\r\n                position: {\r\n                    [viewMode]: snapped,\r\n                    desktop: snapped,\r\n                    tablet: snapped,\r\n                    mobile: snapped,\r\n                },\r\n                size: item.json.size || { width: 200, height: 50 },\r\n                styles: item.json.styles || {},\r\n            };\r\n\r\n            onAddElement(newElement);\r\n            setGuidelines([]);\r\n            toast.success('Đã thêm phần tử!');\r\n        },\r\n        collect: (monitor) => ({\r\n            isOver: !!monitor.isOver(),\r\n        }),\r\n    }), [canvasRef, zoomLevel, gridSize, showGrid, snapPoints, viewMode, onAddElement, scale, enableSnapping, canvasBounds]);\r\n\r\n    const handleCanvasClick = useCallback((e) => {\r\n        if (e.target === canvasRef.current) {\r\n            onSelectElement([]);\r\n            setContextMenu(null);\r\n        }\r\n    }, [onSelectElement]);\r\n\r\n    const handleContextMenu = useCallback((id, position) => {\r\n        const viewportWidth = window.innerWidth;\r\n        const viewportHeight = window.innerHeight;\r\n        const menuWidth = 120;\r\n        const menuHeight = 100;\r\n        const adjustedX = Math.min(position.x, viewportWidth - menuWidth);\r\n        const adjustedY = Math.min(position.y, viewportHeight - menuHeight);\r\n        setContextMenu({ id, position: { x: adjustedX, y: adjustedY } });\r\n    }, []);\r\n\r\n    const handleKeyDown = useCallback((e) => {\r\n        if (!selectedIds.length) return;\r\n\r\n        const nudgeDistance = e.shiftKey ? 10 : 1;\r\n\r\n        switch (e.key) {\r\n            case 'ArrowUp':\r\n                e.preventDefault();\r\n                selectedIds.forEach(id => {\r\n                    const element = pageData.elements.find(el => el.id === id);\r\n                    if (element) {\r\n                        const currentPos = element.position[viewMode] || { x: 0, y: 0 };\r\n                        onUpdatePosition(id, {\r\n                            [viewMode]: {\r\n                                x: currentPos.x,\r\n                                y: Math.max(0, currentPos.y - nudgeDistance),\r\n                            },\r\n                        }, true);\r\n                    }\r\n                });\r\n                break;\r\n            case 'ArrowDown':\r\n                e.preventDefault();\r\n                selectedIds.forEach(id => {\r\n                    const element = pageData.elements.find(el => el.id === id);\r\n                    if (element) {\r\n                        const currentPos = element.position[viewMode] || { x: 0, y: 0 };\r\n                        onUpdatePosition(id, {\r\n                            [viewMode]: {\r\n                                x: currentPos.x,\r\n                                y: Math.min(canvasBounds.height - element.size.height, currentPos.y + nudgeDistance),\r\n                            },\r\n                        }, true);\r\n                    }\r\n                });\r\n                break;\r\n            case 'ArrowLeft':\r\n                e.preventDefault();\r\n                selectedIds.forEach(id => {\r\n                    const element = pageData.elements.find(el => el.id === id);\r\n                    if (element) {\r\n                        const currentPos = element.position[viewMode] || { x: 0, y: 0 };\r\n                        onUpdatePosition(id, {\r\n                            [viewMode]: {\r\n                                x: Math.max(0, currentPos.x - nudgeDistance),\r\n                                y: currentPos.y,\r\n                            },\r\n                        }, true);\r\n                    }\r\n                });\r\n                break;\r\n            case 'ArrowRight':\r\n                e.preventDefault();\r\n                selectedIds.forEach(id => {\r\n                    const element = pageData.elements.find(el => el.id === id);\r\n                    if (element) {\r\n                        const currentPos = element.position[viewMode] || { x: 0, y: 0 };\r\n                        onUpdatePosition(id, {\r\n                            [viewMode]: {\r\n                                x: Math.min(canvasBounds.width - element.size.width, currentPos.x + nudgeDistance),\r\n                                y: currentPos.y,\r\n                            },\r\n                        }, true);\r\n                    }\r\n                });\r\n                break;\r\n            case 'Delete':\r\n            case 'Backspace':\r\n                e.preventDefault();\r\n                selectedIds.forEach(id => onDeleteElement(id));\r\n                break;\r\n            case 'Escape':\r\n                e.preventDefault();\r\n                onSelectElement([]);\r\n                setContextMenu(null);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }, [selectedIds, viewMode, pageData, onUpdatePosition, onDeleteElement, onSelectElement, canvasBounds]);\r\n\r\n    useHotkeys('ctrl+a', (e) => {\r\n        e.preventDefault();\r\n        if (pageData?.elements) {\r\n            onSelectElement(pageData.elements.map(el => el.id));\r\n        }\r\n    }, [pageData?.elements, onSelectElement]);\r\n\r\n    useHotkeys('ctrl+g', (e) => {\r\n        e.preventDefault();\r\n        if (selectedIds.length > 1) {\r\n            onGroupElements(selectedIds);\r\n        }\r\n    }, [selectedIds, onGroupElements]);\r\n\r\n    useHotkeys('delete,backspace,esc,up,down,left,right', handleKeyDown, [\r\n        selectedIds,\r\n        viewMode,\r\n        pageData,\r\n        onUpdatePosition,\r\n        onDeleteElement,\r\n        onSelectElement,\r\n        canvasBounds,\r\n    ]);\r\n\r\n    return (\r\n        <div\r\n            className=\"lpb-canvas-wrapper\"\r\n            style={{ outline: 'none', position: 'relative', overflow: 'visible' }}\r\n        >\r\n            <div\r\n                ref={(node) => {\r\n                    canvasRef.current = node;\r\n                    drop(node);\r\n                }}\r\n                className={`lpb-canvas ${viewMode === 'mobile' ? 'lpb-canvas-mobile' : viewMode === 'tablet' ? 'lpb-canvas-tablet' : ''}`}\r\n                style={{\r\n                    position: 'relative',\r\n                    width: canvasBounds.width,\r\n                    height: canvasBounds.height,\r\n                    minHeight: '100vh',\r\n                    background: pageData?.canvas?.background || '#ffffff',\r\n                    transform: `scale(${scale})`,\r\n                    transformOrigin: 'top left',\r\n                    cursor: isOver ? 'copy' : 'default',\r\n                    boxShadow: '0 0 0 1px #e5e7eb',\r\n                }}\r\n                onClick={handleCanvasClick}\r\n            >\r\n                <Rulers\r\n                    canvasWidth={canvasBounds.width}\r\n                    canvasHeight={canvasBounds.height}\r\n                    zoomLevel={zoomLevel}\r\n                />\r\n\r\n                <Guidelines\r\n                    guidelines={guidelines}\r\n                    zoomLevel={zoomLevel}\r\n                />\r\n\r\n                {showGrid && (\r\n                    <div\r\n                        className=\"lpb-canvas-grid\"\r\n                        style={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 0,\r\n                            right: 0,\r\n                            bottom: 0,\r\n                            backgroundImage: `\r\nlinear-gradient(to right, #e5e7eb 1px, transparent 1px),\r\nlinear-gradient(to bottom, #e5e7eb 1px, transparent 1px)\r\n`,\r\n                            backgroundSize: `${gridSize}px ${gridSize}px`,\r\n                            pointerEvents: 'none',\r\n                            opacity: 0.5,\r\n                        }}\r\n                    />\r\n                )}\r\n\r\n                {pageData?.elements?.map((element) => (\r\n                    <DraggableElement\r\n                        key={element.id}\r\n                        element={element}\r\n                        isSelected={selectedIds.includes(element.id)}\r\n                        onSelectElement={onSelectElement}\r\n                        onUpdatePosition={onUpdatePosition}\r\n                        viewMode={viewMode}\r\n                        zoomLevel={zoomLevel}\r\n                        gridSize={showGrid ? gridSize : Infinity}\r\n                        onContextMenu={handleContextMenu}\r\n                        canvasRef={canvasRef}\r\n                        snapPoints={snapPoints}\r\n                        enableSnapping={enableSnapping}\r\n                        canvasBounds={canvasBounds}\r\n                    />\r\n                ))}\r\n\r\n                <SelectionOverlay\r\n                    selectedElements={pageData?.elements?.filter(el => selectedIds.includes(el.id)) || []}\r\n                    onResize={onUpdateSize}\r\n                    zoomLevel={zoomLevel}\r\n                />\r\n\r\n                {contextMenu && (\r\n                    <div\r\n                        className=\"lpb-context-menu\"\r\n                        style={{\r\n                            position: 'fixed',\r\n                            left: contextMenu.position.x,\r\n                            top: contextMenu.position.y,\r\n                            background: 'white',\r\n                            border: '1px solid #d1d5db',\r\n                            borderRadius: '6px',\r\n                            boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)',\r\n                            zIndex: 10000,\r\n                            minWidth: '120px',\r\n                        }}\r\n                        onClick={() => setContextMenu(null)}\r\n                    >\r\n                        <div\r\n                            className=\"lpb-context-menu-item\"\r\n                            style={{\r\n                                padding: '8px 12px',\r\n                                cursor: 'pointer',\r\n                                borderBottom: '1px solid #f3f4f6',\r\n                                fontSize: '14px',\r\n                            }}\r\n                            onClick={() => {\r\n                                onDeleteElement(contextMenu.id);\r\n                                setContextMenu(null);\r\n                            }}\r\n                        >\r\n                            <i className=\"fas fa-trash\" style={{ marginRight: '8px' }}></i>\r\n                            Xóa\r\n                        </div>\r\n                        <div\r\n                            className=\"lpb-context-menu-item\"\r\n                            style={{\r\n                                padding: '8px 12px',\r\n                                cursor: 'pointer',\r\n                                fontSize: '14px',\r\n                            }}\r\n                            onClick={() => {\r\n                                const element = pageData.elements.find(el => el.id === contextMenu.id);\r\n                                if (element) {\r\n                                    const duplicated = {\r\n                                        ...element,\r\n                                        id: `${element.id}-copy-${Date.now()}`,\r\n                                        position: {\r\n                                            ...element.position,\r\n                                            [viewMode]: {\r\n                                                x: Math.min(canvasBounds.width - element.size.width, (element.position[viewMode]?.x || 0) + 20),\r\n                                                y: Math.min(canvasBounds.height - element.size.height, (element.position[viewMode]?.y || 0) + 20),\r\n                                            },\r\n                                        },\r\n                                    };\r\n                                    onAddElement(duplicated);\r\n                                }\r\n                                setContextMenu(null);\r\n                            }}\r\n                        >\r\n                            <i className=\"fas fa-copy\" style={{ marginRight: '8px' }}></i>\r\n                            Sao chép\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default Canvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}