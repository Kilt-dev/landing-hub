{"ast":null,"code":"export const CSS_VARIABLES = {\n  '--primary': '#6366f1',\n  '--primary-dark': '#4f46e5',\n  '--primary-light': '#a5b4fc',\n  '--secondary': '#f1f5f9',\n  '--accent': '#06b6d4',\n  '--success': '#10b981',\n  '--warning': '#f59e0b',\n  '--danger': '#ef4444',\n  '--dark': '#1e293b',\n  '--light': '#f8fafc',\n  '--white': '#ffffff',\n  '--text-primary': '#334155',\n  '--text-secondary': '#64748b',\n  '--text-light': '#94a3b8',\n  '--text-inverse': '#ffffff',\n  '--border-color': '#e2e8f0',\n  '--border-radius': '8px',\n  '--shadow-sm': '0 1px 2px 0 rgba(0, 0, 0, 0.05)',\n  '--shadow': '0 4px 6px -1px rgba(0, 0, 0, 0.1)',\n  '--canvas-desktop': '1200px'\n};\nexport const renderStaticHTML = pageData => {\n  var _pageData$canvas, _pageData$canvas2;\n  console.log('Rendering static HTML with pageData:', JSON.stringify(pageData, null, 2));\n  const canvasWidth = ((_pageData$canvas = pageData.canvas) === null || _pageData$canvas === void 0 ? void 0 : _pageData$canvas.width) || '1200px';\n  const canvasBackground = ((_pageData$canvas2 = pageData.canvas) === null || _pageData$canvas2 === void 0 ? void 0 : _pageData$canvas2.background) || '#ffffff';\n  let html = `\n<!DOCTYPE html>\n<html lang=\"vi\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Landing Page</title>\n    <style>\n        :root {\n            --primary: ${CSS_VARIABLES['--primary']};\n            --primary-dark: ${CSS_VARIABLES['--primary-dark']};\n            --primary-light: ${CSS_VARIABLES['--primary-light']};\n            --secondary: ${CSS_VARIABLES['--secondary']};\n            --accent: ${CSS_VARIABLES['--accent']};\n            --success: ${CSS_VARIABLES['--success']};\n            --warning: ${CSS_VARIABLES['--warning']};\n            --danger: ${CSS_VARIABLES['--danger']};\n            --dark: ${CSS_VARIABLES['--dark']};\n            --light: ${CSS_VARIABLES['--light']};\n            --white: ${CSS_VARIABLES['--white']};\n            --text-primary: ${CSS_VARIABLES['--text-primary']};\n            --text-secondary: ${CSS_VARIABLES['--text-secondary']};\n            --text-light: ${CSS_VARIABLES['--text-light']};\n            --text-inverse: ${CSS_VARIABLES['--text-inverse']};\n            --border-color: ${CSS_VARIABLES['--border-color']};\n            --border-radius: ${CSS_VARIABLES['--border-radius']};\n            --shadow: ${CSS_VARIABLES['--shadow']};\n        }\n        body {\n            font-family: 'Inter', Arial, sans-serif;\n            margin: 0;\n            padding: 0;\n            background: ${canvasBackground};\n        }\n        .page-container {\n            position: relative;\n            width: ${canvasWidth};\n            min-height: 100vh;\n            margin: 0 auto;\n            background: ${canvasBackground};\n        }\n        .ladi-section {\n            width: 100%;\n            max-width: 1200px;\n            margin: 0 auto;\n            position: relative;\n            overflow: hidden;\n        }\n        .ladi-section-background {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            z-index: 0;\n        }\n        .ladi-overlay {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            z-index: 1;\n            pointer-events: none;\n        }\n        .ladi-container {\n            position: relative;\n            z-index: 2;\n            padding: 20px;\n            min-height: 100%;\n            box-sizing: border-box;\n        }\n        .lpb-canvas-element, .lpb-child-element {\n            position: absolute;\n            cursor: move;\n        }\n        .lpb-canvas-element:hover, .lpb-child-element:hover {\n            outline: 2px dashed var(--primary);\n        }\n        @media (max-width: 768px) {\n            .page-container {\n                width: 100%;\n            }\n            .ladi-section {\n                width: 100%;\n                min-width: auto;\n            }\n            .lpb-child-element {\n                left: 0 !important;\n                width: 100% !important;\n            }\n        }\n        @media (max-width: 480px) {\n            .lpb-child-element {\n                left: 0 !important;\n                width: 100% !important;\n            }\n        }\n        .ladi-card, .ladi-product, .ladi-testimonial, .ladi-box {\n            padding: 16px;\n            box-sizing: border-box;\n        }\n        .ladi-menu {\n            display: flex;\n            gap: 20px;\n            list-style: none;\n            padding: 0;\n        }\n        .ladi-menu a {\n            color: inherit;\n            text-decoration: none;\n        }\n        .ladi-grid {\n            display: grid;\n        }\n        .ladi-list {\n            list-style: none;\n            padding: 0;\n        }\n        .ladi-video {\n            max-width: 100%;\n        }\n        .ladi-icon {\n            display: inline-block;\n        }\n        .ladi-gallery {\n            display: grid;\n            gap: 10px;\n        }\n        .ladi-carousel {\n            overflow: hidden;\n            position: relative;\n        }\n        .ladi-tabs {\n            display: flex;\n            flex-direction: column;\n        }\n        .ladi-tabs-nav {\n            display: flex;\n            gap: 10px;\n            border-bottom: 1px solid var(--border-color);\n        }\n        .ladi-tab {\n            padding: 8px 16px;\n            cursor: pointer;\n        }\n        .ladi-tab-content {\n            padding: 16px;\n        }\n        .ladi-accordion-item {\n            border-bottom: 1px solid var(--border-color);\n        }\n        .ladi-accordion-title {\n            padding: 8px;\n            cursor: pointer;\n        }\n        .ladi-table {\n            width: 100%;\n            border-collapse: collapse;\n        }\n        .ladi-table th, .ladi-table td {\n            border: 1px solid var(--border-color);\n            padding: 8px;\n            text-align: left;\n        }\n        .ladi-survey {\n            display: flex;\n            flex-direction: column;\n            gap: 10px;\n        }\n        .ladi-html {\n            overflow: auto;\n        }\n        .ladi-collection {\n            display: flex;\n            flex-direction: column;\n            gap: 20px;\n        }\n        .upload-input {\n            margin: 10px 0;\n        }\n    </style>\n    <script>\n        function handleDragStart(event) {\n            event.dataTransfer.setData('text/plain', event.target.id);\n            event.target.style.opacity = '0.5';\n        }\n        function handleDragOver(event) {\n            event.preventDefault();\n        }\n        function handleDrop(event) {\n            event.preventDefault();\n            const id = event.dataTransfer.getData('text/plain');\n            const element = document.getElementById(id);\n            const rect = event.currentTarget.getBoundingClientRect();\n            const x = event.clientX - rect.left;\n            const y = event.clientY - rect.top;\n            element.style.left = x + 'px';\n            element.style.top = y + 'px';\n            element.style.opacity = '1';\n            console.log('Dropped element:', id, 'at position:', { x, y });\n        }\n        function handleFileUpload(event, elementId) {\n            const file = event.target.files[0];\n            if (file) {\n                console.log('Uploading file:', file.name, 'for element:', elementId);\n                // Simulate S3 upload (replace with actual API call)\n                const formData = new FormData();\n                formData.append('file', file);\n                fetch('/api/upload', {\n                    method: 'POST',\n                    body: formData\n                })\n                .then(response => response.json())\n                .then(data => {\n                    console.log('Uploaded to S3:', data.url);\n                    const img = document.getElementById(elementId + '-img');\n                    if (img) img.src = data.url;\n                })\n                .catch(error => console.error('Upload failed:', error));\n            }\n        }\n    </script>\n</head>\n<body>\n    <div class=\"page-container\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">\n    `;\n  const renderElement = (element, isChild = false, parentType = '') => {\n    const {\n      id,\n      type,\n      componentData = {},\n      position = {},\n      size = {},\n      styles = {},\n      children = []\n    } = element;\n\n    // Normalize styles and position\n    const positionStyles = position.desktop ? `left: ${position.desktop.x || 0}px; top: ${position.desktop.y || 0}px;` : '';\n    const sizeStyles = size ? `width: ${size.width || 200}px; height: ${size.height || 50}px;` : '';\n    const cssStyles = styles ? Object.entries(styles).filter(([key]) => key !== 'position').map(([key, value]) => `${key}: ${value};`).join(' ') : '';\n    const elementClass = isChild ? `lpb-child-element ladi-${type}` : `lpb-canvas-element ladi-${type}`;\n    const elementPosition = isChild ? `position: absolute; ${positionStyles}` : position.desktop ? `position: absolute; transform: translate(${position.desktop.x || 0}px, ${position.desktop.y || 0}px);` : '';\n    let elementHtml = `<div id=\"${id}\" class=\"${elementClass}\" style=\"${elementPosition} ${sizeStyles} ${cssStyles}\" data-type=\"${type}\" draggable=\"true\" ondragstart=\"handleDragStart(event)\">`;\n    switch (type) {\n      case 'section':\n        if (componentData.structure === 'ladi-standard') {\n          elementHtml += `\n                        <div class=\"ladi-section\" style=\"width: 100%; height: 100%; position: relative;\">\n                            <div class=\"ladi-section-background\" style=\"background-color: ${componentData.backgroundColor || 'transparent'}; background-image: ${componentData.backgroundImage ? `url(${componentData.backgroundImage})` : 'none'}; background-size: cover; background-position: center;\"></div>\n                            <div class=\"ladi-overlay\" style=\"background-color: ${componentData.overlayColor || 'transparent'}; opacity: ${componentData.overlayOpacity || 0};\"></div>\n                            <div class=\"ladi-container\" style=\"padding: ${componentData.padding || '20px'}; width: 100%; height: 100%; position: relative;\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">\n                    `;\n          children.forEach(child => {\n            elementHtml += renderElement(child, true, type);\n          });\n          elementHtml += `</div></div>`;\n        } else {\n          elementHtml += `<div style=\"display: ${componentData.layoutType || 'flex'}; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; padding: ${componentData.padding || '0'}; background: ${componentData.background || 'transparent'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n          if (componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading')) {\n            elementHtml += `<h2 style=\"font-size: ${componentData.titleFontSize || '1.8rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '700'};\">${componentData.title}</h2>`;\n          }\n          children.forEach(child => {\n            elementHtml += renderElement(child, true, type);\n          });\n          elementHtml += `</div>`;\n        }\n        break;\n      case 'container':\n      case 'box':\n        elementHtml += `<div style=\"display: ${componentData.layoutType || 'flex'}; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; padding: ${componentData.padding || '20px'}; background: ${componentData.background || 'transparent'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading')) {\n          elementHtml += `<h2 style=\"font-size: ${componentData.titleFontSize || '1.8rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '700'};\">${componentData.title}</h2>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'heading':\n        const headingLevel = componentData.level && ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(componentData.level) ? componentData.level : 'h2';\n        elementHtml += `<${headingLevel} style=\"font-size: ${componentData.fontSize || '1.5rem'}; color: ${componentData.color || '#1f2937'}; margin: ${componentData.margin || '0'}; padding: ${componentData.padding || '0'}; font-weight: ${componentData.fontWeight || '700'}; text-align: ${componentData.textAlign || 'left'}; ${cssStyles}\">${componentData.content || 'Tiêu đề'}</${headingLevel}>`;\n        break;\n      case 'paragraph':\n        elementHtml += `<p style=\"font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || '#1f2937'}; margin: ${componentData.margin || '0'}; padding: ${componentData.padding || '0'}; font-weight: ${componentData.fontWeight || '400'}; line-height: ${componentData.lineHeight || '1.6'}; text-align: ${componentData.textAlign || 'left'}; ${cssStyles}\">${componentData.content || 'Đoạn văn'}</p>`;\n        break;\n      case 'button':\n        elementHtml += `<button style=\"padding: ${componentData.padding || '8px 16px'}; border-radius: ${componentData.borderRadius || '8px'}; background: ${componentData.background || '#2563eb'}; color: ${componentData.color || '#fff'}; border: ${componentData.border || 'none'}; cursor: pointer; font-size: ${componentData.fontSize || '1rem'}; font-weight: ${componentData.fontWeight || '600'}; text-align: ${componentData.textAlign || 'center'}; ${cssStyles}\">${componentData.content || 'Nút'}</button>`;\n        break;\n      case 'image':\n        elementHtml += `\n                    <div>\n                        <input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}')\">\n                        <img id=\"${id}-img\" src=\"${componentData.src || 'https://via.placeholder.com/150?text=Image'}\" alt=\"${componentData.alt || 'Hình ảnh'}\" style=\"max-width: ${componentData.maxWidth || '100%'}; height: ${componentData.height || 'auto'}; border-radius: ${componentData.borderRadius || '0'}; ${cssStyles}\" />\n                    </div>`;\n        break;\n      case 'form':\n        elementHtml += `<form style=\"display: flex; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading')) {\n          elementHtml += `<h3 style=\"margin: ${componentData.titleMargin || '0'}; font-size: ${componentData.titleFontSize || '1.2rem'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\n        }\n        if (Array.isArray(componentData.fields) && componentData.fields.length > 0) {\n          componentData.fields.forEach((field, index) => {\n            elementHtml += `<input type=\"${field.type || 'text'}\" placeholder=\"${field.placeholder || field.label || 'Nhập...'}\" style=\"padding: ${field.padding || '8px'}; border-radius: ${field.borderRadius || '8px'}; border: ${field.border || '1px solid #ccc'}; font-size: ${field.fontSize || '1rem'}; width: 100%; box-sizing: border-box; ${cssStyles}\" />`;\n          });\n        }\n        if (componentData.buttonText && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button')) {\n          elementHtml += `<button type=\"submit\" style=\"background: ${componentData.buttonBackground || '#2563eb'}; color: ${componentData.buttonColor || '#fff'}; padding: ${componentData.buttonPadding || '8px 16px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText || 'Gửi'}</button>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</form>`;\n        break;\n      case 'card':\n        elementHtml += `<div class=\"ladi-card\" style=\"padding: ${componentData.padding || '16px'}; background: ${componentData.background || '#ffffff'}; border-radius: ${componentData.borderRadius || '8px'}; box-shadow: ${componentData.boxShadow || '0 2px 8px rgba(0,0,0,0.1)'}; ${cssStyles}\">`;\n        if (componentData.title) {\n          elementHtml += `<h3 style=\"font-size: ${componentData.titleFontSize || '1.2rem'}; margin: ${componentData.titleMargin || '0 0 8px'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\n        }\n        if (componentData.content) {\n          elementHtml += `<p style=\"font-size: ${componentData.contentFontSize || '1rem'}; margin: ${componentData.contentMargin || '0'}; color: ${componentData.contentColor || '#4b5563'};\">${componentData.content}</p>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'testimonial':\n        elementHtml += `<div class=\"ladi-testimonial\" style=\"padding: ${componentData.padding || '20px'}; background: ${componentData.background || '#f9fafb'}; border-radius: ${componentData.borderRadius || '8px'}; ${cssStyles}\">`;\n        if (componentData.quote) {\n          elementHtml += `<p style=\"font-size: ${componentData.quoteFontSize || '1rem'}; margin: ${componentData.quoteMargin || '0 0 8px'}; color: ${componentData.quoteColor || '#1f2937'}; font-style: italic;\">\"${componentData.quote}\"</p>`;\n        }\n        if (componentData.author) {\n          elementHtml += `<p style=\"font-size: ${componentData.authorFontSize || '0.9rem'}; margin: ${componentData.authorMargin || '0'}; color: ${componentData.authorColor || '#4b5563'}; font-weight: ${componentData.authorFontWeight || '600'};\">- ${componentData.author}</p>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'menu':\n        elementHtml += `<ul class=\"ladi-menu\" style=\"${cssStyles}\">`;\n        if (Array.isArray(componentData.items)) {\n          componentData.items.forEach(item => {\n            elementHtml += `<li><a href=\"${item.url || '#'}\" style=\"font-size: ${componentData.itemFontSize || '1rem'}; color: ${componentData.itemColor || '#1f2937'}; ${cssStyles}\">${item.label || 'Menu Item'}</a></li>`;\n          });\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</ul>`;\n        break;\n      case 'grid':\n        elementHtml += `<div class=\"ladi-grid\" style=\"grid-template-columns: repeat(${componentData.columns || 2}, 1fr); gap: ${componentData.gap || '20px'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (Array.isArray(componentData.items)) {\n          componentData.items.forEach((item, index) => {\n            elementHtml += `<div style=\"padding: ${componentData.itemPadding || '16px'}; background: ${componentData.itemBackground || '#ffffff'}; border-radius: ${componentData.itemBorderRadius || '8px'}; box-shadow: ${componentData.itemBoxShadow || '0 2px 8px rgba(0,0,0,0.1)'}; ${cssStyles}\" draggable=\"true\" ondragstart=\"handleDragStart(event)\">`;\n            if (item.image) {\n              elementHtml += `<input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}-item-${index}')\">`;\n              elementHtml += `<img id=\"${id}-item-${index}-img\" src=\"${item.image}\" alt=\"${item.title || 'Item'}\" style=\"max-width: 100%; height: auto; border-radius: ${componentData.imageBorderRadius || '8px'};\" />`;\n            }\n            if (item.title) {\n              elementHtml += `<h4 style=\"font-size: ${componentData.titleFontSize || '1.1rem'}; margin: ${componentData.titleMargin || '8px 0 0'}; color: ${componentData.titleColor || '#1f2937'};\">${item.title}</h4>`;\n            }\n            if (item.price) {\n              elementHtml += `<p style=\"font-size: ${componentData.priceFontSize || '1rem'}; margin: ${componentData.priceMargin || '4px 0 0'}; color: ${componentData.priceColor || '#4b5563'};\">${item.price}</p>`;\n            }\n            elementHtml += `</div>`;\n          });\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'list':\n        elementHtml += `<ul class=\"ladi-list\" style=\"${cssStyles}\">`;\n        if (Array.isArray(componentData.items)) {\n          componentData.items.forEach(item => {\n            elementHtml += `<li style=\"font-size: ${componentData.itemFontSize || '1rem'}; color: ${componentData.itemColor || '#1f2937'}; margin: ${componentData.itemMargin || '4px 0'}; ${cssStyles}\">${item.title || item}</li>`;\n          });\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</ul>`;\n        break;\n      case 'video':\n        elementHtml += `<video class=\"ladi-video\" controls style=\"${cssStyles}\"><source src=\"${componentData.src || 'https://via.placeholder.com/150?text=Video'}\" type=\"video/mp4\"></video>`;\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        break;\n      case 'icon':\n        elementHtml += `<i class=\"${componentData.icon || 'fas fa-star'} ladi-icon\" style=\"${cssStyles}\"></i>`;\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        break;\n      case 'product':\n        elementHtml += `<div class=\"ladi-product\" style=\"padding: ${componentData.padding || '16px'}; background: ${componentData.background || '#ffffff'}; border-radius: ${componentData.borderRadius || '8px'}; box-shadow: ${componentData.boxShadow || '0 2px 8px rgba(0,0,0,0.1)'}; ${cssStyles}\">`;\n        if (componentData.image) {\n          elementHtml += `<input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}')\">`;\n          elementHtml += `<img id=\"${id}-img\" src=\"${componentData.image}\" alt=\"${componentData.title || 'Product'}\" style=\"max-width: 100%; height: auto; border-radius: ${componentData.imageBorderRadius || '8px'};\" />`;\n        }\n        if (componentData.title) {\n          elementHtml += `<h4 style=\"font-size: ${componentData.titleFontSize || '1.1rem'}; margin: ${componentData.titleMargin || '8px 0 0'}; color: ${componentData.titleColor || '#1f2937'};\">${componentData.title}</h4>`;\n        }\n        if (componentData.price) {\n          elementHtml += `<p style=\"font-size: ${componentData.priceFontSize || '1rem'}; margin: ${componentData.priceMargin || '4px 0 0'}; color: ${componentData.priceColor || '#4b5563'};\">${componentData.price}</p>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'gallery':\n        elementHtml += `<div class=\"ladi-gallery\" style=\"grid-template-columns: ${componentData.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))'}; gap: ${componentData.gap || '10px'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (Array.isArray(componentData.images)) {\n          componentData.images.forEach((image, index) => {\n            elementHtml += `<div>`;\n            elementHtml += `<input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}-img-${index}')\">`;\n            elementHtml += `<img id=\"${id}-img-${index}\" src=\"${image}\" alt=\"Gallery Image\" style=\"max-width: 100%; height: auto; border-radius: ${componentData.imageBorderRadius || '8px'};\" />`;\n            elementHtml += `</div>`;\n          });\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'carousel':\n        elementHtml += `<div class=\"ladi-carousel\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (Array.isArray(componentData.items)) {\n          componentData.items.forEach((item, index) => {\n            elementHtml += `<div style=\"padding: ${componentData.itemPadding || '16px'}; background: ${componentData.itemBackground || '#ffffff'}; ${cssStyles}\" draggable=\"true\" ondragstart=\"handleDragStart(event)\">`;\n            if (item.image) {\n              elementHtml += `<input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}-item-${index}')\">`;\n              elementHtml += `<img id=\"${id}-item-${index}-img\" src=\"${item.image}\" alt=\"${item.title || 'Slide'}\" style=\"max-width: 100%; height: auto; border-radius: ${componentData.imageBorderRadius || '8px'};\" />`;\n            }\n            if (item.title) {\n              elementHtml += `<h4 style=\"font-size: ${componentData.titleFontSize || '1.1rem'}; margin: ${componentData.titleMargin || '8px 0 0'}; color: ${componentData.titleColor || '#1f2937'};\">${item.title}</h4>`;\n            }\n            elementHtml += `</div>`;\n          });\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'tabs':\n        elementHtml += `<div class=\"ladi-tabs\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (Array.isArray(componentData.tabs)) {\n          elementHtml += `<div class=\"ladi-tabs-nav\">`;\n          componentData.tabs.forEach((tab, index) => {\n            elementHtml += `<div class=\"ladi-tab\" style=\"padding: ${componentData.tabPadding || '8px 16px'}; ${cssStyles}\">${tab.title}</div>`;\n          });\n          elementHtml += `</div>`;\n          elementHtml += `<div class=\"ladi-tab-content\" style=\"padding: ${componentData.contentPadding || '16px'}; background: ${componentData.contentBackground || '#ffffff'}; ${cssStyles}\">`;\n          componentData.tabs.forEach(tab => {\n            elementHtml += `<div style=\"display: none;\">${tab.content}</div>`;\n          });\n          elementHtml += `</div>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'accordion':\n        elementHtml += `<div class=\"ladi-accordion\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (Array.isArray(componentData.items)) {\n          componentData.items.forEach(item => {\n            elementHtml += `<div class=\"ladi-accordion-item\">`;\n            elementHtml += `<div class=\"ladi-accordion-title\" style=\"padding: ${componentData.titlePadding || '8px'}; background: ${componentData.titleBackground || '#f9fafb'}; ${cssStyles}\">${item.title}</div>`;\n            elementHtml += `<div class=\"ladi-accordion-content\" style=\"padding: ${componentData.contentPadding || '8px'}; display: none; ${cssStyles}\">${item.content}</div>`;\n            elementHtml += `</div>`;\n          });\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'table':\n        elementHtml += `<table class=\"ladi-table\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (Array.isArray(componentData.headers)) {\n          elementHtml += `<thead><tr>`;\n          componentData.headers.forEach(header => {\n            elementHtml += `<th style=\"padding: ${componentData.headerPadding || '8px'}; background: ${componentData.headerBackground || '#f9fafb'}; ${cssStyles}\">${header}</th>`;\n          });\n          elementHtml += `</tr></thead>`;\n        }\n        if (Array.isArray(componentData.rows)) {\n          elementHtml += `<tbody>`;\n          componentData.rows.forEach(row => {\n            elementHtml += `<tr>`;\n            row.forEach(cell => {\n              elementHtml += `<td style=\"padding: ${componentData.cellPadding || '8px'}; ${cssStyles}\">${cell}</td>`;\n            });\n            elementHtml += `</tr>`;\n          });\n          elementHtml += `</tbody>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</table>`;\n        break;\n      case 'survey':\n        elementHtml += `<form class=\"ladi-survey\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (componentData.title) {\n          elementHtml += `<h3 style=\"font-size: ${componentData.titleFontSize || '1.2rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\n        }\n        if (Array.isArray(componentData.questions)) {\n          componentData.questions.forEach((question, index) => {\n            elementHtml += `<div style=\"margin: ${componentData.questionMargin || '8px 0'}; ${cssStyles}\">`;\n            elementHtml += `<label style=\"font-size: ${componentData.labelFontSize || '1rem'}; color: ${componentData.labelColor || '#1f2937'};\">${question.label}</label>`;\n            if (question.type === 'text') {\n              elementHtml += `<input type=\"text\" placeholder=\"${question.placeholder || 'Nhập...'}\" style=\"padding: ${question.padding || '8px'}; border-radius: ${question.borderRadius || '8px'}; border: ${question.border || '1px solid #ccc'}; width: 100%; box-sizing: border-box; ${cssStyles}\" />`;\n            } else if (question.type === 'radio') {\n              if (Array.isArray(question.options)) {\n                question.options.forEach(option => {\n                  elementHtml += `<div><input type=\"radio\" name=\"${question.label}-${index}\" value=\"${option}\" style=\"${cssStyles}\" /> ${option}</div>`;\n                });\n              }\n            }\n            elementHtml += `</div>`;\n          });\n        }\n        if (componentData.buttonText) {\n          elementHtml += `<button type=\"submit\" style=\"background: ${componentData.buttonBackground || '#2563eb'}; color: ${componentData.buttonColor || '#fff'}; padding: ${componentData.buttonPadding || '8px 16px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText}</button>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</form>`;\n        break;\n      case 'html':\n        elementHtml += `<div class=\"ladi-html\" style=\"${cssStyles}\">${componentData.content || '<p>Custom HTML content</p>'}</div>`;\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        break;\n      case 'collection':\n        elementHtml += `<div class=\"ladi-collection\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (Array.isArray(componentData.items)) {\n          componentData.items.forEach(item => {\n            elementHtml += `<div style=\"padding: ${componentData.itemPadding || '16px'}; background: ${componentData.itemBackground || '#ffffff'}; border-radius: ${componentData.itemBorderRadius || '8px'}; box-shadow: ${componentData.itemBoxShadow || '0 2px 8px rgba(0,0,0,0.1)'}; ${cssStyles}\" draggable=\"true\" ondragstart=\"handleDragStart(event)\">`;\n            if (item.title) {\n              elementHtml += `<h4 style=\"font-size: ${componentData.titleFontSize || '1.1rem'}; margin: ${componentData.titleMargin || '0 0 8px'}; color: ${componentData.titleColor || '#1f2937'};\">${item.title}</h4>`;\n            }\n            if (item.content) {\n              elementHtml += `<p style=\"font-size: ${componentData.contentFontSize || '1rem'}; margin: ${componentData.contentMargin || '0'}; color: ${componentData.contentColor || '#4b5563'};\">${item.content}</p>`;\n            }\n            elementHtml += `</div>`;\n          });\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'divider':\n        elementHtml += `<hr style=\"border: none; background: ${componentData.color || '#e5e7eb'}; height: ${componentData.thickness || '2px'}; width: ${componentData.width || '100%'}; margin: ${componentData.margin || '0'}; ${cssStyles}\" />`;\n        break;\n      case 'spacer':\n        elementHtml += `<div style=\"background: ${componentData.background || 'transparent'}; height: ${componentData.height || '40px'}; width: ${componentData.width || '100%'}; ${cssStyles}\"></div>`;\n        break;\n      case 'popup':\n        elementHtml += `<div style=\"display: ${componentData.display || styles.display || 'none'}; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; text-align: ${componentData.textAlign || 'center'}; padding: ${componentData.padding || '20px'}; background: ${componentData.background || 'rgba(255, 255, 255, 0.9)'}; border-radius: ${componentData.borderRadius || '12px'}; box-shadow: ${componentData.boxShadow || '0 4px 6px rgba(0, 0, 0, 0.1)'}; z-index: ${styles.zIndex || 100}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading')) {\n          elementHtml += `<h3 style=\"font-size: ${componentData.titleFontSize || '1.5rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\n        }\n        if (componentData.content && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph')) {\n          elementHtml += `<p style=\"font-size: ${componentData.contentFontSize || '1rem'}; margin: ${componentData.contentMargin || '0'}; color: ${componentData.contentColor || '#4b5563'};\">${componentData.content}</p>`;\n        }\n        if (componentData.fields && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'form')) {\n          componentData.fields.forEach(field => {\n            elementHtml += `<input type=\"${field.type || 'text'}\" placeholder=\"${field.placeholder || field.label || 'Nhập...'}\" style=\"padding: ${field.padding || '8px'}; border-radius: ${field.borderRadius || '8px'}; border: ${field.border || '1px solid #ccc'}; font-size: ${field.fontSize || '1rem'}; width: 100%; box-sizing: border-box; ${cssStyles}\" />`;\n          });\n        }\n        if (componentData.buttonText && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button')) {\n          elementHtml += `<button style=\"padding: ${componentData.buttonPadding || '10px 20px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; background: ${componentData.buttonBackground || '#2563eb'}; color: ${componentData.buttonColor || '#fff'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText}</button>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      case 'modal':\n        elementHtml += `<div style=\"display: ${componentData.display || styles.display || 'none'}; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; padding: ${componentData.padding || '20px'}; background: ${componentData.background || 'rgba(255, 255, 255, 0.9)'}; border-radius: ${componentData.borderRadius || '12px'}; box-shadow: ${componentData.boxShadow || '0 4px 6px rgba(0, 0, 0, 0.1)'}; z-index: ${styles.zIndex || 100}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\n        if (componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading')) {\n          elementHtml += `<h3 style=\"font-size: ${componentData.titleFontSize || '1.5rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\n        }\n        if (componentData.content && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph')) {\n          elementHtml += `<p style=\"font-size: ${componentData.contentFontSize || '1rem'}; margin: ${componentData.contentMargin || '0'}; color: ${componentData.contentColor || '#4b5563'};\">${componentData.content}</p>`;\n        }\n        if (componentData.closeButton && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button')) {\n          elementHtml += `<button style=\"padding: ${componentData.buttonPadding || '8px 16px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; background: ${componentData.buttonBackground || '#6b7280'}; color: ${componentData.buttonColor || '#fff'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; align-self: flex-end; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText || 'Đóng'}</button>`;\n        }\n        children.forEach(child => {\n          elementHtml += renderElement(child, true, type);\n        });\n        elementHtml += `</div>`;\n        break;\n      default:\n        // Skip unknown components silently\n        console.warn(`Skipping unknown component type: ${type}`, {\n          element\n        });\n        return '';\n    }\n    elementHtml += `</div>`;\n    return elementHtml;\n  };\n\n  // Render all top-level elements\n  if (Array.isArray(pageData.elements)) {\n    pageData.elements.forEach(element => {\n      html += renderElement(element);\n    });\n  } else {\n    console.warn('pageData.elements is not an array:', pageData.elements);\n    html += `<div style=\"color: #ff0000; padding: 10px; border: 1px dashed #ff0000;\">Error: No valid elements found in pageData</div>`;\n  }\n  html += `\n    </div>\n</body>\n</html>\n    `;\n  console.log('Generated HTML:', html);\n  return html.trim();\n};","map":{"version":3,"names":["CSS_VARIABLES","renderStaticHTML","pageData","_pageData$canvas","_pageData$canvas2","console","log","JSON","stringify","canvasWidth","canvas","width","canvasBackground","background","html","renderElement","element","isChild","parentType","id","type","componentData","position","size","styles","children","positionStyles","desktop","x","y","sizeStyles","height","cssStyles","Object","entries","filter","key","map","value","join","elementClass","elementPosition","elementHtml","structure","backgroundColor","backgroundImage","overlayColor","overlayOpacity","padding","forEach","child","layoutType","direction","gap","title","some","titleFontSize","titleMargin","titleColor","titleFontWeight","headingLevel","level","includes","fontSize","color","margin","fontWeight","textAlign","content","lineHeight","borderRadius","border","src","alt","maxWidth","Array","isArray","fields","length","field","index","placeholder","label","buttonText","buttonBackground","buttonColor","buttonPadding","buttonBorderRadius","buttonBorder","buttonFontSize","buttonFontWeight","boxShadow","contentFontSize","contentMargin","contentColor","quote","quoteFontSize","quoteMargin","quoteColor","author","authorFontSize","authorMargin","authorColor","authorFontWeight","items","item","url","itemFontSize","itemColor","columns","itemPadding","itemBackground","itemBorderRadius","itemBoxShadow","image","imageBorderRadius","price","priceFontSize","priceMargin","priceColor","itemMargin","icon","gridTemplateColumns","images","tabs","tab","tabPadding","contentPadding","contentBackground","titlePadding","titleBackground","headers","header","headerPadding","headerBackground","rows","row","cell","cellPadding","questions","question","questionMargin","labelFontSize","labelColor","options","option","thickness","display","zIndex","closeButton","warn","elements","trim"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/renderStaticHTML.js"],"sourcesContent":["export const CSS_VARIABLES = {\r\n    '--primary': '#6366f1',\r\n    '--primary-dark': '#4f46e5',\r\n    '--primary-light': '#a5b4fc',\r\n    '--secondary': '#f1f5f9',\r\n    '--accent': '#06b6d4',\r\n    '--success': '#10b981',\r\n    '--warning': '#f59e0b',\r\n    '--danger': '#ef4444',\r\n    '--dark': '#1e293b',\r\n    '--light': '#f8fafc',\r\n    '--white': '#ffffff',\r\n    '--text-primary': '#334155',\r\n    '--text-secondary': '#64748b',\r\n    '--text-light': '#94a3b8',\r\n    '--text-inverse': '#ffffff',\r\n    '--border-color': '#e2e8f0',\r\n    '--border-radius': '8px',\r\n    '--shadow-sm': '0 1px 2px 0 rgba(0, 0, 0, 0.05)',\r\n    '--shadow': '0 4px 6px -1px rgba(0, 0, 0, 0.1)',\r\n    '--canvas-desktop': '1200px',\r\n};\r\n\r\nexport const renderStaticHTML = (pageData) => {\r\n    console.log('Rendering static HTML with pageData:', JSON.stringify(pageData, null, 2));\r\n\r\n    const canvasWidth = pageData.canvas?.width || '1200px';\r\n    const canvasBackground = pageData.canvas?.background || '#ffffff';\r\n\r\n    let html = `\r\n<!DOCTYPE html>\r\n<html lang=\"vi\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Landing Page</title>\r\n    <style>\r\n        :root {\r\n            --primary: ${CSS_VARIABLES['--primary']};\r\n            --primary-dark: ${CSS_VARIABLES['--primary-dark']};\r\n            --primary-light: ${CSS_VARIABLES['--primary-light']};\r\n            --secondary: ${CSS_VARIABLES['--secondary']};\r\n            --accent: ${CSS_VARIABLES['--accent']};\r\n            --success: ${CSS_VARIABLES['--success']};\r\n            --warning: ${CSS_VARIABLES['--warning']};\r\n            --danger: ${CSS_VARIABLES['--danger']};\r\n            --dark: ${CSS_VARIABLES['--dark']};\r\n            --light: ${CSS_VARIABLES['--light']};\r\n            --white: ${CSS_VARIABLES['--white']};\r\n            --text-primary: ${CSS_VARIABLES['--text-primary']};\r\n            --text-secondary: ${CSS_VARIABLES['--text-secondary']};\r\n            --text-light: ${CSS_VARIABLES['--text-light']};\r\n            --text-inverse: ${CSS_VARIABLES['--text-inverse']};\r\n            --border-color: ${CSS_VARIABLES['--border-color']};\r\n            --border-radius: ${CSS_VARIABLES['--border-radius']};\r\n            --shadow: ${CSS_VARIABLES['--shadow']};\r\n        }\r\n        body {\r\n            font-family: 'Inter', Arial, sans-serif;\r\n            margin: 0;\r\n            padding: 0;\r\n            background: ${canvasBackground};\r\n        }\r\n        .page-container {\r\n            position: relative;\r\n            width: ${canvasWidth};\r\n            min-height: 100vh;\r\n            margin: 0 auto;\r\n            background: ${canvasBackground};\r\n        }\r\n        .ladi-section {\r\n            width: 100%;\r\n            max-width: 1200px;\r\n            margin: 0 auto;\r\n            position: relative;\r\n            overflow: hidden;\r\n        }\r\n        .ladi-section-background {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            z-index: 0;\r\n        }\r\n        .ladi-overlay {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            z-index: 1;\r\n            pointer-events: none;\r\n        }\r\n        .ladi-container {\r\n            position: relative;\r\n            z-index: 2;\r\n            padding: 20px;\r\n            min-height: 100%;\r\n            box-sizing: border-box;\r\n        }\r\n        .lpb-canvas-element, .lpb-child-element {\r\n            position: absolute;\r\n            cursor: move;\r\n        }\r\n        .lpb-canvas-element:hover, .lpb-child-element:hover {\r\n            outline: 2px dashed var(--primary);\r\n        }\r\n        @media (max-width: 768px) {\r\n            .page-container {\r\n                width: 100%;\r\n            }\r\n            .ladi-section {\r\n                width: 100%;\r\n                min-width: auto;\r\n            }\r\n            .lpb-child-element {\r\n                left: 0 !important;\r\n                width: 100% !important;\r\n            }\r\n        }\r\n        @media (max-width: 480px) {\r\n            .lpb-child-element {\r\n                left: 0 !important;\r\n                width: 100% !important;\r\n            }\r\n        }\r\n        .ladi-card, .ladi-product, .ladi-testimonial, .ladi-box {\r\n            padding: 16px;\r\n            box-sizing: border-box;\r\n        }\r\n        .ladi-menu {\r\n            display: flex;\r\n            gap: 20px;\r\n            list-style: none;\r\n            padding: 0;\r\n        }\r\n        .ladi-menu a {\r\n            color: inherit;\r\n            text-decoration: none;\r\n        }\r\n        .ladi-grid {\r\n            display: grid;\r\n        }\r\n        .ladi-list {\r\n            list-style: none;\r\n            padding: 0;\r\n        }\r\n        .ladi-video {\r\n            max-width: 100%;\r\n        }\r\n        .ladi-icon {\r\n            display: inline-block;\r\n        }\r\n        .ladi-gallery {\r\n            display: grid;\r\n            gap: 10px;\r\n        }\r\n        .ladi-carousel {\r\n            overflow: hidden;\r\n            position: relative;\r\n        }\r\n        .ladi-tabs {\r\n            display: flex;\r\n            flex-direction: column;\r\n        }\r\n        .ladi-tabs-nav {\r\n            display: flex;\r\n            gap: 10px;\r\n            border-bottom: 1px solid var(--border-color);\r\n        }\r\n        .ladi-tab {\r\n            padding: 8px 16px;\r\n            cursor: pointer;\r\n        }\r\n        .ladi-tab-content {\r\n            padding: 16px;\r\n        }\r\n        .ladi-accordion-item {\r\n            border-bottom: 1px solid var(--border-color);\r\n        }\r\n        .ladi-accordion-title {\r\n            padding: 8px;\r\n            cursor: pointer;\r\n        }\r\n        .ladi-table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n        }\r\n        .ladi-table th, .ladi-table td {\r\n            border: 1px solid var(--border-color);\r\n            padding: 8px;\r\n            text-align: left;\r\n        }\r\n        .ladi-survey {\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 10px;\r\n        }\r\n        .ladi-html {\r\n            overflow: auto;\r\n        }\r\n        .ladi-collection {\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 20px;\r\n        }\r\n        .upload-input {\r\n            margin: 10px 0;\r\n        }\r\n    </style>\r\n    <script>\r\n        function handleDragStart(event) {\r\n            event.dataTransfer.setData('text/plain', event.target.id);\r\n            event.target.style.opacity = '0.5';\r\n        }\r\n        function handleDragOver(event) {\r\n            event.preventDefault();\r\n        }\r\n        function handleDrop(event) {\r\n            event.preventDefault();\r\n            const id = event.dataTransfer.getData('text/plain');\r\n            const element = document.getElementById(id);\r\n            const rect = event.currentTarget.getBoundingClientRect();\r\n            const x = event.clientX - rect.left;\r\n            const y = event.clientY - rect.top;\r\n            element.style.left = x + 'px';\r\n            element.style.top = y + 'px';\r\n            element.style.opacity = '1';\r\n            console.log('Dropped element:', id, 'at position:', { x, y });\r\n        }\r\n        function handleFileUpload(event, elementId) {\r\n            const file = event.target.files[0];\r\n            if (file) {\r\n                console.log('Uploading file:', file.name, 'for element:', elementId);\r\n                // Simulate S3 upload (replace with actual API call)\r\n                const formData = new FormData();\r\n                formData.append('file', file);\r\n                fetch('/api/upload', {\r\n                    method: 'POST',\r\n                    body: formData\r\n                })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log('Uploaded to S3:', data.url);\r\n                    const img = document.getElementById(elementId + '-img');\r\n                    if (img) img.src = data.url;\r\n                })\r\n                .catch(error => console.error('Upload failed:', error));\r\n            }\r\n        }\r\n    </script>\r\n</head>\r\n<body>\r\n    <div class=\"page-container\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">\r\n    `;\r\n\r\n    const renderElement = (element, isChild = false, parentType = '') => {\r\n        const { id, type, componentData = {}, position = {}, size = {}, styles = {}, children = [] } = element;\r\n\r\n        // Normalize styles and position\r\n        const positionStyles = position.desktop ? `left: ${position.desktop.x || 0}px; top: ${position.desktop.y || 0}px;` : '';\r\n        const sizeStyles = size ? `width: ${size.width || 200}px; height: ${size.height || 50}px;` : '';\r\n        const cssStyles = styles ? Object.entries(styles).filter(([key]) => key !== 'position').map(([key, value]) => `${key}: ${value};`).join(' ') : '';\r\n        const elementClass = isChild ? `lpb-child-element ladi-${type}` : `lpb-canvas-element ladi-${type}`;\r\n        const elementPosition = isChild ? `position: absolute; ${positionStyles}` : (position.desktop ? `position: absolute; transform: translate(${position.desktop.x || 0}px, ${position.desktop.y || 0}px);` : '');\r\n\r\n        let elementHtml = `<div id=\"${id}\" class=\"${elementClass}\" style=\"${elementPosition} ${sizeStyles} ${cssStyles}\" data-type=\"${type}\" draggable=\"true\" ondragstart=\"handleDragStart(event)\">`;\r\n\r\n        switch (type) {\r\n            case 'section':\r\n                if (componentData.structure === 'ladi-standard') {\r\n                    elementHtml += `\r\n                        <div class=\"ladi-section\" style=\"width: 100%; height: 100%; position: relative;\">\r\n                            <div class=\"ladi-section-background\" style=\"background-color: ${componentData.backgroundColor || 'transparent'}; background-image: ${componentData.backgroundImage ? `url(${componentData.backgroundImage})` : 'none'}; background-size: cover; background-position: center;\"></div>\r\n                            <div class=\"ladi-overlay\" style=\"background-color: ${componentData.overlayColor || 'transparent'}; opacity: ${componentData.overlayOpacity || 0};\"></div>\r\n                            <div class=\"ladi-container\" style=\"padding: ${componentData.padding || '20px'}; width: 100%; height: 100%; position: relative;\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">\r\n                    `;\r\n                    children.forEach((child) => {\r\n                        elementHtml += renderElement(child, true, type);\r\n                    });\r\n                    elementHtml += `</div></div>`;\r\n                } else {\r\n                    elementHtml += `<div style=\"display: ${componentData.layoutType || 'flex'}; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; padding: ${componentData.padding || '0'}; background: ${componentData.background || 'transparent'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                    if (componentData.title && !children.some(child => child?.type === 'heading')) {\r\n                        elementHtml += `<h2 style=\"font-size: ${componentData.titleFontSize || '1.8rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '700'};\">${componentData.title}</h2>`;\r\n                    }\r\n                    children.forEach((child) => {\r\n                        elementHtml += renderElement(child, true, type);\r\n                    });\r\n                    elementHtml += `</div>`;\r\n                }\r\n                break;\r\n            case 'container':\r\n            case 'box':\r\n                elementHtml += `<div style=\"display: ${componentData.layoutType || 'flex'}; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; padding: ${componentData.padding || '20px'}; background: ${componentData.background || 'transparent'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (componentData.title && !children.some(child => child?.type === 'heading')) {\r\n                    elementHtml += `<h2 style=\"font-size: ${componentData.titleFontSize || '1.8rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '700'};\">${componentData.title}</h2>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'heading':\r\n                const headingLevel = componentData.level && ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(componentData.level)\r\n                    ? componentData.level\r\n                    : 'h2';\r\n                elementHtml += `<${headingLevel} style=\"font-size: ${componentData.fontSize || '1.5rem'}; color: ${componentData.color || '#1f2937'}; margin: ${componentData.margin || '0'}; padding: ${componentData.padding || '0'}; font-weight: ${componentData.fontWeight || '700'}; text-align: ${componentData.textAlign || 'left'}; ${cssStyles}\">${componentData.content || 'Tiêu đề'}</${headingLevel}>`;\r\n                break;\r\n            case 'paragraph':\r\n                elementHtml += `<p style=\"font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || '#1f2937'}; margin: ${componentData.margin || '0'}; padding: ${componentData.padding || '0'}; font-weight: ${componentData.fontWeight || '400'}; line-height: ${componentData.lineHeight || '1.6'}; text-align: ${componentData.textAlign || 'left'}; ${cssStyles}\">${componentData.content || 'Đoạn văn'}</p>`;\r\n                break;\r\n            case 'button':\r\n                elementHtml += `<button style=\"padding: ${componentData.padding || '8px 16px'}; border-radius: ${componentData.borderRadius || '8px'}; background: ${componentData.background || '#2563eb'}; color: ${componentData.color || '#fff'}; border: ${componentData.border || 'none'}; cursor: pointer; font-size: ${componentData.fontSize || '1rem'}; font-weight: ${componentData.fontWeight || '600'}; text-align: ${componentData.textAlign || 'center'}; ${cssStyles}\">${componentData.content || 'Nút'}</button>`;\r\n                break;\r\n            case 'image':\r\n                elementHtml += `\r\n                    <div>\r\n                        <input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}')\">\r\n                        <img id=\"${id}-img\" src=\"${componentData.src || 'https://via.placeholder.com/150?text=Image'}\" alt=\"${componentData.alt || 'Hình ảnh'}\" style=\"max-width: ${componentData.maxWidth || '100%'}; height: ${componentData.height || 'auto'}; border-radius: ${componentData.borderRadius || '0'}; ${cssStyles}\" />\r\n                    </div>`;\r\n                break;\r\n            case 'form':\r\n                elementHtml += `<form style=\"display: flex; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (componentData.title && !children.some(child => child?.type === 'heading')) {\r\n                    elementHtml += `<h3 style=\"margin: ${componentData.titleMargin || '0'}; font-size: ${componentData.titleFontSize || '1.2rem'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\r\n                }\r\n                if (Array.isArray(componentData.fields) && componentData.fields.length > 0) {\r\n                    componentData.fields.forEach((field, index) => {\r\n                        elementHtml += `<input type=\"${field.type || 'text'}\" placeholder=\"${field.placeholder || field.label || 'Nhập...'}\" style=\"padding: ${field.padding || '8px'}; border-radius: ${field.borderRadius || '8px'}; border: ${field.border || '1px solid #ccc'}; font-size: ${field.fontSize || '1rem'}; width: 100%; box-sizing: border-box; ${cssStyles}\" />`;\r\n                    });\r\n                }\r\n                if (componentData.buttonText && !children.some(child => child?.type === 'button')) {\r\n                    elementHtml += `<button type=\"submit\" style=\"background: ${componentData.buttonBackground || '#2563eb'}; color: ${componentData.buttonColor || '#fff'}; padding: ${componentData.buttonPadding || '8px 16px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText || 'Gửi'}</button>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</form>`;\r\n                break;\r\n            case 'card':\r\n                elementHtml += `<div class=\"ladi-card\" style=\"padding: ${componentData.padding || '16px'}; background: ${componentData.background || '#ffffff'}; border-radius: ${componentData.borderRadius || '8px'}; box-shadow: ${componentData.boxShadow || '0 2px 8px rgba(0,0,0,0.1)'}; ${cssStyles}\">`;\r\n                if (componentData.title) {\r\n                    elementHtml += `<h3 style=\"font-size: ${componentData.titleFontSize || '1.2rem'}; margin: ${componentData.titleMargin || '0 0 8px'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\r\n                }\r\n                if (componentData.content) {\r\n                    elementHtml += `<p style=\"font-size: ${componentData.contentFontSize || '1rem'}; margin: ${componentData.contentMargin || '0'}; color: ${componentData.contentColor || '#4b5563'};\">${componentData.content}</p>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'testimonial':\r\n                elementHtml += `<div class=\"ladi-testimonial\" style=\"padding: ${componentData.padding || '20px'}; background: ${componentData.background || '#f9fafb'}; border-radius: ${componentData.borderRadius || '8px'}; ${cssStyles}\">`;\r\n                if (componentData.quote) {\r\n                    elementHtml += `<p style=\"font-size: ${componentData.quoteFontSize || '1rem'}; margin: ${componentData.quoteMargin || '0 0 8px'}; color: ${componentData.quoteColor || '#1f2937'}; font-style: italic;\">\"${componentData.quote}\"</p>`;\r\n                }\r\n                if (componentData.author) {\r\n                    elementHtml += `<p style=\"font-size: ${componentData.authorFontSize || '0.9rem'}; margin: ${componentData.authorMargin || '0'}; color: ${componentData.authorColor || '#4b5563'}; font-weight: ${componentData.authorFontWeight || '600'};\">- ${componentData.author}</p>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'menu':\r\n                elementHtml += `<ul class=\"ladi-menu\" style=\"${cssStyles}\">`;\r\n                if (Array.isArray(componentData.items)) {\r\n                    componentData.items.forEach((item) => {\r\n                        elementHtml += `<li><a href=\"${item.url || '#'}\" style=\"font-size: ${componentData.itemFontSize || '1rem'}; color: ${componentData.itemColor || '#1f2937'}; ${cssStyles}\">${item.label || 'Menu Item'}</a></li>`;\r\n                    });\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</ul>`;\r\n                break;\r\n            case 'grid':\r\n                elementHtml += `<div class=\"ladi-grid\" style=\"grid-template-columns: repeat(${componentData.columns || 2}, 1fr); gap: ${componentData.gap || '20px'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (Array.isArray(componentData.items)) {\r\n                    componentData.items.forEach((item, index) => {\r\n                        elementHtml += `<div style=\"padding: ${componentData.itemPadding || '16px'}; background: ${componentData.itemBackground || '#ffffff'}; border-radius: ${componentData.itemBorderRadius || '8px'}; box-shadow: ${componentData.itemBoxShadow || '0 2px 8px rgba(0,0,0,0.1)'}; ${cssStyles}\" draggable=\"true\" ondragstart=\"handleDragStart(event)\">`;\r\n                        if (item.image) {\r\n                            elementHtml += `<input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}-item-${index}')\">`;\r\n                            elementHtml += `<img id=\"${id}-item-${index}-img\" src=\"${item.image}\" alt=\"${item.title || 'Item'}\" style=\"max-width: 100%; height: auto; border-radius: ${componentData.imageBorderRadius || '8px'};\" />`;\r\n                        }\r\n                        if (item.title) {\r\n                            elementHtml += `<h4 style=\"font-size: ${componentData.titleFontSize || '1.1rem'}; margin: ${componentData.titleMargin || '8px 0 0'}; color: ${componentData.titleColor || '#1f2937'};\">${item.title}</h4>`;\r\n                        }\r\n                        if (item.price) {\r\n                            elementHtml += `<p style=\"font-size: ${componentData.priceFontSize || '1rem'}; margin: ${componentData.priceMargin || '4px 0 0'}; color: ${componentData.priceColor || '#4b5563'};\">${item.price}</p>`;\r\n                        }\r\n                        elementHtml += `</div>`;\r\n                    });\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'list':\r\n                elementHtml += `<ul class=\"ladi-list\" style=\"${cssStyles}\">`;\r\n                if (Array.isArray(componentData.items)) {\r\n                    componentData.items.forEach((item) => {\r\n                        elementHtml += `<li style=\"font-size: ${componentData.itemFontSize || '1rem'}; color: ${componentData.itemColor || '#1f2937'}; margin: ${componentData.itemMargin || '4px 0'}; ${cssStyles}\">${item.title || item}</li>`;\r\n                    });\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</ul>`;\r\n                break;\r\n            case 'video':\r\n                elementHtml += `<video class=\"ladi-video\" controls style=\"${cssStyles}\"><source src=\"${componentData.src || 'https://via.placeholder.com/150?text=Video'}\" type=\"video/mp4\"></video>`;\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                break;\r\n            case 'icon':\r\n                elementHtml += `<i class=\"${componentData.icon || 'fas fa-star'} ladi-icon\" style=\"${cssStyles}\"></i>`;\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                break;\r\n            case 'product':\r\n                elementHtml += `<div class=\"ladi-product\" style=\"padding: ${componentData.padding || '16px'}; background: ${componentData.background || '#ffffff'}; border-radius: ${componentData.borderRadius || '8px'}; box-shadow: ${componentData.boxShadow || '0 2px 8px rgba(0,0,0,0.1)'}; ${cssStyles}\">`;\r\n                if (componentData.image) {\r\n                    elementHtml += `<input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}')\">`;\r\n                    elementHtml += `<img id=\"${id}-img\" src=\"${componentData.image}\" alt=\"${componentData.title || 'Product'}\" style=\"max-width: 100%; height: auto; border-radius: ${componentData.imageBorderRadius || '8px'};\" />`;\r\n                }\r\n                if (componentData.title) {\r\n                    elementHtml += `<h4 style=\"font-size: ${componentData.titleFontSize || '1.1rem'}; margin: ${componentData.titleMargin || '8px 0 0'}; color: ${componentData.titleColor || '#1f2937'};\">${componentData.title}</h4>`;\r\n                }\r\n                if (componentData.price) {\r\n                    elementHtml += `<p style=\"font-size: ${componentData.priceFontSize || '1rem'}; margin: ${componentData.priceMargin || '4px 0 0'}; color: ${componentData.priceColor || '#4b5563'};\">${componentData.price}</p>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'gallery':\r\n                elementHtml += `<div class=\"ladi-gallery\" style=\"grid-template-columns: ${componentData.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))'}; gap: ${componentData.gap || '10px'}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (Array.isArray(componentData.images)) {\r\n                    componentData.images.forEach((image, index) => {\r\n                        elementHtml += `<div>`;\r\n                        elementHtml += `<input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}-img-${index}')\">`;\r\n                        elementHtml += `<img id=\"${id}-img-${index}\" src=\"${image}\" alt=\"Gallery Image\" style=\"max-width: 100%; height: auto; border-radius: ${componentData.imageBorderRadius || '8px'};\" />`;\r\n                        elementHtml += `</div>`;\r\n                    });\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'carousel':\r\n                elementHtml += `<div class=\"ladi-carousel\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (Array.isArray(componentData.items)) {\r\n                    componentData.items.forEach((item, index) => {\r\n                        elementHtml += `<div style=\"padding: ${componentData.itemPadding || '16px'}; background: ${componentData.itemBackground || '#ffffff'}; ${cssStyles}\" draggable=\"true\" ondragstart=\"handleDragStart(event)\">`;\r\n                        if (item.image) {\r\n                            elementHtml += `<input type=\"file\" class=\"upload-input\" accept=\"image/*\" onchange=\"handleFileUpload(event, '${id}-item-${index}')\">`;\r\n                            elementHtml += `<img id=\"${id}-item-${index}-img\" src=\"${item.image}\" alt=\"${item.title || 'Slide'}\" style=\"max-width: 100%; height: auto; border-radius: ${componentData.imageBorderRadius || '8px'};\" />`;\r\n                        }\r\n                        if (item.title) {\r\n                            elementHtml += `<h4 style=\"font-size: ${componentData.titleFontSize || '1.1rem'}; margin: ${componentData.titleMargin || '8px 0 0'}; color: ${componentData.titleColor || '#1f2937'};\">${item.title}</h4>`;\r\n                        }\r\n                        elementHtml += `</div>`;\r\n                    });\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'tabs':\r\n                elementHtml += `<div class=\"ladi-tabs\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (Array.isArray(componentData.tabs)) {\r\n                    elementHtml += `<div class=\"ladi-tabs-nav\">`;\r\n                    componentData.tabs.forEach((tab, index) => {\r\n                        elementHtml += `<div class=\"ladi-tab\" style=\"padding: ${componentData.tabPadding || '8px 16px'}; ${cssStyles}\">${tab.title}</div>`;\r\n                    });\r\n                    elementHtml += `</div>`;\r\n                    elementHtml += `<div class=\"ladi-tab-content\" style=\"padding: ${componentData.contentPadding || '16px'}; background: ${componentData.contentBackground || '#ffffff'}; ${cssStyles}\">`;\r\n                    componentData.tabs.forEach((tab) => {\r\n                        elementHtml += `<div style=\"display: none;\">${tab.content}</div>`;\r\n                    });\r\n                    elementHtml += `</div>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'accordion':\r\n                elementHtml += `<div class=\"ladi-accordion\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (Array.isArray(componentData.items)) {\r\n                    componentData.items.forEach((item) => {\r\n                        elementHtml += `<div class=\"ladi-accordion-item\">`;\r\n                        elementHtml += `<div class=\"ladi-accordion-title\" style=\"padding: ${componentData.titlePadding || '8px'}; background: ${componentData.titleBackground || '#f9fafb'}; ${cssStyles}\">${item.title}</div>`;\r\n                        elementHtml += `<div class=\"ladi-accordion-content\" style=\"padding: ${componentData.contentPadding || '8px'}; display: none; ${cssStyles}\">${item.content}</div>`;\r\n                        elementHtml += `</div>`;\r\n                    });\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'table':\r\n                elementHtml += `<table class=\"ladi-table\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (Array.isArray(componentData.headers)) {\r\n                    elementHtml += `<thead><tr>`;\r\n                    componentData.headers.forEach((header) => {\r\n                        elementHtml += `<th style=\"padding: ${componentData.headerPadding || '8px'}; background: ${componentData.headerBackground || '#f9fafb'}; ${cssStyles}\">${header}</th>`;\r\n                    });\r\n                    elementHtml += `</tr></thead>`;\r\n                }\r\n                if (Array.isArray(componentData.rows)) {\r\n                    elementHtml += `<tbody>`;\r\n                    componentData.rows.forEach((row) => {\r\n                        elementHtml += `<tr>`;\r\n                        row.forEach((cell) => {\r\n                            elementHtml += `<td style=\"padding: ${componentData.cellPadding || '8px'}; ${cssStyles}\">${cell}</td>`;\r\n                        });\r\n                        elementHtml += `</tr>`;\r\n                    });\r\n                    elementHtml += `</tbody>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</table>`;\r\n                break;\r\n            case 'survey':\r\n                elementHtml += `<form class=\"ladi-survey\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (componentData.title) {\r\n                    elementHtml += `<h3 style=\"font-size: ${componentData.titleFontSize || '1.2rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\r\n                }\r\n                if (Array.isArray(componentData.questions)) {\r\n                    componentData.questions.forEach((question, index) => {\r\n                        elementHtml += `<div style=\"margin: ${componentData.questionMargin || '8px 0'}; ${cssStyles}\">`;\r\n                        elementHtml += `<label style=\"font-size: ${componentData.labelFontSize || '1rem'}; color: ${componentData.labelColor || '#1f2937'};\">${question.label}</label>`;\r\n                        if (question.type === 'text') {\r\n                            elementHtml += `<input type=\"text\" placeholder=\"${question.placeholder || 'Nhập...'}\" style=\"padding: ${question.padding || '8px'}; border-radius: ${question.borderRadius || '8px'}; border: ${question.border || '1px solid #ccc'}; width: 100%; box-sizing: border-box; ${cssStyles}\" />`;\r\n                        } else if (question.type === 'radio') {\r\n                            if (Array.isArray(question.options)) {\r\n                                question.options.forEach((option) => {\r\n                                    elementHtml += `<div><input type=\"radio\" name=\"${question.label}-${index}\" value=\"${option}\" style=\"${cssStyles}\" /> ${option}</div>`;\r\n                                });\r\n                            }\r\n                        }\r\n                        elementHtml += `</div>`;\r\n                    });\r\n                }\r\n                if (componentData.buttonText) {\r\n                    elementHtml += `<button type=\"submit\" style=\"background: ${componentData.buttonBackground || '#2563eb'}; color: ${componentData.buttonColor || '#fff'}; padding: ${componentData.buttonPadding || '8px 16px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText}</button>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</form>`;\r\n                break;\r\n            case 'html':\r\n                elementHtml += `<div class=\"ladi-html\" style=\"${cssStyles}\">${componentData.content || '<p>Custom HTML content</p>'}</div>`;\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                break;\r\n            case 'collection':\r\n                elementHtml += `<div class=\"ladi-collection\" style=\"${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (Array.isArray(componentData.items)) {\r\n                    componentData.items.forEach((item) => {\r\n                        elementHtml += `<div style=\"padding: ${componentData.itemPadding || '16px'}; background: ${componentData.itemBackground || '#ffffff'}; border-radius: ${componentData.itemBorderRadius || '8px'}; box-shadow: ${componentData.itemBoxShadow || '0 2px 8px rgba(0,0,0,0.1)'}; ${cssStyles}\" draggable=\"true\" ondragstart=\"handleDragStart(event)\">`;\r\n                        if (item.title) {\r\n                            elementHtml += `<h4 style=\"font-size: ${componentData.titleFontSize || '1.1rem'}; margin: ${componentData.titleMargin || '0 0 8px'}; color: ${componentData.titleColor || '#1f2937'};\">${item.title}</h4>`;\r\n                        }\r\n                        if (item.content) {\r\n                            elementHtml += `<p style=\"font-size: ${componentData.contentFontSize || '1rem'}; margin: ${componentData.contentMargin || '0'}; color: ${componentData.contentColor || '#4b5563'};\">${item.content}</p>`;\r\n                        }\r\n                        elementHtml += `</div>`;\r\n                    });\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'divider':\r\n                elementHtml += `<hr style=\"border: none; background: ${componentData.color || '#e5e7eb'}; height: ${componentData.thickness || '2px'}; width: ${componentData.width || '100%'}; margin: ${componentData.margin || '0'}; ${cssStyles}\" />`;\r\n                break;\r\n            case 'spacer':\r\n                elementHtml += `<div style=\"background: ${componentData.background || 'transparent'}; height: ${componentData.height || '40px'}; width: ${componentData.width || '100%'}; ${cssStyles}\"></div>`;\r\n                break;\r\n            case 'popup':\r\n                elementHtml += `<div style=\"display: ${componentData.display || styles.display || 'none'}; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; text-align: ${componentData.textAlign || 'center'}; padding: ${componentData.padding || '20px'}; background: ${componentData.background || 'rgba(255, 255, 255, 0.9)'}; border-radius: ${componentData.borderRadius || '12px'}; box-shadow: ${componentData.boxShadow || '0 4px 6px rgba(0, 0, 0, 0.1)'}; z-index: ${styles.zIndex || 100}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (componentData.title && !children.some(child => child?.type === 'heading')) {\r\n                    elementHtml += `<h3 style=\"font-size: ${componentData.titleFontSize || '1.5rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\r\n                }\r\n                if (componentData.content && !children.some(child => child?.type === 'paragraph')) {\r\n                    elementHtml += `<p style=\"font-size: ${componentData.contentFontSize || '1rem'}; margin: ${componentData.contentMargin || '0'}; color: ${componentData.contentColor || '#4b5563'};\">${componentData.content}</p>`;\r\n                }\r\n                if (componentData.fields && !children.some(child => child?.type === 'form')) {\r\n                    componentData.fields.forEach((field) => {\r\n                        elementHtml += `<input type=\"${field.type || 'text'}\" placeholder=\"${field.placeholder || field.label || 'Nhập...'}\" style=\"padding: ${field.padding || '8px'}; border-radius: ${field.borderRadius || '8px'}; border: ${field.border || '1px solid #ccc'}; font-size: ${field.fontSize || '1rem'}; width: 100%; box-sizing: border-box; ${cssStyles}\" />`;\r\n                    });\r\n                }\r\n                if (componentData.buttonText && !children.some(child => child?.type === 'button')) {\r\n                    elementHtml += `<button style=\"padding: ${componentData.buttonPadding || '10px 20px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; background: ${componentData.buttonBackground || '#2563eb'}; color: ${componentData.buttonColor || '#fff'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText}</button>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            case 'modal':\r\n                elementHtml += `<div style=\"display: ${componentData.display || styles.display || 'none'}; flex-direction: ${componentData.direction || 'column'}; gap: ${componentData.gap || '10px'}; padding: ${componentData.padding || '20px'}; background: ${componentData.background || 'rgba(255, 255, 255, 0.9)'}; border-radius: ${componentData.borderRadius || '12px'}; box-shadow: ${componentData.boxShadow || '0 4px 6px rgba(0, 0, 0, 0.1)'}; z-index: ${styles.zIndex || 100}; ${cssStyles}\" ondragover=\"handleDragOver(event)\" ondrop=\"handleDrop(event)\">`;\r\n                if (componentData.title && !children.some(child => child?.type === 'heading')) {\r\n                    elementHtml += `<h3 style=\"font-size: ${componentData.titleFontSize || '1.5rem'}; margin: ${componentData.titleMargin || '0'}; color: ${componentData.titleColor || '#1f2937'}; font-weight: ${componentData.titleFontWeight || '600'};\">${componentData.title}</h3>`;\r\n                }\r\n                if (componentData.content && !children.some(child => child?.type === 'paragraph')) {\r\n                    elementHtml += `<p style=\"font-size: ${componentData.contentFontSize || '1rem'}; margin: ${componentData.contentMargin || '0'}; color: ${componentData.contentColor || '#4b5563'};\">${componentData.content}</p>`;\r\n                }\r\n                if (componentData.closeButton && !children.some(child => child?.type === 'button')) {\r\n                    elementHtml += `<button style=\"padding: ${componentData.buttonPadding || '8px 16px'}; border-radius: ${componentData.buttonBorderRadius || '8px'}; background: ${componentData.buttonBackground || '#6b7280'}; color: ${componentData.buttonColor || '#fff'}; border: ${componentData.buttonBorder || 'none'}; cursor: pointer; align-self: flex-end; font-size: ${componentData.buttonFontSize || '1rem'}; font-weight: ${componentData.buttonFontWeight || '600'};\">${componentData.buttonText || 'Đóng'}</button>`;\r\n                }\r\n                children.forEach((child) => {\r\n                    elementHtml += renderElement(child, true, type);\r\n                });\r\n                elementHtml += `</div>`;\r\n                break;\r\n            default:\r\n                // Skip unknown components silently\r\n                console.warn(`Skipping unknown component type: ${type}`, { element });\r\n                return '';\r\n        }\r\n\r\n        elementHtml += `</div>`;\r\n        return elementHtml;\r\n    };\r\n\r\n    // Render all top-level elements\r\n    if (Array.isArray(pageData.elements)) {\r\n        pageData.elements.forEach((element) => {\r\n            html += renderElement(element);\r\n        });\r\n    } else {\r\n        console.warn('pageData.elements is not an array:', pageData.elements);\r\n        html += `<div style=\"color: #ff0000; padding: 10px; border: 1px dashed #ff0000;\">Error: No valid elements found in pageData</div>`;\r\n    }\r\n\r\n    html += `\r\n    </div>\r\n</body>\r\n</html>\r\n    `;\r\n\r\n    console.log('Generated HTML:', html);\r\n    return html.trim();\r\n};"],"mappings":"AAAA,OAAO,MAAMA,aAAa,GAAG;EACzB,WAAW,EAAE,SAAS;EACtB,gBAAgB,EAAE,SAAS;EAC3B,iBAAiB,EAAE,SAAS;EAC5B,aAAa,EAAE,SAAS;EACxB,UAAU,EAAE,SAAS;EACrB,WAAW,EAAE,SAAS;EACtB,WAAW,EAAE,SAAS;EACtB,UAAU,EAAE,SAAS;EACrB,QAAQ,EAAE,SAAS;EACnB,SAAS,EAAE,SAAS;EACpB,SAAS,EAAE,SAAS;EACpB,gBAAgB,EAAE,SAAS;EAC3B,kBAAkB,EAAE,SAAS;EAC7B,cAAc,EAAE,SAAS;EACzB,gBAAgB,EAAE,SAAS;EAC3B,gBAAgB,EAAE,SAAS;EAC3B,iBAAiB,EAAE,KAAK;EACxB,aAAa,EAAE,iCAAiC;EAChD,UAAU,EAAE,mCAAmC;EAC/C,kBAAkB,EAAE;AACxB,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAIC,QAAQ,IAAK;EAAA,IAAAC,gBAAA,EAAAC,iBAAA;EAC1CC,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;EAEtF,MAAMO,WAAW,GAAG,EAAAN,gBAAA,GAAAD,QAAQ,CAACQ,MAAM,cAAAP,gBAAA,uBAAfA,gBAAA,CAAiBQ,KAAK,KAAI,QAAQ;EACtD,MAAMC,gBAAgB,GAAG,EAAAR,iBAAA,GAAAF,QAAQ,CAACQ,MAAM,cAAAN,iBAAA,uBAAfA,iBAAA,CAAiBS,UAAU,KAAI,SAAS;EAEjE,IAAIC,IAAI,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyBd,aAAa,CAAC,WAAW,CAAC;AACnD,8BAA8BA,aAAa,CAAC,gBAAgB,CAAC;AAC7D,+BAA+BA,aAAa,CAAC,iBAAiB,CAAC;AAC/D,2BAA2BA,aAAa,CAAC,aAAa,CAAC;AACvD,wBAAwBA,aAAa,CAAC,UAAU,CAAC;AACjD,yBAAyBA,aAAa,CAAC,WAAW,CAAC;AACnD,yBAAyBA,aAAa,CAAC,WAAW,CAAC;AACnD,wBAAwBA,aAAa,CAAC,UAAU,CAAC;AACjD,sBAAsBA,aAAa,CAAC,QAAQ,CAAC;AAC7C,uBAAuBA,aAAa,CAAC,SAAS,CAAC;AAC/C,uBAAuBA,aAAa,CAAC,SAAS,CAAC;AAC/C,8BAA8BA,aAAa,CAAC,gBAAgB,CAAC;AAC7D,gCAAgCA,aAAa,CAAC,kBAAkB,CAAC;AACjE,4BAA4BA,aAAa,CAAC,cAAc,CAAC;AACzD,8BAA8BA,aAAa,CAAC,gBAAgB,CAAC;AAC7D,8BAA8BA,aAAa,CAAC,gBAAgB,CAAC;AAC7D,+BAA+BA,aAAa,CAAC,iBAAiB,CAAC;AAC/D,wBAAwBA,aAAa,CAAC,UAAU,CAAC;AACjD;AACA;AACA;AACA;AACA;AACA,0BAA0BY,gBAAgB;AAC1C;AACA;AACA;AACA,qBAAqBH,WAAW;AAChC;AACA;AACA,0BAA0BG,gBAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;EAED,MAAMG,aAAa,GAAGA,CAACC,OAAO,EAAEC,OAAO,GAAG,KAAK,EAAEC,UAAU,GAAG,EAAE,KAAK;IACjE,MAAM;MAAEC,EAAE;MAAEC,IAAI;MAAEC,aAAa,GAAG,CAAC,CAAC;MAAEC,QAAQ,GAAG,CAAC,CAAC;MAAEC,IAAI,GAAG,CAAC,CAAC;MAAEC,MAAM,GAAG,CAAC,CAAC;MAAEC,QAAQ,GAAG;IAAG,CAAC,GAAGT,OAAO;;IAEtG;IACA,MAAMU,cAAc,GAAGJ,QAAQ,CAACK,OAAO,GAAG,SAASL,QAAQ,CAACK,OAAO,CAACC,CAAC,IAAI,CAAC,YAAYN,QAAQ,CAACK,OAAO,CAACE,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE;IACvH,MAAMC,UAAU,GAAGP,IAAI,GAAG,UAAUA,IAAI,CAACZ,KAAK,IAAI,GAAG,eAAeY,IAAI,CAACQ,MAAM,IAAI,EAAE,KAAK,GAAG,EAAE;IAC/F,MAAMC,SAAS,GAAGR,MAAM,GAAGS,MAAM,CAACC,OAAO,CAACV,MAAM,CAAC,CAACW,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,KAAKA,GAAG,KAAK,UAAU,CAAC,CAACC,GAAG,CAAC,CAAC,CAACD,GAAG,EAAEE,KAAK,CAAC,KAAK,GAAGF,GAAG,KAAKE,KAAK,GAAG,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE;IACjJ,MAAMC,YAAY,GAAGvB,OAAO,GAAG,0BAA0BG,IAAI,EAAE,GAAG,2BAA2BA,IAAI,EAAE;IACnG,MAAMqB,eAAe,GAAGxB,OAAO,GAAG,uBAAuBS,cAAc,EAAE,GAAIJ,QAAQ,CAACK,OAAO,GAAG,4CAA4CL,QAAQ,CAACK,OAAO,CAACC,CAAC,IAAI,CAAC,OAAON,QAAQ,CAACK,OAAO,CAACE,CAAC,IAAI,CAAC,MAAM,GAAG,EAAG;IAE7M,IAAIa,WAAW,GAAG,YAAYvB,EAAE,YAAYqB,YAAY,YAAYC,eAAe,IAAIX,UAAU,IAAIE,SAAS,gBAAgBZ,IAAI,0DAA0D;IAE5L,QAAQA,IAAI;MACR,KAAK,SAAS;QACV,IAAIC,aAAa,CAACsB,SAAS,KAAK,eAAe,EAAE;UAC7CD,WAAW,IAAI;AACnC;AACA,4FAA4FrB,aAAa,CAACuB,eAAe,IAAI,aAAa,uBAAuBvB,aAAa,CAACwB,eAAe,GAAG,OAAOxB,aAAa,CAACwB,eAAe,GAAG,GAAG,MAAM;AACjP,iFAAiFxB,aAAa,CAACyB,YAAY,IAAI,aAAa,cAAczB,aAAa,CAAC0B,cAAc,IAAI,CAAC;AAC3K,0EAA0E1B,aAAa,CAAC2B,OAAO,IAAI,MAAM;AACzG,qBAAqB;UACDvB,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;YACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;UACnD,CAAC,CAAC;UACFsB,WAAW,IAAI,cAAc;QACjC,CAAC,MAAM;UACHA,WAAW,IAAI,wBAAwBrB,aAAa,CAAC8B,UAAU,IAAI,MAAM,qBAAqB9B,aAAa,CAAC+B,SAAS,IAAI,QAAQ,UAAU/B,aAAa,CAACgC,GAAG,IAAI,MAAM,cAAchC,aAAa,CAAC2B,OAAO,IAAI,GAAG,iBAAiB3B,aAAa,CAACR,UAAU,IAAI,aAAa,KAAKmB,SAAS,kEAAkE;UAC1V,IAAIX,aAAa,CAACiC,KAAK,IAAI,CAAC7B,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,SAAS,CAAC,EAAE;YAC3EsB,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,GAAG,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,kBAAkBrC,aAAa,CAACsC,eAAe,IAAI,KAAK,MAAMtC,aAAa,CAACiC,KAAK,OAAO;UACzQ;UACA7B,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;YACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;UACnD,CAAC,CAAC;UACFsB,WAAW,IAAI,QAAQ;QAC3B;QACA;MACJ,KAAK,WAAW;MAChB,KAAK,KAAK;QACNA,WAAW,IAAI,wBAAwBrB,aAAa,CAAC8B,UAAU,IAAI,MAAM,qBAAqB9B,aAAa,CAAC+B,SAAS,IAAI,QAAQ,UAAU/B,aAAa,CAACgC,GAAG,IAAI,MAAM,cAAchC,aAAa,CAAC2B,OAAO,IAAI,MAAM,iBAAiB3B,aAAa,CAACR,UAAU,IAAI,aAAa,KAAKmB,SAAS,kEAAkE;QAC7V,IAAIX,aAAa,CAACiC,KAAK,IAAI,CAAC7B,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,SAAS,CAAC,EAAE;UAC3EsB,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,GAAG,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,kBAAkBrC,aAAa,CAACsC,eAAe,IAAI,KAAK,MAAMtC,aAAa,CAACiC,KAAK,OAAO;QACzQ;QACA7B,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,SAAS;QACV,MAAMkB,YAAY,GAAGvC,aAAa,CAACwC,KAAK,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAACC,QAAQ,CAACzC,aAAa,CAACwC,KAAK,CAAC,GACxGxC,aAAa,CAACwC,KAAK,GACnB,IAAI;QACVnB,WAAW,IAAI,IAAIkB,YAAY,sBAAsBvC,aAAa,CAAC0C,QAAQ,IAAI,QAAQ,YAAY1C,aAAa,CAAC2C,KAAK,IAAI,SAAS,aAAa3C,aAAa,CAAC4C,MAAM,IAAI,GAAG,cAAc5C,aAAa,CAAC2B,OAAO,IAAI,GAAG,kBAAkB3B,aAAa,CAAC6C,UAAU,IAAI,KAAK,iBAAiB7C,aAAa,CAAC8C,SAAS,IAAI,MAAM,KAAKnC,SAAS,KAAKX,aAAa,CAAC+C,OAAO,IAAI,SAAS,KAAKR,YAAY,GAAG;QACnY;MACJ,KAAK,WAAW;QACZlB,WAAW,IAAI,wBAAwBrB,aAAa,CAAC0C,QAAQ,IAAI,MAAM,YAAY1C,aAAa,CAAC2C,KAAK,IAAI,SAAS,aAAa3C,aAAa,CAAC4C,MAAM,IAAI,GAAG,cAAc5C,aAAa,CAAC2B,OAAO,IAAI,GAAG,kBAAkB3B,aAAa,CAAC6C,UAAU,IAAI,KAAK,kBAAkB7C,aAAa,CAACgD,UAAU,IAAI,KAAK,iBAAiBhD,aAAa,CAAC8C,SAAS,IAAI,MAAM,KAAKnC,SAAS,KAAKX,aAAa,CAAC+C,OAAO,IAAI,UAAU,MAAM;QACzZ;MACJ,KAAK,QAAQ;QACT1B,WAAW,IAAI,2BAA2BrB,aAAa,CAAC2B,OAAO,IAAI,UAAU,oBAAoB3B,aAAa,CAACiD,YAAY,IAAI,KAAK,iBAAiBjD,aAAa,CAACR,UAAU,IAAI,SAAS,YAAYQ,aAAa,CAAC2C,KAAK,IAAI,MAAM,aAAa3C,aAAa,CAACkD,MAAM,IAAI,MAAM,iCAAiClD,aAAa,CAAC0C,QAAQ,IAAI,MAAM,kBAAkB1C,aAAa,CAAC6C,UAAU,IAAI,KAAK,iBAAiB7C,aAAa,CAAC8C,SAAS,IAAI,QAAQ,KAAKnC,SAAS,KAAKX,aAAa,CAAC+C,OAAO,IAAI,KAAK,WAAW;QAClf;MACJ,KAAK,OAAO;QACR1B,WAAW,IAAI;AAC/B;AACA,sHAAsHvB,EAAE;AACxH,mCAAmCA,EAAE,cAAcE,aAAa,CAACmD,GAAG,IAAI,4CAA4C,UAAUnD,aAAa,CAACoD,GAAG,IAAI,UAAU,uBAAuBpD,aAAa,CAACqD,QAAQ,IAAI,MAAM,aAAarD,aAAa,CAACU,MAAM,IAAI,MAAM,oBAAoBV,aAAa,CAACiD,YAAY,IAAI,GAAG,KAAKtC,SAAS;AAClU,2BAA2B;QACX;MACJ,KAAK,MAAM;QACPU,WAAW,IAAI,+CAA+CrB,aAAa,CAAC+B,SAAS,IAAI,QAAQ,UAAU/B,aAAa,CAACgC,GAAG,IAAI,MAAM,KAAKrB,SAAS,kEAAkE;QACtN,IAAIX,aAAa,CAACiC,KAAK,IAAI,CAAC7B,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,SAAS,CAAC,EAAE;UAC3EsB,WAAW,IAAI,sBAAsBrB,aAAa,CAACoC,WAAW,IAAI,GAAG,gBAAgBpC,aAAa,CAACmC,aAAa,IAAI,QAAQ,YAAYnC,aAAa,CAACqC,UAAU,IAAI,SAAS,kBAAkBrC,aAAa,CAACsC,eAAe,IAAI,KAAK,MAAMtC,aAAa,CAACiC,KAAK,OAAO;QACzQ;QACA,IAAIqB,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACwD,MAAM,CAAC,IAAIxD,aAAa,CAACwD,MAAM,CAACC,MAAM,GAAG,CAAC,EAAE;UACxEzD,aAAa,CAACwD,MAAM,CAAC5B,OAAO,CAAC,CAAC8B,KAAK,EAAEC,KAAK,KAAK;YAC3CtC,WAAW,IAAI,gBAAgBqC,KAAK,CAAC3D,IAAI,IAAI,MAAM,kBAAkB2D,KAAK,CAACE,WAAW,IAAIF,KAAK,CAACG,KAAK,IAAI,SAAS,qBAAqBH,KAAK,CAAC/B,OAAO,IAAI,KAAK,oBAAoB+B,KAAK,CAACT,YAAY,IAAI,KAAK,aAAaS,KAAK,CAACR,MAAM,IAAI,gBAAgB,gBAAgBQ,KAAK,CAAChB,QAAQ,IAAI,MAAM,0CAA0C/B,SAAS,MAAM;UAC9V,CAAC,CAAC;QACN;QACA,IAAIX,aAAa,CAAC8D,UAAU,IAAI,CAAC1D,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,QAAQ,CAAC,EAAE;UAC/EsB,WAAW,IAAI,4CAA4CrB,aAAa,CAAC+D,gBAAgB,IAAI,SAAS,YAAY/D,aAAa,CAACgE,WAAW,IAAI,MAAM,cAAchE,aAAa,CAACiE,aAAa,IAAI,UAAU,oBAAoBjE,aAAa,CAACkE,kBAAkB,IAAI,KAAK,aAAalE,aAAa,CAACmE,YAAY,IAAI,MAAM,iCAAiCnE,aAAa,CAACoE,cAAc,IAAI,MAAM,kBAAkBpE,aAAa,CAACqE,gBAAgB,IAAI,KAAK,MAAMrE,aAAa,CAAC8D,UAAU,IAAI,KAAK,WAAW;QAChf;QACA1D,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,SAAS;QACxB;MACJ,KAAK,MAAM;QACPA,WAAW,IAAI,0CAA0CrB,aAAa,CAAC2B,OAAO,IAAI,MAAM,iBAAiB3B,aAAa,CAACR,UAAU,IAAI,SAAS,oBAAoBQ,aAAa,CAACiD,YAAY,IAAI,KAAK,iBAAiBjD,aAAa,CAACsE,SAAS,IAAI,2BAA2B,KAAK3D,SAAS,IAAI;QAC9R,IAAIX,aAAa,CAACiC,KAAK,EAAE;UACrBZ,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,SAAS,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,kBAAkBrC,aAAa,CAACsC,eAAe,IAAI,KAAK,MAAMtC,aAAa,CAACiC,KAAK,OAAO;QAC/Q;QACA,IAAIjC,aAAa,CAAC+C,OAAO,EAAE;UACvB1B,WAAW,IAAI,wBAAwBrB,aAAa,CAACuE,eAAe,IAAI,MAAM,aAAavE,aAAa,CAACwE,aAAa,IAAI,GAAG,YAAYxE,aAAa,CAACyE,YAAY,IAAI,SAAS,MAAMzE,aAAa,CAAC+C,OAAO,MAAM;QACrN;QACA3C,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,aAAa;QACdA,WAAW,IAAI,iDAAiDrB,aAAa,CAAC2B,OAAO,IAAI,MAAM,iBAAiB3B,aAAa,CAACR,UAAU,IAAI,SAAS,oBAAoBQ,aAAa,CAACiD,YAAY,IAAI,KAAK,KAAKtC,SAAS,IAAI;QAC9N,IAAIX,aAAa,CAAC0E,KAAK,EAAE;UACrBrD,WAAW,IAAI,wBAAwBrB,aAAa,CAAC2E,aAAa,IAAI,MAAM,aAAa3E,aAAa,CAAC4E,WAAW,IAAI,SAAS,YAAY5E,aAAa,CAAC6E,UAAU,IAAI,SAAS,2BAA2B7E,aAAa,CAAC0E,KAAK,OAAO;QACzO;QACA,IAAI1E,aAAa,CAAC8E,MAAM,EAAE;UACtBzD,WAAW,IAAI,wBAAwBrB,aAAa,CAAC+E,cAAc,IAAI,QAAQ,aAAa/E,aAAa,CAACgF,YAAY,IAAI,GAAG,YAAYhF,aAAa,CAACiF,WAAW,IAAI,SAAS,kBAAkBjF,aAAa,CAACkF,gBAAgB,IAAI,KAAK,QAAQlF,aAAa,CAAC8E,MAAM,MAAM;QAC9Q;QACA1E,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,MAAM;QACPA,WAAW,IAAI,gCAAgCV,SAAS,IAAI;QAC5D,IAAI2C,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACmF,KAAK,CAAC,EAAE;UACpCnF,aAAa,CAACmF,KAAK,CAACvD,OAAO,CAAEwD,IAAI,IAAK;YAClC/D,WAAW,IAAI,gBAAgB+D,IAAI,CAACC,GAAG,IAAI,GAAG,uBAAuBrF,aAAa,CAACsF,YAAY,IAAI,MAAM,YAAYtF,aAAa,CAACuF,SAAS,IAAI,SAAS,KAAK5E,SAAS,KAAKyE,IAAI,CAACvB,KAAK,IAAI,WAAW,WAAW;UACpN,CAAC,CAAC;QACN;QACAzD,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,OAAO;QACtB;MACJ,KAAK,MAAM;QACPA,WAAW,IAAI,+DAA+DrB,aAAa,CAACwF,OAAO,IAAI,CAAC,gBAAgBxF,aAAa,CAACgC,GAAG,IAAI,MAAM,KAAKrB,SAAS,kEAAkE;QACnO,IAAI2C,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACmF,KAAK,CAAC,EAAE;UACpCnF,aAAa,CAACmF,KAAK,CAACvD,OAAO,CAAC,CAACwD,IAAI,EAAEzB,KAAK,KAAK;YACzCtC,WAAW,IAAI,wBAAwBrB,aAAa,CAACyF,WAAW,IAAI,MAAM,iBAAiBzF,aAAa,CAAC0F,cAAc,IAAI,SAAS,oBAAoB1F,aAAa,CAAC2F,gBAAgB,IAAI,KAAK,iBAAiB3F,aAAa,CAAC4F,aAAa,IAAI,2BAA2B,KAAKjF,SAAS,0DAA0D;YAClV,IAAIyE,IAAI,CAACS,KAAK,EAAE;cACZxE,WAAW,IAAI,+FAA+FvB,EAAE,SAAS6D,KAAK,MAAM;cACpItC,WAAW,IAAI,YAAYvB,EAAE,SAAS6D,KAAK,cAAcyB,IAAI,CAACS,KAAK,UAAUT,IAAI,CAACnD,KAAK,IAAI,MAAM,0DAA0DjC,aAAa,CAAC8F,iBAAiB,IAAI,KAAK,OAAO;YAC9M;YACA,IAAIV,IAAI,CAACnD,KAAK,EAAE;cACZZ,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,SAAS,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,MAAM+C,IAAI,CAACnD,KAAK,OAAO;YAC9M;YACA,IAAImD,IAAI,CAACW,KAAK,EAAE;cACZ1E,WAAW,IAAI,wBAAwBrB,aAAa,CAACgG,aAAa,IAAI,MAAM,aAAahG,aAAa,CAACiG,WAAW,IAAI,SAAS,YAAYjG,aAAa,CAACkG,UAAU,IAAI,SAAS,MAAMd,IAAI,CAACW,KAAK,MAAM;YAC1M;YACA1E,WAAW,IAAI,QAAQ;UAC3B,CAAC,CAAC;QACN;QACAjB,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,MAAM;QACPA,WAAW,IAAI,gCAAgCV,SAAS,IAAI;QAC5D,IAAI2C,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACmF,KAAK,CAAC,EAAE;UACpCnF,aAAa,CAACmF,KAAK,CAACvD,OAAO,CAAEwD,IAAI,IAAK;YAClC/D,WAAW,IAAI,yBAAyBrB,aAAa,CAACsF,YAAY,IAAI,MAAM,YAAYtF,aAAa,CAACuF,SAAS,IAAI,SAAS,aAAavF,aAAa,CAACmG,UAAU,IAAI,OAAO,KAAKxF,SAAS,KAAKyE,IAAI,CAACnD,KAAK,IAAImD,IAAI,OAAO;UAC5N,CAAC,CAAC;QACN;QACAhF,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,OAAO;QACtB;MACJ,KAAK,OAAO;QACRA,WAAW,IAAI,6CAA6CV,SAAS,kBAAkBX,aAAa,CAACmD,GAAG,IAAI,4CAA4C,6BAA6B;QACrL/C,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACF;MACJ,KAAK,MAAM;QACPsB,WAAW,IAAI,aAAarB,aAAa,CAACoG,IAAI,IAAI,aAAa,sBAAsBzF,SAAS,QAAQ;QACtGP,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACF;MACJ,KAAK,SAAS;QACVsB,WAAW,IAAI,6CAA6CrB,aAAa,CAAC2B,OAAO,IAAI,MAAM,iBAAiB3B,aAAa,CAACR,UAAU,IAAI,SAAS,oBAAoBQ,aAAa,CAACiD,YAAY,IAAI,KAAK,iBAAiBjD,aAAa,CAACsE,SAAS,IAAI,2BAA2B,KAAK3D,SAAS,IAAI;QACjS,IAAIX,aAAa,CAAC6F,KAAK,EAAE;UACrBxE,WAAW,IAAI,+FAA+FvB,EAAE,MAAM;UACtHuB,WAAW,IAAI,YAAYvB,EAAE,cAAcE,aAAa,CAAC6F,KAAK,UAAU7F,aAAa,CAACiC,KAAK,IAAI,SAAS,0DAA0DjC,aAAa,CAAC8F,iBAAiB,IAAI,KAAK,OAAO;QACrN;QACA,IAAI9F,aAAa,CAACiC,KAAK,EAAE;UACrBZ,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,SAAS,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,MAAMrC,aAAa,CAACiC,KAAK,OAAO;QACvN;QACA,IAAIjC,aAAa,CAAC+F,KAAK,EAAE;UACrB1E,WAAW,IAAI,wBAAwBrB,aAAa,CAACgG,aAAa,IAAI,MAAM,aAAahG,aAAa,CAACiG,WAAW,IAAI,SAAS,YAAYjG,aAAa,CAACkG,UAAU,IAAI,SAAS,MAAMlG,aAAa,CAAC+F,KAAK,MAAM;QACnN;QACA3F,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,SAAS;QACVA,WAAW,IAAI,2DAA2DrB,aAAa,CAACqG,mBAAmB,IAAI,uCAAuC,UAAUrG,aAAa,CAACgC,GAAG,IAAI,MAAM,KAAKrB,SAAS,kEAAkE;QAC3Q,IAAI2C,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACsG,MAAM,CAAC,EAAE;UACrCtG,aAAa,CAACsG,MAAM,CAAC1E,OAAO,CAAC,CAACiE,KAAK,EAAElC,KAAK,KAAK;YAC3CtC,WAAW,IAAI,OAAO;YACtBA,WAAW,IAAI,+FAA+FvB,EAAE,QAAQ6D,KAAK,MAAM;YACnItC,WAAW,IAAI,YAAYvB,EAAE,QAAQ6D,KAAK,UAAUkC,KAAK,8EAA8E7F,aAAa,CAAC8F,iBAAiB,IAAI,KAAK,OAAO;YACtLzE,WAAW,IAAI,QAAQ;UAC3B,CAAC,CAAC;QACN;QACAjB,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,UAAU;QACXA,WAAW,IAAI,qCAAqCV,SAAS,kEAAkE;QAC/H,IAAI2C,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACmF,KAAK,CAAC,EAAE;UACpCnF,aAAa,CAACmF,KAAK,CAACvD,OAAO,CAAC,CAACwD,IAAI,EAAEzB,KAAK,KAAK;YACzCtC,WAAW,IAAI,wBAAwBrB,aAAa,CAACyF,WAAW,IAAI,MAAM,iBAAiBzF,aAAa,CAAC0F,cAAc,IAAI,SAAS,KAAK/E,SAAS,0DAA0D;YAC5M,IAAIyE,IAAI,CAACS,KAAK,EAAE;cACZxE,WAAW,IAAI,+FAA+FvB,EAAE,SAAS6D,KAAK,MAAM;cACpItC,WAAW,IAAI,YAAYvB,EAAE,SAAS6D,KAAK,cAAcyB,IAAI,CAACS,KAAK,UAAUT,IAAI,CAACnD,KAAK,IAAI,OAAO,0DAA0DjC,aAAa,CAAC8F,iBAAiB,IAAI,KAAK,OAAO;YAC/M;YACA,IAAIV,IAAI,CAACnD,KAAK,EAAE;cACZZ,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,SAAS,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,MAAM+C,IAAI,CAACnD,KAAK,OAAO;YAC9M;YACAZ,WAAW,IAAI,QAAQ;UAC3B,CAAC,CAAC;QACN;QACAjB,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,MAAM;QACPA,WAAW,IAAI,iCAAiCV,SAAS,kEAAkE;QAC3H,IAAI2C,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACuG,IAAI,CAAC,EAAE;UACnClF,WAAW,IAAI,6BAA6B;UAC5CrB,aAAa,CAACuG,IAAI,CAAC3E,OAAO,CAAC,CAAC4E,GAAG,EAAE7C,KAAK,KAAK;YACvCtC,WAAW,IAAI,yCAAyCrB,aAAa,CAACyG,UAAU,IAAI,UAAU,KAAK9F,SAAS,KAAK6F,GAAG,CAACvE,KAAK,QAAQ;UACtI,CAAC,CAAC;UACFZ,WAAW,IAAI,QAAQ;UACvBA,WAAW,IAAI,iDAAiDrB,aAAa,CAAC0G,cAAc,IAAI,MAAM,iBAAiB1G,aAAa,CAAC2G,iBAAiB,IAAI,SAAS,KAAKhG,SAAS,IAAI;UACrLX,aAAa,CAACuG,IAAI,CAAC3E,OAAO,CAAE4E,GAAG,IAAK;YAChCnF,WAAW,IAAI,+BAA+BmF,GAAG,CAACzD,OAAO,QAAQ;UACrE,CAAC,CAAC;UACF1B,WAAW,IAAI,QAAQ;QAC3B;QACAjB,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,WAAW;QACZA,WAAW,IAAI,sCAAsCV,SAAS,kEAAkE;QAChI,IAAI2C,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACmF,KAAK,CAAC,EAAE;UACpCnF,aAAa,CAACmF,KAAK,CAACvD,OAAO,CAAEwD,IAAI,IAAK;YAClC/D,WAAW,IAAI,mCAAmC;YAClDA,WAAW,IAAI,qDAAqDrB,aAAa,CAAC4G,YAAY,IAAI,KAAK,iBAAiB5G,aAAa,CAAC6G,eAAe,IAAI,SAAS,KAAKlG,SAAS,KAAKyE,IAAI,CAACnD,KAAK,QAAQ;YACvMZ,WAAW,IAAI,uDAAuDrB,aAAa,CAAC0G,cAAc,IAAI,KAAK,oBAAoB/F,SAAS,KAAKyE,IAAI,CAACrC,OAAO,QAAQ;YACjK1B,WAAW,IAAI,QAAQ;UAC3B,CAAC,CAAC;QACN;QACAjB,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,OAAO;QACRA,WAAW,IAAI,oCAAoCV,SAAS,kEAAkE;QAC9H,IAAI2C,KAAK,CAACC,OAAO,CAACvD,aAAa,CAAC8G,OAAO,CAAC,EAAE;UACtCzF,WAAW,IAAI,aAAa;UAC5BrB,aAAa,CAAC8G,OAAO,CAAClF,OAAO,CAAEmF,MAAM,IAAK;YACtC1F,WAAW,IAAI,uBAAuBrB,aAAa,CAACgH,aAAa,IAAI,KAAK,iBAAiBhH,aAAa,CAACiH,gBAAgB,IAAI,SAAS,KAAKtG,SAAS,KAAKoG,MAAM,OAAO;UAC1K,CAAC,CAAC;UACF1F,WAAW,IAAI,eAAe;QAClC;QACA,IAAIiC,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACkH,IAAI,CAAC,EAAE;UACnC7F,WAAW,IAAI,SAAS;UACxBrB,aAAa,CAACkH,IAAI,CAACtF,OAAO,CAAEuF,GAAG,IAAK;YAChC9F,WAAW,IAAI,MAAM;YACrB8F,GAAG,CAACvF,OAAO,CAAEwF,IAAI,IAAK;cAClB/F,WAAW,IAAI,uBAAuBrB,aAAa,CAACqH,WAAW,IAAI,KAAK,KAAK1G,SAAS,KAAKyG,IAAI,OAAO;YAC1G,CAAC,CAAC;YACF/F,WAAW,IAAI,OAAO;UAC1B,CAAC,CAAC;UACFA,WAAW,IAAI,UAAU;QAC7B;QACAjB,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,UAAU;QACzB;MACJ,KAAK,QAAQ;QACTA,WAAW,IAAI,oCAAoCV,SAAS,kEAAkE;QAC9H,IAAIX,aAAa,CAACiC,KAAK,EAAE;UACrBZ,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,GAAG,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,kBAAkBrC,aAAa,CAACsC,eAAe,IAAI,KAAK,MAAMtC,aAAa,CAACiC,KAAK,OAAO;QACzQ;QACA,IAAIqB,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACsH,SAAS,CAAC,EAAE;UACxCtH,aAAa,CAACsH,SAAS,CAAC1F,OAAO,CAAC,CAAC2F,QAAQ,EAAE5D,KAAK,KAAK;YACjDtC,WAAW,IAAI,uBAAuBrB,aAAa,CAACwH,cAAc,IAAI,OAAO,KAAK7G,SAAS,IAAI;YAC/FU,WAAW,IAAI,4BAA4BrB,aAAa,CAACyH,aAAa,IAAI,MAAM,YAAYzH,aAAa,CAAC0H,UAAU,IAAI,SAAS,MAAMH,QAAQ,CAAC1D,KAAK,UAAU;YAC/J,IAAI0D,QAAQ,CAACxH,IAAI,KAAK,MAAM,EAAE;cAC1BsB,WAAW,IAAI,mCAAmCkG,QAAQ,CAAC3D,WAAW,IAAI,SAAS,qBAAqB2D,QAAQ,CAAC5F,OAAO,IAAI,KAAK,oBAAoB4F,QAAQ,CAACtE,YAAY,IAAI,KAAK,aAAasE,QAAQ,CAACrE,MAAM,IAAI,gBAAgB,0CAA0CvC,SAAS,MAAM;YAChS,CAAC,MAAM,IAAI4G,QAAQ,CAACxH,IAAI,KAAK,OAAO,EAAE;cAClC,IAAIuD,KAAK,CAACC,OAAO,CAACgE,QAAQ,CAACI,OAAO,CAAC,EAAE;gBACjCJ,QAAQ,CAACI,OAAO,CAAC/F,OAAO,CAAEgG,MAAM,IAAK;kBACjCvG,WAAW,IAAI,kCAAkCkG,QAAQ,CAAC1D,KAAK,IAAIF,KAAK,YAAYiE,MAAM,YAAYjH,SAAS,QAAQiH,MAAM,QAAQ;gBACzI,CAAC,CAAC;cACN;YACJ;YACAvG,WAAW,IAAI,QAAQ;UAC3B,CAAC,CAAC;QACN;QACA,IAAIrB,aAAa,CAAC8D,UAAU,EAAE;UAC1BzC,WAAW,IAAI,4CAA4CrB,aAAa,CAAC+D,gBAAgB,IAAI,SAAS,YAAY/D,aAAa,CAACgE,WAAW,IAAI,MAAM,cAAchE,aAAa,CAACiE,aAAa,IAAI,UAAU,oBAAoBjE,aAAa,CAACkE,kBAAkB,IAAI,KAAK,aAAalE,aAAa,CAACmE,YAAY,IAAI,MAAM,iCAAiCnE,aAAa,CAACoE,cAAc,IAAI,MAAM,kBAAkBpE,aAAa,CAACqE,gBAAgB,IAAI,KAAK,MAAMrE,aAAa,CAAC8D,UAAU,WAAW;QACve;QACA1D,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,SAAS;QACxB;MACJ,KAAK,MAAM;QACPA,WAAW,IAAI,iCAAiCV,SAAS,KAAKX,aAAa,CAAC+C,OAAO,IAAI,4BAA4B,QAAQ;QAC3H3C,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACF;MACJ,KAAK,YAAY;QACbsB,WAAW,IAAI,uCAAuCV,SAAS,kEAAkE;QACjI,IAAI2C,KAAK,CAACC,OAAO,CAACvD,aAAa,CAACmF,KAAK,CAAC,EAAE;UACpCnF,aAAa,CAACmF,KAAK,CAACvD,OAAO,CAAEwD,IAAI,IAAK;YAClC/D,WAAW,IAAI,wBAAwBrB,aAAa,CAACyF,WAAW,IAAI,MAAM,iBAAiBzF,aAAa,CAAC0F,cAAc,IAAI,SAAS,oBAAoB1F,aAAa,CAAC2F,gBAAgB,IAAI,KAAK,iBAAiB3F,aAAa,CAAC4F,aAAa,IAAI,2BAA2B,KAAKjF,SAAS,0DAA0D;YAClV,IAAIyE,IAAI,CAACnD,KAAK,EAAE;cACZZ,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,SAAS,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,MAAM+C,IAAI,CAACnD,KAAK,OAAO;YAC9M;YACA,IAAImD,IAAI,CAACrC,OAAO,EAAE;cACd1B,WAAW,IAAI,wBAAwBrB,aAAa,CAACuE,eAAe,IAAI,MAAM,aAAavE,aAAa,CAACwE,aAAa,IAAI,GAAG,YAAYxE,aAAa,CAACyE,YAAY,IAAI,SAAS,MAAMW,IAAI,CAACrC,OAAO,MAAM;YAC5M;YACA1B,WAAW,IAAI,QAAQ;UAC3B,CAAC,CAAC;QACN;QACAjB,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,SAAS;QACVA,WAAW,IAAI,wCAAwCrB,aAAa,CAAC2C,KAAK,IAAI,SAAS,aAAa3C,aAAa,CAAC6H,SAAS,IAAI,KAAK,YAAY7H,aAAa,CAACV,KAAK,IAAI,MAAM,aAAaU,aAAa,CAAC4C,MAAM,IAAI,GAAG,KAAKjC,SAAS,MAAM;QACzO;MACJ,KAAK,QAAQ;QACTU,WAAW,IAAI,2BAA2BrB,aAAa,CAACR,UAAU,IAAI,aAAa,aAAaQ,aAAa,CAACU,MAAM,IAAI,MAAM,YAAYV,aAAa,CAACV,KAAK,IAAI,MAAM,KAAKqB,SAAS,UAAU;QAC/L;MACJ,KAAK,OAAO;QACRU,WAAW,IAAI,wBAAwBrB,aAAa,CAAC8H,OAAO,IAAI3H,MAAM,CAAC2H,OAAO,IAAI,MAAM,qBAAqB9H,aAAa,CAAC+B,SAAS,IAAI,QAAQ,UAAU/B,aAAa,CAACgC,GAAG,IAAI,MAAM,iBAAiBhC,aAAa,CAAC8C,SAAS,IAAI,QAAQ,cAAc9C,aAAa,CAAC2B,OAAO,IAAI,MAAM,iBAAiB3B,aAAa,CAACR,UAAU,IAAI,0BAA0B,oBAAoBQ,aAAa,CAACiD,YAAY,IAAI,MAAM,iBAAiBjD,aAAa,CAACsE,SAAS,IAAI,8BAA8B,cAAcnE,MAAM,CAAC4H,MAAM,IAAI,GAAG,KAAKpH,SAAS,kEAAkE;QACjlB,IAAIX,aAAa,CAACiC,KAAK,IAAI,CAAC7B,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,SAAS,CAAC,EAAE;UAC3EsB,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,GAAG,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,kBAAkBrC,aAAa,CAACsC,eAAe,IAAI,KAAK,MAAMtC,aAAa,CAACiC,KAAK,OAAO;QACzQ;QACA,IAAIjC,aAAa,CAAC+C,OAAO,IAAI,CAAC3C,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,WAAW,CAAC,EAAE;UAC/EsB,WAAW,IAAI,wBAAwBrB,aAAa,CAACuE,eAAe,IAAI,MAAM,aAAavE,aAAa,CAACwE,aAAa,IAAI,GAAG,YAAYxE,aAAa,CAACyE,YAAY,IAAI,SAAS,MAAMzE,aAAa,CAAC+C,OAAO,MAAM;QACrN;QACA,IAAI/C,aAAa,CAACwD,MAAM,IAAI,CAACpD,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,MAAM,CAAC,EAAE;UACzEC,aAAa,CAACwD,MAAM,CAAC5B,OAAO,CAAE8B,KAAK,IAAK;YACpCrC,WAAW,IAAI,gBAAgBqC,KAAK,CAAC3D,IAAI,IAAI,MAAM,kBAAkB2D,KAAK,CAACE,WAAW,IAAIF,KAAK,CAACG,KAAK,IAAI,SAAS,qBAAqBH,KAAK,CAAC/B,OAAO,IAAI,KAAK,oBAAoB+B,KAAK,CAACT,YAAY,IAAI,KAAK,aAAaS,KAAK,CAACR,MAAM,IAAI,gBAAgB,gBAAgBQ,KAAK,CAAChB,QAAQ,IAAI,MAAM,0CAA0C/B,SAAS,MAAM;UAC9V,CAAC,CAAC;QACN;QACA,IAAIX,aAAa,CAAC8D,UAAU,IAAI,CAAC1D,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,QAAQ,CAAC,EAAE;UAC/EsB,WAAW,IAAI,2BAA2BrB,aAAa,CAACiE,aAAa,IAAI,WAAW,oBAAoBjE,aAAa,CAACkE,kBAAkB,IAAI,KAAK,iBAAiBlE,aAAa,CAAC+D,gBAAgB,IAAI,SAAS,YAAY/D,aAAa,CAACgE,WAAW,IAAI,MAAM,aAAahE,aAAa,CAACmE,YAAY,IAAI,MAAM,iCAAiCnE,aAAa,CAACoE,cAAc,IAAI,MAAM,kBAAkBpE,aAAa,CAACqE,gBAAgB,IAAI,KAAK,MAAMrE,aAAa,CAAC8D,UAAU,WAAW;QAC1d;QACA1D,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ,KAAK,OAAO;QACRA,WAAW,IAAI,wBAAwBrB,aAAa,CAAC8H,OAAO,IAAI3H,MAAM,CAAC2H,OAAO,IAAI,MAAM,qBAAqB9H,aAAa,CAAC+B,SAAS,IAAI,QAAQ,UAAU/B,aAAa,CAACgC,GAAG,IAAI,MAAM,cAAchC,aAAa,CAAC2B,OAAO,IAAI,MAAM,iBAAiB3B,aAAa,CAACR,UAAU,IAAI,0BAA0B,oBAAoBQ,aAAa,CAACiD,YAAY,IAAI,MAAM,iBAAiBjD,aAAa,CAACsE,SAAS,IAAI,8BAA8B,cAAcnE,MAAM,CAAC4H,MAAM,IAAI,GAAG,KAAKpH,SAAS,kEAAkE;QAC7hB,IAAIX,aAAa,CAACiC,KAAK,IAAI,CAAC7B,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,SAAS,CAAC,EAAE;UAC3EsB,WAAW,IAAI,yBAAyBrB,aAAa,CAACmC,aAAa,IAAI,QAAQ,aAAanC,aAAa,CAACoC,WAAW,IAAI,GAAG,YAAYpC,aAAa,CAACqC,UAAU,IAAI,SAAS,kBAAkBrC,aAAa,CAACsC,eAAe,IAAI,KAAK,MAAMtC,aAAa,CAACiC,KAAK,OAAO;QACzQ;QACA,IAAIjC,aAAa,CAAC+C,OAAO,IAAI,CAAC3C,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,WAAW,CAAC,EAAE;UAC/EsB,WAAW,IAAI,wBAAwBrB,aAAa,CAACuE,eAAe,IAAI,MAAM,aAAavE,aAAa,CAACwE,aAAa,IAAI,GAAG,YAAYxE,aAAa,CAACyE,YAAY,IAAI,SAAS,MAAMzE,aAAa,CAAC+C,OAAO,MAAM;QACrN;QACA,IAAI/C,aAAa,CAACgI,WAAW,IAAI,CAAC5H,QAAQ,CAAC8B,IAAI,CAACL,KAAK,IAAI,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE9B,IAAI,MAAK,QAAQ,CAAC,EAAE;UAChFsB,WAAW,IAAI,2BAA2BrB,aAAa,CAACiE,aAAa,IAAI,UAAU,oBAAoBjE,aAAa,CAACkE,kBAAkB,IAAI,KAAK,iBAAiBlE,aAAa,CAAC+D,gBAAgB,IAAI,SAAS,YAAY/D,aAAa,CAACgE,WAAW,IAAI,MAAM,aAAahE,aAAa,CAACmE,YAAY,IAAI,MAAM,uDAAuDnE,aAAa,CAACoE,cAAc,IAAI,MAAM,kBAAkBpE,aAAa,CAACqE,gBAAgB,IAAI,KAAK,MAAMrE,aAAa,CAAC8D,UAAU,IAAI,MAAM,WAAW;QACzf;QACA1D,QAAQ,CAACwB,OAAO,CAAEC,KAAK,IAAK;UACxBR,WAAW,IAAI3B,aAAa,CAACmC,KAAK,EAAE,IAAI,EAAE9B,IAAI,CAAC;QACnD,CAAC,CAAC;QACFsB,WAAW,IAAI,QAAQ;QACvB;MACJ;QACI;QACArC,OAAO,CAACiJ,IAAI,CAAC,oCAAoClI,IAAI,EAAE,EAAE;UAAEJ;QAAQ,CAAC,CAAC;QACrE,OAAO,EAAE;IACjB;IAEA0B,WAAW,IAAI,QAAQ;IACvB,OAAOA,WAAW;EACtB,CAAC;;EAED;EACA,IAAIiC,KAAK,CAACC,OAAO,CAAC1E,QAAQ,CAACqJ,QAAQ,CAAC,EAAE;IAClCrJ,QAAQ,CAACqJ,QAAQ,CAACtG,OAAO,CAAEjC,OAAO,IAAK;MACnCF,IAAI,IAAIC,aAAa,CAACC,OAAO,CAAC;IAClC,CAAC,CAAC;EACN,CAAC,MAAM;IACHX,OAAO,CAACiJ,IAAI,CAAC,oCAAoC,EAAEpJ,QAAQ,CAACqJ,QAAQ,CAAC;IACrEzI,IAAI,IAAI,0HAA0H;EACtI;EAEAA,IAAI,IAAI;AACZ;AACA;AACA;AACA,KAAK;EAEDT,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEQ,IAAI,CAAC;EACpC,OAAOA,IAAI,CAAC0I,IAAI,CAAC,CAAC;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}