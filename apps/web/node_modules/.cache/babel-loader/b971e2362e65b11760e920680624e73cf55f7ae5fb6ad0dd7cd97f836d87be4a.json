{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\CreateLanding.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport jwtDecode from \"jwt-decode\";\nimport api from \"@landinghub/api\";\nimport DogLoader from \"../components/DogLoader\";\nimport \"grapesjs/dist/css/grapes.min.css\";\nimport grapesjs from \"grapesjs\";\nimport \"grapesjs-blocks-basic\";\nimport \"../styles/CreateLanding.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateLandingPage = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [pageDescription, setPageDescription] = useState(\"\");\n  const [saveTime, setSaveTime] = useState(null);\n  const [aiModalOpen, setAiModalOpen] = useState(false);\n  const [aiHtml, setAiHtml] = useState(\"\");\n  const [aiThumbnail, setAiThumbnail] = useState(\"\");\n  const editorRef = useRef(null);\n  const editorContainerRef = useRef(null);\n  const navigate = useNavigate();\n\n  // --- Auth check ---\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/auth\");\n      return;\n    }\n    try {\n      const decoded = jwtDecode(token);\n      if (!decoded.userId) throw new Error(\"Invalid token\");\n      api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    } catch {\n      navigate(\"/auth\");\n    }\n  }, [navigate]);\n\n  // --- Init GrapesJS ---\n  useEffect(() => {\n    if (!editorRef.current) {\n      editorRef.current = grapesjs.init({\n        container: editorContainerRef.current,\n        height: \"70vh\",\n        fromElement: false,\n        storageManager: false,\n        plugins: [],\n        blockManager: {\n          appendTo: \"#blocks-panel\"\n        }\n      });\n\n      // Auto-save khi thay ƒë·ªïi\n      [\"update\", \"component:add\", \"component:remove\"].forEach(event => editorRef.current.on(event, handleAutoSave));\n    }\n  }, []);\n\n  // --- Auto save ---\n  const handleAutoSave = async () => {\n    if (!editorRef.current) return;\n    const html = editorRef.current.getHtml();\n    const css = editorRef.current.getCss();\n    try {\n      await api.post(\"/api/pages/auto-save\", {\n        html,\n        css\n      });\n      setSaveTime(new Date().toLocaleTimeString());\n    } catch (err) {\n      console.error(\"Auto save error:\", err);\n    }\n  };\n\n  // --- Reload editor ---\n  const handleReloadEditor = () => {\n    if (editorRef.current) {\n      editorRef.current.destroy();\n      editorRef.current = null;\n      window.location.reload();\n    }\n  };\n\n  // --- Export HTML ---\n  const handleExportHTML = () => {\n    if (!editorRef.current) return;\n    const html = editorRef.current.getHtml();\n    const css = editorRef.current.getCss();\n    const fullHtml = `<html><head><style>${css}</style></head><body>${html}</body></html>`;\n    const blob = new Blob([fullHtml], {\n      type: \"text/html\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"landing-page.html\";\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // --- AI Refactor ---\n  const handleAiRefactor = async () => {\n    if (!editorRef.current) return;\n    const originalHtml = editorRef.current.getHtml();\n    try {\n      const response = await api.post(\"/api/pages/ai-refactor\", {\n        html: originalHtml\n      });\n      setAiHtml(response.data.html);\n      setAiThumbnail(response.data.thumbnail);\n      setAiModalOpen(true);\n    } catch (err) {\n      console.error(\"AI Refactor error:\", err);\n      setError(\"L·ªói khi g·ªçi AI Refactor\");\n    }\n  };\n  const handleAcceptAi = () => {\n    if (!editorRef.current) return;\n    editorRef.current.setComponents(aiHtml);\n    handleAutoSave();\n    setAiModalOpen(false);\n  };\n\n  // --- Create page API ---\n  const handleCreatePage = async () => {\n    if (!pageDescription) {\n      setError(\"Vui l√≤ng nh·∫≠p m√¥ t·∫£ landing page\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await api.post(\"/api/pages\", {\n        description: pageDescription\n      });\n      editorRef.current.setComponents(response.data.html || \"\");\n      navigate(`/pages/edit/${response.data.id}`, {\n        state: {\n          page: response.data,\n          isNew: true\n        }\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Create error:\", err);\n      setError(\"L·ªói khi t·∫°o landing page: \" + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(DogLoader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-landing-page flex gap-4 p-4 max-w-7xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"blocks-panel\",\n      className: \"border p-2 rounded w-60 bg-white h-[70vh] overflow-y-auto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/pages\"),\n          className: \"btn-secondary\",\n          children: \"\\u2190 Quay l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: \"T\\u1EA1o Landing Page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error p-2 bg-red-100 text-red-800 rounded\",\n        children: [error, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(null),\n          children: \"\\u0110\\xF3ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: pageDescription,\n          onChange: e => setPageDescription(e.target.value),\n          rows: 4,\n          placeholder: \"Nh\\u1EADp m\\xF4 t\\u1EA3 chi ti\\u1EBFt v\\u1EC1 landing page...\",\n          className: \"textarea p-2 border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCreatePage,\n            className: \"btn-primary\",\n            children: \"\\u2728 T\\u1EA1o Landing Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleExportHTML,\n            className: \"btn-primary\",\n            children: \"\\uD83D\\uDCBF Xu\\u1EA5t HTML\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleReloadEditor,\n            className: \"btn-danger\",\n            children: \"\\uD83D\\uDD01 Reload Editor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAiRefactor,\n            className: \"btn-primary\",\n            children: \"\\uD83E\\uDD16 AI Refactor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), saveTime && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"save-time\",\n            children: [\"\\u23F0 L\\u1EA7n l\\u01B0u cu\\u1ED1i: \", saveTime]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: editorContainerRef,\n        className: \"editor-section border rounded min-h-[400px]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), aiModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-preview-modal fixed inset-0 bg-black/50 flex justify-center items-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-preview-content bg-white p-4 rounded max-w-5xl w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold mb-2\",\n            children: \"AI Refactor Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ai-preview flex-1 border p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"B\\u1EA3n g\\u1ED1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                dangerouslySetInnerHTML: {\n                  __html: editorRef.current.getHtml()\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ai-preview flex-1 border p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"AI Refactor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 37\n              }, this), aiThumbnail && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: aiThumbnail,\n                alt: \"Thumbnail\",\n                className: \"mb-2 w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                dangerouslySetInnerHTML: {\n                  __html: aiHtml\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-actions flex justify-end gap-2 mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setAiModalOpen(false),\n              className: \"btn-secondary\",\n              children: \"H\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAcceptAi,\n              className: \"btn-success\",\n              children: \"\\u0110\\u1ED3ng \\xFD AI Refactor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 9\n  }, this);\n};\n_s(CreateLandingPage, \"r4NtaAlAnR86SCnNHs5Rf5yIXnI=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateLandingPage;\nexport default CreateLandingPage;\nvar _c;\n$RefreshReg$(_c, \"CreateLandingPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jwtDecode","api","DogLoader","grapesjs","jsxDEV","_jsxDEV","CreateLandingPage","_s","loading","setLoading","error","setError","pageDescription","setPageDescription","saveTime","setSaveTime","aiModalOpen","setAiModalOpen","aiHtml","setAiHtml","aiThumbnail","setAiThumbnail","editorRef","editorContainerRef","navigate","token","localStorage","getItem","decoded","userId","Error","defaults","headers","common","current","init","container","height","fromElement","storageManager","plugins","blockManager","appendTo","forEach","event","on","handleAutoSave","html","getHtml","css","getCss","post","Date","toLocaleTimeString","err","console","handleReloadEditor","destroy","window","location","reload","handleExportHTML","fullHtml","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","handleAiRefactor","originalHtml","response","data","thumbnail","handleAcceptAi","setComponents","handleCreatePage","description","id","state","page","isNew","_err$response","_err$response$data","msg","message","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","value","onChange","e","target","rows","placeholder","ref","dangerouslySetInnerHTML","__html","src","alt","_c","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/CreateLanding.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport api from \"@landinghub/api\";\r\nimport DogLoader from \"../components/DogLoader\";\r\nimport \"grapesjs/dist/css/grapes.min.css\";\r\nimport grapesjs from \"grapesjs\";\r\nimport \"grapesjs-blocks-basic\";\r\nimport \"../styles/CreateLanding.css\";\r\n\r\nconst CreateLandingPage = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [pageDescription, setPageDescription] = useState(\"\");\r\n    const [saveTime, setSaveTime] = useState(null);\r\n    const [aiModalOpen, setAiModalOpen] = useState(false);\r\n    const [aiHtml, setAiHtml] = useState(\"\");\r\n    const [aiThumbnail, setAiThumbnail] = useState(\"\");\r\n    const editorRef = useRef(null);\r\n    const editorContainerRef = useRef(null);\r\n    const navigate = useNavigate();\r\n\r\n    // --- Auth check ---\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (!token) {\r\n            navigate(\"/auth\");\r\n            return;\r\n        }\r\n        try {\r\n            const decoded = jwtDecode(token);\r\n            if (!decoded.userId) throw new Error(\"Invalid token\");\r\n            api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n        } catch {\r\n            navigate(\"/auth\");\r\n        }\r\n    }, [navigate]);\r\n\r\n    // --- Init GrapesJS ---\r\n    useEffect(() => {\r\n        if (!editorRef.current) {\r\n            editorRef.current = grapesjs.init({\r\n                container: editorContainerRef.current,\r\n                height: \"70vh\",\r\n                fromElement: false,\r\n                storageManager: false,\r\n                plugins: [],\r\n                blockManager: {\r\n                    appendTo: \"#blocks-panel\",\r\n                },\r\n            });\r\n\r\n            // Auto-save khi thay ƒë·ªïi\r\n            [\"update\", \"component:add\", \"component:remove\"].forEach((event) =>\r\n                editorRef.current.on(event, handleAutoSave)\r\n            );\r\n        }\r\n    }, []);\r\n\r\n    // --- Auto save ---\r\n    const handleAutoSave = async () => {\r\n        if (!editorRef.current) return;\r\n        const html = editorRef.current.getHtml();\r\n        const css = editorRef.current.getCss();\r\n        try {\r\n            await api.post(\"/api/pages/auto-save\", { html, css });\r\n            setSaveTime(new Date().toLocaleTimeString());\r\n        } catch (err) {\r\n            console.error(\"Auto save error:\", err);\r\n        }\r\n    };\r\n\r\n    // --- Reload editor ---\r\n    const handleReloadEditor = () => {\r\n        if (editorRef.current) {\r\n            editorRef.current.destroy();\r\n            editorRef.current = null;\r\n            window.location.reload();\r\n        }\r\n    };\r\n\r\n    // --- Export HTML ---\r\n    const handleExportHTML = () => {\r\n        if (!editorRef.current) return;\r\n        const html = editorRef.current.getHtml();\r\n        const css = editorRef.current.getCss();\r\n        const fullHtml = `<html><head><style>${css}</style></head><body>${html}</body></html>`;\r\n        const blob = new Blob([fullHtml], { type: \"text/html\" });\r\n        const url = URL.createObjectURL(blob);\r\n        const a = document.createElement(\"a\");\r\n        a.href = url;\r\n        a.download = \"landing-page.html\";\r\n        a.click();\r\n        URL.revokeObjectURL(url);\r\n    };\r\n\r\n    // --- AI Refactor ---\r\n    const handleAiRefactor = async () => {\r\n        if (!editorRef.current) return;\r\n        const originalHtml = editorRef.current.getHtml();\r\n        try {\r\n            const response = await api.post(\"/api/pages/ai-refactor\", { html: originalHtml });\r\n            setAiHtml(response.data.html);\r\n            setAiThumbnail(response.data.thumbnail);\r\n            setAiModalOpen(true);\r\n        } catch (err) {\r\n            console.error(\"AI Refactor error:\", err);\r\n            setError(\"L·ªói khi g·ªçi AI Refactor\");\r\n        }\r\n    };\r\n\r\n    const handleAcceptAi = () => {\r\n        if (!editorRef.current) return;\r\n        editorRef.current.setComponents(aiHtml);\r\n        handleAutoSave();\r\n        setAiModalOpen(false);\r\n    };\r\n\r\n    // --- Create page API ---\r\n    const handleCreatePage = async () => {\r\n        if (!pageDescription) {\r\n            setError(\"Vui l√≤ng nh·∫≠p m√¥ t·∫£ landing page\");\r\n            return;\r\n        }\r\n        try {\r\n            setLoading(true);\r\n            const response = await api.post(\"/api/pages\", { description: pageDescription });\r\n            editorRef.current.setComponents(response.data.html || \"\");\r\n            navigate(`/pages/edit/${response.data.id}`, {\r\n                state: { page: response.data, isNew: true },\r\n            });\r\n        } catch (err) {\r\n            console.error(\"Create error:\", err);\r\n            setError(\"L·ªói khi t·∫°o landing page: \" + (err.response?.data?.msg || err.message));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (loading) return <DogLoader />;\r\n\r\n    return (\r\n        <div className=\"create-landing-page flex gap-4 p-4 max-w-7xl mx-auto\">\r\n            {/* Block Panel */}\r\n            <div id=\"blocks-panel\" className=\"border p-2 rounded w-60 bg-white h-[70vh] overflow-y-auto\" />\r\n\r\n            {/* Main Editor Area */}\r\n            <div className=\"flex-1 flex flex-col gap-4\">\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                    <button onClick={() => navigate(\"/pages\")} className=\"btn-secondary\">‚Üê Quay l·∫°i</button>\r\n                    <h1 className=\"text-2xl font-bold\">T·∫°o Landing Page</h1>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"error p-2 bg-red-100 text-red-800 rounded\">\r\n                        {error} <button onClick={() => setError(null)}>ƒê√≥ng</button>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"flex flex-col gap-2\">\r\n          <textarea\r\n              value={pageDescription}\r\n              onChange={(e) => setPageDescription(e.target.value)}\r\n              rows={4}\r\n              placeholder=\"Nh·∫≠p m√¥ t·∫£ chi ti·∫øt v·ªÅ landing page...\"\r\n              className=\"textarea p-2 border rounded\"\r\n          />\r\n                    <div className=\"flex gap-2 items-center\">\r\n                        <button onClick={handleCreatePage} className=\"btn-primary\">‚ú® T·∫°o Landing Page</button>\r\n                        <button onClick={handleExportHTML} className=\"btn-primary\">üíø Xu·∫•t HTML</button>\r\n                        <button onClick={handleReloadEditor} className=\"btn-danger\">üîÅ Reload Editor</button>\r\n                        <button onClick={handleAiRefactor} className=\"btn-primary\">ü§ñ AI Refactor</button>\r\n                        {saveTime && <span className=\"save-time\">‚è∞ L·∫ßn l∆∞u cu·ªëi: {saveTime}</span>}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* GrapesJS Editor */}\r\n                <div ref={editorContainerRef} className=\"editor-section border rounded min-h-[400px]\" />\r\n\r\n                {/* AI Modal */}\r\n                {aiModalOpen && (\r\n                    <div className=\"ai-preview-modal fixed inset-0 bg-black/50 flex justify-center items-center z-50\">\r\n                        <div className=\"ai-preview-content bg-white p-4 rounded max-w-5xl w-full\">\r\n                            <h2 className=\"text-xl font-bold mb-2\">AI Refactor Preview</h2>\r\n                            <div className=\"flex gap-4\">\r\n                                <div className=\"ai-preview flex-1 border p-2\">\r\n                                    <h3>B·∫£n g·ªëc</h3>\r\n                                    <div dangerouslySetInnerHTML={{ __html: editorRef.current.getHtml() }} />\r\n                                </div>\r\n                                <div className=\"ai-preview flex-1 border p-2\">\r\n                                    <h3>AI Refactor</h3>\r\n                                    {aiThumbnail && <img src={aiThumbnail} alt=\"Thumbnail\" className=\"mb-2 w-full\" />}\r\n                                    <div dangerouslySetInnerHTML={{ __html: aiHtml }} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"ai-actions flex justify-end gap-2 mt-2\">\r\n                                <button onClick={() => setAiModalOpen(false)} className=\"btn-secondary\">H·ªßy</button>\r\n                                <button onClick={handleAcceptAi} className=\"btn-success\">ƒê·ªìng √Ω AI Refactor</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateLandingPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}