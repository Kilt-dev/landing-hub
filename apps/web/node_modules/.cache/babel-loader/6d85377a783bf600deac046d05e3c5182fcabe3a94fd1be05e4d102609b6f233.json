{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\CreateLanding.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport api from \"@landinghub/api\";\nimport DogLoader from \"../components/DogLoader\";\nimport \"grapesjs/dist/css/grapes.min.css\";\nimport grapesjs from \"grapesjs\";\nimport \"grapesjs-preset-webpage\";\nimport \"grapesjs-blocks-basic\";\nimport \"../styles/CreateLanding.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  jwtDecode\n} = require(\"jwt-decode\");\nconst CreateLandingPage = () => {\n  _s();\n  // State management (unchanged)\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [pageDescription, setPageDescription] = useState(\"\");\n  const [saveTime, setSaveTime] = useState(null);\n  const [aiModalOpen, setAiModalOpen] = useState(false);\n  const [aiHtml, setAiHtml] = useState(\"\");\n  const [aiThumbnail, setAiThumbnail] = useState(\"\");\n  const [aiImprovements, setAiImprovements] = useState([]);\n  const [originalHtml, setOriginalHtml] = useState(\"\");\n  const [isAutoSaving, setIsAutoSaving] = useState(false);\n  const [currentPage, setCurrentPage] = useState(null);\n  const [previewMode, setPreviewMode] = useState(false);\n  const [selectedDevice, setSelectedDevice] = useState(\"desktop\");\n  const [showShortcuts, setShowShortcuts] = useState(false);\n\n  // Refs (unchanged)\n  const editorRef = useRef(null);\n  const editorContainerRef = useRef(null);\n  const autoSaveTimeoutRef = useRef(null);\n  const navigate = useNavigate();\n  const {\n    pageId\n  } = useParams();\n\n  // Auth check (unchanged)\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/auth\", {\n        state: {\n          from: location.pathname\n        }\n      });\n      return;\n    }\n    try {\n      const decoded = jwtDecode(token);\n      const currentTime = Date.now() / 1000;\n      if (!decoded.userId) throw new Error(\"Invalid token - missing userId\");\n      if (decoded.exp < currentTime) throw new Error(\"Token expired\");\n      api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    } catch (err) {\n      console.error(\"Auth error:\", err.message);\n      localStorage.removeItem(\"token\");\n      navigate(\"/auth\", {\n        state: {\n          from: location.pathname,\n          error: \"Session expired\"\n        }\n      });\n    }\n  }, [navigate]);\n\n  // Load existing page (unchanged)\n  useEffect(() => {\n    if (pageId) {\n      loadExistingPage();\n    }\n  }, [pageId]);\n  const loadExistingPage = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(`/api/pages/${pageId}/content`);\n      setCurrentPage(response.data);\n      if (editorRef.current && response.data.html) {\n        var _doc$head$querySelect;\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(response.data.html, \"text/html\");\n        const bodyContent = doc.body.innerHTML;\n        const styleContent = ((_doc$head$querySelect = doc.head.querySelector(\"style\")) === null || _doc$head$querySelect === void 0 ? void 0 : _doc$head$querySelect.innerHTML) || \"\";\n        editorRef.current.setComponents(bodyContent);\n        editorRef.current.setCss(styleContent);\n        setPageDescription(response.data.name || \"\");\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Load page error:\", err);\n      setError(\"Không thể tải nội dung trang: \" + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Enhanced GrapesJS initialization with full-screen canvas\n  useEffect(() => {\n    if (!editorRef.current && editorContainerRef.current) {\n      try {\n        editorRef.current = grapesjs.init({\n          container: editorContainerRef.current,\n          height: \"100vh\",\n          // Full-screen height\n          width: \"100%\",\n          // Full-screen width\n          fromElement: false,\n          storageManager: false,\n          plugins: [\"gjs-blocks-basic\", \"gjs-preset-webpage\"],\n          pluginsOpts: {\n            \"gjs-blocks-basic\": {\n              blocks: [\"column1\", \"column2\", \"column3\", \"text\", \"link\", \"image\", \"video\"]\n            },\n            \"gjs-preset-webpage\": {\n              modalImportTitle: \"Import Template\",\n              modalImportLabel: '<div style=\"margin-bottom: 10px; font-size: 13px;\">Paste here your HTML/CSS and click Import</div>',\n              modalImportContent: function (editor) {\n                return editor.getHtml() + \"<style>\" + editor.getCss() + \"</style>\";\n              }\n            }\n          },\n          canvas: {\n            styles: [\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\"],\n            scripts: []\n          },\n          blockManager: {\n            appendTo: \".toolbox-container\" // Moved to left panel\n          },\n          styleManager: {\n            appendTo: \".styles-container\" // Right panel\n          },\n          layerManager: {\n            appendTo: \".layers-container\" // Right panel\n          },\n          deviceManager: {\n            devices: [{\n              name: \"Desktop\",\n              width: \"\",\n              id: \"desktop\"\n            }, {\n              name: \"Tablet\",\n              width: \"768px\",\n              widthMedia: \"992px\",\n              id: \"tablet\"\n            }, {\n              name: \"Mobile portrait\",\n              width: \"320px\",\n              widthMedia: \"768px\",\n              id: \"mobilePortrait\"\n            }]\n          },\n          panels: {\n            defaults: [{\n              id: \"styles\",\n              el: \".styles-container\",\n              resizable: {\n                maxDim: 350,\n                minDim: 200,\n                tc: 0,\n                cl: 1,\n                cr: 0,\n                bc: 0,\n                keyWidth: \"flex-basis\"\n              }\n            }, {\n              id: \"layers\",\n              el: \".layers-container\",\n              resizable: {\n                maxDim: 350,\n                minDim: 200,\n                tc: 0,\n                cl: 1,\n                cr: 0,\n                bc: 0,\n                keyWidth: \"flex-basis\"\n              }\n            }]\n          }\n        });\n        const debouncedAutoSave = debounce(() => handleAutoSave(), 800);\n        [\"update\", \"component:add\", \"component:remove\", \"component:update\"].forEach(event => editorRef.current.on(event, debouncedAutoSave));\n        editorRef.current.on(\"device:select\", device => setSelectedDevice(device.get(\"id\")));\n        loadDraft();\n      } catch (err) {\n        console.error(\"GrapesJS initialization error:\", err);\n        setError(\"Lỗi khởi tạo editor: \" + err.message);\n      }\n    }\n    return () => {\n      if (autoSaveTimeoutRef.current) clearTimeout(autoSaveTimeoutRef.current);\n    };\n  }, []);\n\n  // Debounce utility (unchanged)\n  const debounce = (func, wait) => {\n    return (...args) => {\n      clearTimeout(autoSaveTimeoutRef.current);\n      autoSaveTimeoutRef.current = setTimeout(() => func.apply(this, args), wait);\n    };\n  };\n\n  // Load draft (unchanged)\n  const loadDraft = useCallback(async () => {\n    try {\n      const draftKey = pageId ? `draft_${pageId}` : \"draft_new\";\n      const savedDraft = localStorage.getItem(draftKey);\n      if (savedDraft) {\n        const draft = JSON.parse(savedDraft);\n        const timeDiff = Date.now() - new Date(draft.timestamp).getTime();\n        if (timeDiff < 24 * 60 * 60 * 1000 && editorRef.current) {\n          if (draft.html) editorRef.current.setComponents(draft.html);\n          if (draft.css) editorRef.current.setCss(draft.css);\n          setSuccess(\"Đã khôi phục bản nháp đã lưu\");\n        }\n      }\n    } catch (err) {\n      console.warn(\"Load draft error:\", err);\n    }\n  }, [pageId]);\n\n  // Handle auto-save (unchanged)\n  const handleAutoSave = useCallback(async () => {\n    if (!editorRef.current || isAutoSaving) return;\n    setIsAutoSaving(true);\n    try {\n      const html = editorRef.current.getHtml();\n      const css = editorRef.current.getCss();\n      const draftKey = pageId ? `draft_${pageId}` : \"draft_new\";\n      const draft = {\n        html,\n        css,\n        timestamp: new Date().toISOString()\n      };\n      localStorage.setItem(draftKey, JSON.stringify(draft));\n      if (pageId) {\n        await api.post(\"/api/pages/auto-save\", {\n          html,\n          css,\n          pageId\n        });\n      }\n      setSaveTime(new Date().toLocaleTimeString(\"vi-VN\"));\n    } catch (err) {\n      console.warn(\"Auto save error:\", err);\n    } finally {\n      setIsAutoSaving(false);\n    }\n  }, [pageId, isAutoSaving]);\n\n  // Clear messages (unchanged)\n  useEffect(() => {\n    if (error || success) {\n      const timer = setTimeout(() => {\n        setError(null);\n        setSuccess(null);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [error, success]);\n\n  // Handle reload editor (unchanged)\n  const handleReloadEditor = useCallback(() => {\n    if (editorRef.current) {\n      editorRef.current.destroy();\n      editorRef.current = null;\n      window.location.reload();\n    }\n  }, []);\n\n  // Handle export HTML (unchanged)\n  const handleExportHTML = useCallback(() => {\n    if (!editorRef.current) return;\n    try {\n      const html = editorRef.current.getHtml();\n      const css = editorRef.current.getCss();\n      const fullHtml = `<!DOCTYPE html>\n<html lang=\"vi\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta name=\"description\" content=\"${pageDescription || 'Landing Page tạo bởi LandingHub'}\">\n    <title>${pageDescription || 'Landing Page'}</title>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\">\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; }\n        ${css}\n    </style>\n</head>\n<body>\n    ${html}\n    <script>\n        console.log('Landing page loaded at:', new Date());\n        document.querySelectorAll('form').forEach(form => {\n            form.addEventListener('submit', function(e) {\n                e.preventDefault();\n                alert('Form submitted! (Demo mode)');\n                console.log('Form data:', new FormData(this));\n            });\n        });\n        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n            anchor.addEventListener('click', function (e) {\n                e.preventDefault();\n                const target = document.querySelector(this.getAttribute('href'));\n                if (target) target.scrollIntoView({ behavior: 'smooth' });\n            });\n        });\n    </script>\n</body>\n</html>`;\n      const blob = new Blob([fullHtml], {\n        type: \"text/html;charset=utf-8\"\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `${pageDescription || \"landing-page\"}.html`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      setSuccess(\"Đã xuất file HTML thành công!\");\n    } catch (err) {\n      console.error(\"Export error:\", err);\n      setError(\"Lỗi khi xuất HTML: \" + err.message);\n    }\n  }, [pageDescription]);\n\n  // Handle AI refactor (unchanged)\n  const handleAiRefactor = useCallback(async () => {\n    if (!editorRef.current) return;\n    try {\n      setLoading(true);\n      const html = editorRef.current.getHtml();\n      const css = editorRef.current.getCss();\n      const fullContent = html + (css ? `<style>${css}</style>` : \"\");\n      setOriginalHtml(fullContent);\n      const response = await api.post(\"/api/pages/ai-refactor\", {\n        html: fullContent\n      });\n      setAiHtml(response.data.html);\n      setAiThumbnail(response.data.thumbnail);\n      setAiImprovements(response.data.improvements || []);\n      setAiModalOpen(true);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error(\"AI Refactor error:\", err);\n      setError(\"Lỗi khi gọi AI Refactor: \" + (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Handle accept AI (unchanged)\n  const handleAcceptAi = useCallback(() => {\n    if (!editorRef.current || !aiHtml) return;\n    try {\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(aiHtml, \"text/html\");\n      const bodyContent = doc.body.innerHTML;\n      const styleElement = doc.head.querySelector(\"style\");\n      const cssContent = styleElement ? styleElement.innerHTML : \"\";\n      editorRef.current.setComponents(bodyContent);\n      if (cssContent) editorRef.current.setCss(cssContent);\n      handleAutoSave();\n      setAiModalOpen(false);\n      setSuccess(\"Đã áp dụng AI Refactor thành công!\");\n    } catch (err) {\n      console.error(\"Apply AI error:\", err);\n      setError(\"Lỗi khi áp dụng AI refactor: \" + err.message);\n    }\n  }, [aiHtml, handleAutoSave]);\n\n  // Handle create page (unchanged)\n  const handleCreatePage = useCallback(async () => {\n    if (!(pageDescription !== null && pageDescription !== void 0 && pageDescription.trim())) {\n      setError(\"Vui lòng nhập mô tả landing page\");\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await api.post(\"/api/pages\", {\n        description: pageDescription.trim()\n      });\n      if (response.data.html && editorRef.current) {\n        var _doc$head$querySelect2;\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(response.data.html, \"text/html\");\n        const bodyContent = doc.body.innerHTML;\n        const styleContent = ((_doc$head$querySelect2 = doc.head.querySelector(\"style\")) === null || _doc$head$querySelect2 === void 0 ? void 0 : _doc$head$querySelect2.innerHTML) || \"\";\n        editorRef.current.setComponents(bodyContent);\n        if (styleContent) editorRef.current.setCss(styleContent);\n      }\n      setCurrentPage(response.data);\n      setSuccess(\"Tạo landing page thành công!\");\n      navigate(`/pages/edit/${response.data.id}`, {\n        state: {\n          page: response.data,\n          isNew: true\n        },\n        replace: true\n      });\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(\"Create error:\", err);\n      setError(\"Lỗi khi tạo landing page: \" + (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  }, [pageDescription, navigate]);\n\n  // Handle save page (unchanged)\n  const handleSavePage = useCallback(async () => {\n    if (!editorRef.current) return;\n    try {\n      setLoading(true);\n      const html = editorRef.current.getHtml();\n      const css = editorRef.current.getCss();\n      const fullHtml = `<!DOCTYPE html>\n<html lang=\"vi\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>${pageDescription || \"Landing Page\"}</title>\n    <style>${css}</style>\n</head>\n<body>\n    ${html}\n</body>\n</html>`;\n      let response;\n      if (pageId) {\n        response = await api.put(`/api/pages/${pageId}`, {\n          html: fullHtml\n        });\n      } else {\n        response = await api.post(\"/api/pages/save\", {\n          html: fullHtml\n        });\n      }\n      setCurrentPage(response.data);\n      setSaveTime(new Date().toLocaleTimeString(\"vi-VN\"));\n      setSuccess(\"Đã lưu trang thành công!\");\n      const draftKey = pageId ? `draft_${pageId}` : \"draft_new\";\n      localStorage.removeItem(draftKey);\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error(\"Save error:\", err);\n      setError(\"Lỗi khi lưu trang: \" + (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  }, [pageId, pageDescription]);\n\n  // Handle preview page (unchanged)\n  const handlePreviewPage = useCallback(() => {\n    if (!editorRef.current) return;\n    const html = editorRef.current.getHtml();\n    const css = editorRef.current.getCss();\n    const previewWindow = window.open(\"\", \"_blank\");\n    previewWindow.document.write(`\n      <!DOCTYPE html>\n      <html lang=\"vi\">\n      <head>\n          <meta charset=\"UTF-8\">\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n          <title>Preview - ${pageDescription || \"Landing Page\"}</title>\n          <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\">\n          <style>\n              * { margin: 0; padding: 0; box-sizing: border-box; }\n              body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; }\n              ${css}\n          </style>\n      </head>\n      <body>\n          ${html}\n          <div style=\"position: fixed; top: 10px; right: 10px; background: #007bff; color: white; padding: 10px 15px; border-radius: 25px; z-index: 9999; font-size: 14px; box-shadow: 0 4px 12px rgba(0,123,255,0.3);\">\n              <i class=\"fa fa-eye\"></i> Preview Mode\n          </div>\n          <script>\n              document.querySelectorAll('form').forEach(form => {\n                  form.addEventListener('submit', function(e) {\n                      e.preventDefault();\n                      alert('Form submission (Preview mode)');\n                  });\n              });\n          </script>\n      </body>\n      </html>\n    `);\n    previewWindow.document.close();\n  }, [pageDescription]);\n\n  // Handle publish page (unchanged)\n  const handlePublishPage = useCallback(async () => {\n    if (!pageId) {\n      setError(\"Vui lòng lưu trang trước khi xuất bản\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await api.post(`/api/pages/${pageId}/publish`);\n      setCurrentPage(response.data);\n      setSuccess(`Trang đã được xuất bản tại: ${response.data.url}`);\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      console.error(\"Publish error:\", err);\n      setError(\"Lỗi khi xuất bản: \" + (((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.error) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  }, [pageId]);\n\n  // Handle select template (unchanged)\n  const handleSelectTemplate = useCallback(templateId => {\n    if (!editorRef.current) return;\n    const templates = {\n      blank: {\n        html: \"<div>Bắt đầu từ trang trống</div>\",\n        css: \"\"\n      },\n      business: {\n        html: `\n          <div style=\"min-height: 100vh;\">\n              <header style=\"background: #2c3e50; color: white; padding: 20px 0; text-align: center;\">\n                  <h1>Doanh Nghiệp Của Bạn</h1>\n                  <p>Giải pháp chuyên nghiệp cho mọi nhu cầu</p>\n              </header>\n              <main style=\"padding: 60px 20px; text-align: center;\">\n                  <h2>Chào mừng đến với dịch vụ của chúng tôi</h2>\n                  <p style=\"margin: 20px 0; color: #666;\">Chúng tôi cung cấp giải pháp tốt nhất cho doanh nghiệp của bạn</p>\n                  <button style=\"background: #3498db; color: white; padding: 15px 30px; border: none; border-radius: 5px; font-size: 16px;\">Liên hệ ngay</button>\n              </main>\n          </div>\n        `,\n        css: `\n          body { font-family: 'Arial', sans-serif; margin: 0; }\n          button:hover { background: #2980b9 !important; }\n        `\n      },\n      portfolio: {\n        html: `\n          <div style=\"min-height: 100vh; background: #f8f9fa;\">\n              <section style=\"padding: 100px 20px; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;\">\n                  <h1 style=\"font-size: 3em; margin-bottom: 20px;\">Portfolio</h1>\n                  <p style=\"font-size: 1.2em;\">Showcase công việc và dự án của tôi</p>\n              </section>\n              <section style=\"padding: 80px 20px; text-align: center;\">\n                  <h2>Về tôi</h2>\n                  <p style=\"max-width: 600px; margin: 20px auto; color: #666;\">\n                      Tôi là một nhà thiết kế và phát triển với niềm đam mê tạo ra những trải nghiệm tuyệt vời.\n                  </p>\n              </section>\n          </div>\n        `,\n        css: `\n          body { font-family: 'Georgia', serif; margin: 0; line-height: 1.6; }\n        `\n      }\n    };\n    const template = templates[templateId];\n    if (template) {\n      editorRef.current.setComponents(template.html);\n      editorRef.current.setCss(template.css);\n      setSuccess(`Đã tải template ${templateId}`);\n    }\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(DogLoader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 568,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lh-create-landing h-screen flex overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-72 bg-white/95 backdrop-blur-md p-4 flex flex-col gap-4 border-r border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/pages\"),\n          className: \"btn-secondary flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-arrow-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 25\n          }, this), \" Quay l\\u1EA1i\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-bold\",\n          children: [pageId ? \"Chỉnh sửa\" : \"Tạo\", \" Landing Page\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error p-3 bg-red-50 border-l-4 border-red-400 text-red-700 rounded-lg flex justify-between items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex-1\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(null),\n          className: \"ml-2 text-red-500 hover:text-red-700\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-times\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 21\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success p-3 bg-green-50 border-l-4 border-green-400 text-green-700 rounded-lg flex justify-between items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex-1\",\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSuccess(null),\n          className: \"ml-2 text-green-500 hover:text-green-700\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-times\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg border\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"M\\xF4 t\\u1EA3 Landing Page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: pageDescription,\n          onChange: e => setPageDescription(e.target.value),\n          rows: 4,\n          placeholder: \"Nh\\u1EADp m\\xF4 t\\u1EA3 chi ti\\u1EBFt v\\u1EC1 landing page b\\u1EA1n mu\\u1ED1n t\\u1EA1o...\",\n          className: \"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 21\n        }, this), !pageId && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCreatePage,\n            className: \"w-full mt-3 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center gap-2\",\n            disabled: loading,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-magic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 33\n            }, this), loading ? \"Đang tạo...\" : \"Tạo với AI\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 pt-3 border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-2\",\n              children: \"Ho\\u1EB7c ch\\u1ECDn template:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSelectTemplate(\"blank\"),\n                className: \"btn-secondary text-xs py-1 px-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 636,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 41\n                }, this), \"Tr\\u1ED1ng\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSelectTemplate(\"business\"),\n                className: \"btn-secondary text-xs py-1 px-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-briefcase\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 643,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 41\n                }, this), \"Business\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSelectTemplate(\"portfolio\"),\n                className: \"btn-secondary text-xs py-1 px-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-user\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 650,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 41\n                }, this), \"Portfolio\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 border-b\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-cubes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 29\n            }, this), \" Kh\\u1ED1i giao di\\u1EC7n\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolbox-container p-2 max-h-[calc(100vh-400px)] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-gjs-type\": \"column1\",\n            className: \"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\",\n            draggable: \"true\",\n            onDragStart: e => {\n              e.dataTransfer.setData(\"text/plain\", \"column1\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-columns\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 29\n            }, this), \" 1 C\\u1ED9t\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-gjs-type\": \"column2\",\n            className: \"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\",\n            draggable: \"true\",\n            onDragStart: e => {\n              e.dataTransfer.setData(\"text/plain\", \"column2\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-columns\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 29\n            }, this), \" 2 C\\u1ED9t\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-gjs-type\": \"column3\",\n            className: \"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\",\n            draggable: \"true\",\n            onDragStart: e => {\n              e.dataTransfer.setData(\"text/plain\", \"column3\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-columns\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 29\n            }, this), \" 3 C\\u1ED9t\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-gjs-type\": \"text\",\n            className: \"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\",\n            draggable: \"true\",\n            onDragStart: e => {\n              e.dataTransfer.setData(\"text/plain\", \"text\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-font\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 29\n            }, this), \" V\\u0103n b\\u1EA3n\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-gjs-type\": \"link\",\n            className: \"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\",\n            draggable: \"true\",\n            onDragStart: e => {\n              e.dataTransfer.setData(\"text/plain\", \"link\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-link\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 29\n            }, this), \" Li\\xEAn k\\u1EBFt\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-gjs-type\": \"image\",\n            className: \"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\",\n            draggable: \"true\",\n            onDragStart: e => {\n              e.dataTransfer.setData(\"text/plain\", \"image\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 29\n            }, this), \" H\\xECnh \\u1EA3nh\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-gjs-type\": \"video\",\n            className: \"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\",\n            draggable: \"true\",\n            onDragStart: e => {\n              e.dataTransfer.setData(\"text/plain\", \"video\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 29\n            }, this), \" Video\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg border mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-3 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSavePage,\n            className: \"btn-primary flex items-center gap-2\",\n            disabled: loading,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 29\n            }, this), loading ? \"Đang lưu...\" : \"Lưu\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePreviewPage,\n            className: \"btn-secondary flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-eye\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 757,\n              columnNumber: 29\n            }, this), \" Preview\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleExportHTML,\n            className: \"btn-secondary flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 29\n            }, this), \" Xu\\u1EA5t HTML\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 759,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAiRefactor,\n            className: \"btn-primary flex items-center gap-2\",\n            disabled: loading,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-robot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 770,\n              columnNumber: 29\n            }, this), loading ? \"AI đang xử lý...\" : \"AI Refactor\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 25\n          }, this), pageId && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePublishPage,\n            className: \"btn-success flex items-center gap-2\",\n            disabled: loading,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-rocket\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 779,\n              columnNumber: 33\n            }, this), loading ? \"Đang xuất bản...\" : \"Xuất bản\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleReloadEditor,\n            className: \"btn-danger flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 29\n            }, this), \" Reset Editor\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-auto flex items-center gap-2 text-sm text-gray-600\",\n            children: [isAutoSaving && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-spinner fa-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 792,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0110ang l\\u01B0u...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true), saveTime && !isAutoSaving && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-clock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"L\\u1EA7n l\\u01B0u cu\\u1ED1i: \", saveTime]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 17\n      }, this), currentPage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border-l-4 border-blue-300 p-3 rounded-lg mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-blue-900\",\n              children: currentPage.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-blue-700\",\n              children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: currentPage.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 45\n              }, this), currentPage.url && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [\" | \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: currentPage.url,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"underline hover:no-underline\",\n                  children: \"Xem trang live\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 815,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-blue-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Views: \", currentPage.views || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 828,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Conversions: \", currentPage.conversions || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 827,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: editorContainerRef,\n        className: \"editor-section flex-1 bg-white rounded-lg overflow-hidden border border-gray-200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-72 bg-white/95 backdrop-blur-md p-4 flex flex-col gap-4 border-l border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 border-b\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-layer-group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 29\n            }, this), \" Layers\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"layers-container p-2 max-h-[calc(100vh-400px)] overflow-y-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 848,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 842,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 border-b\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-paint-brush\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 29\n            }, this), \" Styles\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 852,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"styles-container p-2 max-h-[calc(100vh-400px)] overflow-y-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 border-b\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-mobile-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 29\n            }, this), \" Thi\\u1EBFt b\\u1ECB\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 860,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _editorRef$current;\n                return (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 ? void 0 : _editorRef$current.setDevice(\"desktop\");\n              },\n              className: `flex-1 py-2 px-3 text-sm rounded ${selectedDevice === \"desktop\" ? \"bg-blue-500 text-white\" : \"bg-gray-100\"}`,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-desktop\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 872,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 866,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _editorRef$current2;\n                return (_editorRef$current2 = editorRef.current) === null || _editorRef$current2 === void 0 ? void 0 : _editorRef$current2.setDevice(\"tablet\");\n              },\n              className: `flex-1 py-2 px-3 text-sm rounded ${selectedDevice === \"tablet\" ? \"bg-blue-500 text-white\" : \"bg-gray-100\"}`,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-tablet-alt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 874,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _editorRef$current3;\n                return (_editorRef$current3 = editorRef.current) === null || _editorRef$current3 === void 0 ? void 0 : _editorRef$current3.setDevice(\"mobilePortrait\");\n              },\n              className: `flex-1 py-2 px-3 text-sm rounded ${selectedDevice === \"mobilePortrait\" ? \"bg-blue-500 text-white\" : \"bg-gray-100\"}`,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-mobile-alt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 865,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 858,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 841,\n      columnNumber: 13\n    }, this), aiModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4 ai-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto ai-modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-robot text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 37\n              }, this), \" AI Refactor Preview\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setAiModalOpen(false),\n              className: \"text-gray-500 hover:text-gray-700 text-xl transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 908,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 899,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [aiImprovements.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 bg-blue-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold mb-2 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-lightbulb text-yellow-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 916,\n                columnNumber: 41\n              }, this), \"C\\u1EA3i ti\\u1EBFn \\u0111\\u01B0\\u1EE3c \\u0111\\u1EC1 xu\\u1EA5t:\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 915,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside space-y-1\",\n              children: aiImprovements.map((improvement, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"text-sm text-gray-700\",\n                children: improvement\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 921,\n                columnNumber: 45\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-lg flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-file-code text-gray-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 931,\n                  columnNumber: 41\n                }, this), \" B\\u1EA3n g\\u1ED1c\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4 bg-gray-50 max-h-96 overflow-y-auto preview-frame\",\n                dangerouslySetInnerHTML: {\n                  __html: originalHtml\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 933,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-lg flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-magic text-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 940,\n                  columnNumber: 41\n                }, this), \" Phi\\xEAn b\\u1EA3n AI\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 37\n              }, this), aiThumbnail && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: aiThumbnail,\n                alt: \"AI Preview\",\n                className: \"w-full rounded-lg border shadow-sm max-h-48 object-cover\",\n                onError: e => {\n                  e.target.style.display = \"none\";\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 943,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4 bg-gray-50 max-h-96 overflow-y-auto preview-frame\",\n                dangerouslySetInnerHTML: {\n                  __html: aiHtml\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 912,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-t bg-gray-50 flex justify-end gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAiModalOpen(false),\n            className: \"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 960,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAcceptAi,\n            className: \"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 970,\n              columnNumber: 33\n            }, this), \" \\xC1p d\\u1EE5ng AI Refactor\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 959,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 898,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 897,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-6 right-6 z-40\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/95 backdrop-blur-md rounded-lg shadow-lg border p-2 flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _editorRef$current4;\n            return (_editorRef$current4 = editorRef.current) === null || _editorRef$current4 === void 0 ? void 0 : _editorRef$current4.runCommand(\"core:undo\");\n          },\n          className: \"p-2 hover:bg-gray-100 rounded transition-colors\",\n          title: \"Ho\\xE0n t\\xE1c\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-undo text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 984,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 979,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _editorRef$current5;\n            return (_editorRef$current5 = editorRef.current) === null || _editorRef$current5 === void 0 ? void 0 : _editorRef$current5.runCommand(\"core:redo\");\n          },\n          className: \"p-2 hover:bg-gray-100 rounded transition-colors\",\n          title: \"L\\xE0m l\\u1EA1i\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-redo text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 986,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _editorRef$current6;\n            return (_editorRef$current6 = editorRef.current) === null || _editorRef$current6 === void 0 ? void 0 : _editorRef$current6.runCommand(\"core:canvas-clear\");\n          },\n          className: \"p-2 hover:bg-gray-100 rounded transition-colors\",\n          title: \"X\\xF3a t\\u1EA5t c\\u1EA3\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-trash text-red-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 998,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 993,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 978,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 977,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-6 left-6 z-40\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowShortcuts(!showShortcuts),\n        className: \"bg-gray-800 text-white p-2 rounded-full shadow-lg hover:bg-gray-700 transition-colors\",\n        title: \"Ph\\xEDm t\\u1EAFt\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-keyboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1009,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 17\n      }, this), showShortcuts && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-12 left-0 bg-white/95 backdrop-blur-md rounded-lg shadow-xl border p-4 w-64\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold mb-2\",\n          children: \"Ph\\xEDm t\\u1EAFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Ctrl+S: L\\u01B0u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1015,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Ctrl+Z: Ho\\xE0n t\\xE1c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1016,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Ctrl+Y: L\\xE0m l\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Delete: X\\xF3a element\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Esc: B\\u1ECF ch\\u1ECDn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1019,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1003,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 571,\n    columnNumber: 9\n  }, this);\n};\n_s(CreateLandingPage, \"dj3ezdG8x+lZdBAA1K1ouIxF2yY=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = CreateLandingPage;\nexport default CreateLandingPage;\nvar _c;\n$RefreshReg$(_c, \"CreateLandingPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useNavigate","useParams","api","DogLoader","grapesjs","jsxDEV","_jsxDEV","Fragment","_Fragment","jwtDecode","require","CreateLandingPage","_s","loading","setLoading","error","setError","success","setSuccess","pageDescription","setPageDescription","saveTime","setSaveTime","aiModalOpen","setAiModalOpen","aiHtml","setAiHtml","aiThumbnail","setAiThumbnail","aiImprovements","setAiImprovements","originalHtml","setOriginalHtml","isAutoSaving","setIsAutoSaving","currentPage","setCurrentPage","previewMode","setPreviewMode","selectedDevice","setSelectedDevice","showShortcuts","setShowShortcuts","editorRef","editorContainerRef","autoSaveTimeoutRef","navigate","pageId","token","localStorage","getItem","state","from","location","pathname","decoded","currentTime","Date","now","userId","Error","exp","defaults","headers","common","err","console","message","removeItem","loadExistingPage","response","get","data","current","html","_doc$head$querySelect","parser","DOMParser","doc","parseFromString","bodyContent","body","innerHTML","styleContent","head","querySelector","setComponents","setCss","name","_err$response","_err$response$data","init","container","height","width","fromElement","storageManager","plugins","pluginsOpts","blocks","modalImportTitle","modalImportLabel","modalImportContent","editor","getHtml","getCss","canvas","styles","scripts","blockManager","appendTo","styleManager","layerManager","deviceManager","devices","id","widthMedia","panels","el","resizable","maxDim","minDim","tc","cl","cr","bc","keyWidth","debouncedAutoSave","debounce","handleAutoSave","forEach","event","on","device","loadDraft","clearTimeout","func","wait","args","setTimeout","apply","draftKey","savedDraft","draft","JSON","parse","timeDiff","timestamp","getTime","css","warn","toISOString","setItem","stringify","post","toLocaleTimeString","timer","handleReloadEditor","destroy","window","reload","handleExportHTML","fullHtml","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","handleAiRefactor","fullContent","thumbnail","improvements","_err$response2","_err$response2$data","handleAcceptAi","styleElement","cssContent","handleCreatePage","trim","description","_doc$head$querySelect2","page","isNew","replace","_err$response3","_err$response3$data","handleSavePage","put","_err$response4","_err$response4$data","handlePreviewPage","previewWindow","open","write","close","handlePublishPage","_err$response5","_err$response5$data","handleSelectTemplate","templateId","templates","blank","business","portfolio","template","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","value","onChange","e","target","rows","placeholder","disabled","draggable","onDragStart","dataTransfer","setData","status","rel","views","conversions","ref","_editorRef$current","setDevice","_editorRef$current2","_editorRef$current3","length","map","improvement","index","dangerouslySetInnerHTML","__html","src","alt","onError","style","display","_editorRef$current4","runCommand","title","_editorRef$current5","_editorRef$current6","_c","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/CreateLanding.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport api from \"@landinghub/api\";\r\nimport DogLoader from \"../components/DogLoader\";\r\nimport \"grapesjs/dist/css/grapes.min.css\";\r\nimport grapesjs from \"grapesjs\";\r\nimport \"grapesjs-preset-webpage\";\r\nimport \"grapesjs-blocks-basic\";\r\nimport \"../styles/CreateLanding.css\";\r\n\r\nconst { jwtDecode } = require(\"jwt-decode\");\r\n\r\nconst CreateLandingPage = () => {\r\n    // State management (unchanged)\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [success, setSuccess] = useState(null);\r\n    const [pageDescription, setPageDescription] = useState(\"\");\r\n    const [saveTime, setSaveTime] = useState(null);\r\n    const [aiModalOpen, setAiModalOpen] = useState(false);\r\n    const [aiHtml, setAiHtml] = useState(\"\");\r\n    const [aiThumbnail, setAiThumbnail] = useState(\"\");\r\n    const [aiImprovements, setAiImprovements] = useState([]);\r\n    const [originalHtml, setOriginalHtml] = useState(\"\");\r\n    const [isAutoSaving, setIsAutoSaving] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(null);\r\n    const [previewMode, setPreviewMode] = useState(false);\r\n    const [selectedDevice, setSelectedDevice] = useState(\"desktop\");\r\n    const [showShortcuts, setShowShortcuts] = useState(false);\r\n\r\n    // Refs (unchanged)\r\n    const editorRef = useRef(null);\r\n    const editorContainerRef = useRef(null);\r\n    const autoSaveTimeoutRef = useRef(null);\r\n\r\n    const navigate = useNavigate();\r\n    const { pageId } = useParams();\r\n\r\n    // Auth check (unchanged)\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (!token) {\r\n            navigate(\"/auth\", { state: { from: location.pathname } });\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const decoded = jwtDecode(token);\r\n            const currentTime = Date.now() / 1000;\r\n\r\n            if (!decoded.userId) throw new Error(\"Invalid token - missing userId\");\r\n            if (decoded.exp < currentTime) throw new Error(\"Token expired\");\r\n\r\n            api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n        } catch (err) {\r\n            console.error(\"Auth error:\", err.message);\r\n            localStorage.removeItem(\"token\");\r\n            navigate(\"/auth\", { state: { from: location.pathname, error: \"Session expired\" } });\r\n        }\r\n    }, [navigate]);\r\n\r\n    // Load existing page (unchanged)\r\n    useEffect(() => {\r\n        if (pageId) {\r\n            loadExistingPage();\r\n        }\r\n    }, [pageId]);\r\n\r\n    const loadExistingPage = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const response = await api.get(`/api/pages/${pageId}/content`);\r\n            setCurrentPage(response.data);\r\n\r\n            if (editorRef.current && response.data.html) {\r\n                const parser = new DOMParser();\r\n                const doc = parser.parseFromString(response.data.html, \"text/html\");\r\n                const bodyContent = doc.body.innerHTML;\r\n                const styleContent = doc.head.querySelector(\"style\")?.innerHTML || \"\";\r\n\r\n                editorRef.current.setComponents(bodyContent);\r\n                editorRef.current.setCss(styleContent);\r\n                setPageDescription(response.data.name || \"\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Load page error:\", err);\r\n            setError(\"Không thể tải nội dung trang: \" + (err.response?.data?.error || err.message));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Enhanced GrapesJS initialization with full-screen canvas\r\n    useEffect(() => {\r\n        if (!editorRef.current && editorContainerRef.current) {\r\n            try {\r\n                editorRef.current = grapesjs.init({\r\n                    container: editorContainerRef.current,\r\n                    height: \"100vh\", // Full-screen height\r\n                    width: \"100%\", // Full-screen width\r\n                    fromElement: false,\r\n                    storageManager: false,\r\n                    plugins: [\"gjs-blocks-basic\", \"gjs-preset-webpage\"],\r\n                    pluginsOpts: {\r\n                        \"gjs-blocks-basic\": {\r\n                            blocks: [\"column1\", \"column2\", \"column3\", \"text\", \"link\", \"image\", \"video\"],\r\n                        },\r\n                        \"gjs-preset-webpage\": {\r\n                            modalImportTitle: \"Import Template\",\r\n                            modalImportLabel:\r\n                                '<div style=\"margin-bottom: 10px; font-size: 13px;\">Paste here your HTML/CSS and click Import</div>',\r\n                            modalImportContent: function (editor) {\r\n                                return editor.getHtml() + \"<style>\" + editor.getCss() + \"</style>\";\r\n                            },\r\n                        },\r\n                    },\r\n                    canvas: {\r\n                        styles: [\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\"],\r\n                        scripts: [],\r\n                    },\r\n                    blockManager: {\r\n                        appendTo: \".toolbox-container\", // Moved to left panel\r\n                    },\r\n                    styleManager: {\r\n                        appendTo: \".styles-container\", // Right panel\r\n                    },\r\n                    layerManager: {\r\n                        appendTo: \".layers-container\", // Right panel\r\n                    },\r\n                    deviceManager: {\r\n                        devices: [\r\n                            { name: \"Desktop\", width: \"\", id: \"desktop\" },\r\n                            { name: \"Tablet\", width: \"768px\", widthMedia: \"992px\", id: \"tablet\" },\r\n                            { name: \"Mobile portrait\", width: \"320px\", widthMedia: \"768px\", id: \"mobilePortrait\" },\r\n                        ],\r\n                    },\r\n                    panels: {\r\n                        defaults: [\r\n                            {\r\n                                id: \"styles\",\r\n                                el: \".styles-container\",\r\n                                resizable: {\r\n                                    maxDim: 350,\r\n                                    minDim: 200,\r\n                                    tc: 0,\r\n                                    cl: 1,\r\n                                    cr: 0,\r\n                                    bc: 0,\r\n                                    keyWidth: \"flex-basis\",\r\n                                },\r\n                            },\r\n                            {\r\n                                id: \"layers\",\r\n                                el: \".layers-container\",\r\n                                resizable: {\r\n                                    maxDim: 350,\r\n                                    minDim: 200,\r\n                                    tc: 0,\r\n                                    cl: 1,\r\n                                    cr: 0,\r\n                                    bc: 0,\r\n                                    keyWidth: \"flex-basis\",\r\n                                },\r\n                            },\r\n                        ],\r\n                    },\r\n                });\r\n\r\n                const debouncedAutoSave = debounce(() => handleAutoSave(), 800);\r\n                [\"update\", \"component:add\", \"component:remove\", \"component:update\"].forEach((event) =>\r\n                    editorRef.current.on(event, debouncedAutoSave)\r\n                );\r\n\r\n                editorRef.current.on(\"device:select\", (device) => setSelectedDevice(device.get(\"id\")));\r\n                loadDraft();\r\n            } catch (err) {\r\n                console.error(\"GrapesJS initialization error:\", err);\r\n                setError(\"Lỗi khởi tạo editor: \" + err.message);\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            if (autoSaveTimeoutRef.current) clearTimeout(autoSaveTimeoutRef.current);\r\n        };\r\n    }, []);\r\n\r\n    // Debounce utility (unchanged)\r\n    const debounce = (func, wait) => {\r\n        return (...args) => {\r\n            clearTimeout(autoSaveTimeoutRef.current);\r\n            autoSaveTimeoutRef.current = setTimeout(() => func.apply(this, args), wait);\r\n        };\r\n    };\r\n\r\n    // Load draft (unchanged)\r\n    const loadDraft = useCallback(async () => {\r\n        try {\r\n            const draftKey = pageId ? `draft_${pageId}` : \"draft_new\";\r\n            const savedDraft = localStorage.getItem(draftKey);\r\n\r\n            if (savedDraft) {\r\n                const draft = JSON.parse(savedDraft);\r\n                const timeDiff = Date.now() - new Date(draft.timestamp).getTime();\r\n\r\n                if (timeDiff < 24 * 60 * 60 * 1000 && editorRef.current) {\r\n                    if (draft.html) editorRef.current.setComponents(draft.html);\r\n                    if (draft.css) editorRef.current.setCss(draft.css);\r\n                    setSuccess(\"Đã khôi phục bản nháp đã lưu\");\r\n                }\r\n            }\r\n        } catch (err) {\r\n            console.warn(\"Load draft error:\", err);\r\n        }\r\n    }, [pageId]);\r\n\r\n    // Handle auto-save (unchanged)\r\n    const handleAutoSave = useCallback(async () => {\r\n        if (!editorRef.current || isAutoSaving) return;\r\n\r\n        setIsAutoSaving(true);\r\n        try {\r\n            const html = editorRef.current.getHtml();\r\n            const css = editorRef.current.getCss();\r\n\r\n            const draftKey = pageId ? `draft_${pageId}` : \"draft_new\";\r\n            const draft = { html, css, timestamp: new Date().toISOString() };\r\n            localStorage.setItem(draftKey, JSON.stringify(draft));\r\n\r\n            if (pageId) {\r\n                await api.post(\"/api/pages/auto-save\", { html, css, pageId });\r\n            }\r\n\r\n            setSaveTime(new Date().toLocaleTimeString(\"vi-VN\"));\r\n        } catch (err) {\r\n            console.warn(\"Auto save error:\", err);\r\n        } finally {\r\n            setIsAutoSaving(false);\r\n        }\r\n    }, [pageId, isAutoSaving]);\r\n\r\n    // Clear messages (unchanged)\r\n    useEffect(() => {\r\n        if (error || success) {\r\n            const timer = setTimeout(() => {\r\n                setError(null);\r\n                setSuccess(null);\r\n            }, 5000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [error, success]);\r\n\r\n    // Handle reload editor (unchanged)\r\n    const handleReloadEditor = useCallback(() => {\r\n        if (editorRef.current) {\r\n            editorRef.current.destroy();\r\n            editorRef.current = null;\r\n            window.location.reload();\r\n        }\r\n    }, []);\r\n\r\n    // Handle export HTML (unchanged)\r\n    const handleExportHTML = useCallback(() => {\r\n        if (!editorRef.current) return;\r\n\r\n        try {\r\n            const html = editorRef.current.getHtml();\r\n            const css = editorRef.current.getCss();\r\n\r\n            const fullHtml = `<!DOCTYPE html>\r\n<html lang=\"vi\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta name=\"description\" content=\"${pageDescription || 'Landing Page tạo bởi LandingHub'}\">\r\n    <title>${pageDescription || 'Landing Page'}</title>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\">\r\n    <style>\r\n        * { margin: 0; padding: 0; box-sizing: border-box; }\r\n        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; }\r\n        ${css}\r\n    </style>\r\n</head>\r\n<body>\r\n    ${html}\r\n    <script>\r\n        console.log('Landing page loaded at:', new Date());\r\n        document.querySelectorAll('form').forEach(form => {\r\n            form.addEventListener('submit', function(e) {\r\n                e.preventDefault();\r\n                alert('Form submitted! (Demo mode)');\r\n                console.log('Form data:', new FormData(this));\r\n            });\r\n        });\r\n        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n            anchor.addEventListener('click', function (e) {\r\n                e.preventDefault();\r\n                const target = document.querySelector(this.getAttribute('href'));\r\n                if (target) target.scrollIntoView({ behavior: 'smooth' });\r\n            });\r\n        });\r\n    </script>\r\n</body>\r\n</html>`;\r\n\r\n            const blob = new Blob([fullHtml], { type: \"text/html;charset=utf-8\" });\r\n            const url = URL.createObjectURL(blob);\r\n            const a = document.createElement(\"a\");\r\n            a.href = url;\r\n            a.download = `${pageDescription || \"landing-page\"}.html`;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n            URL.revokeObjectURL(url);\r\n\r\n            setSuccess(\"Đã xuất file HTML thành công!\");\r\n        } catch (err) {\r\n            console.error(\"Export error:\", err);\r\n            setError(\"Lỗi khi xuất HTML: \" + err.message);\r\n        }\r\n    }, [pageDescription]);\r\n\r\n    // Handle AI refactor (unchanged)\r\n    const handleAiRefactor = useCallback(async () => {\r\n        if (!editorRef.current) return;\r\n\r\n        try {\r\n            setLoading(true);\r\n            const html = editorRef.current.getHtml();\r\n            const css = editorRef.current.getCss();\r\n            const fullContent = html + (css ? `<style>${css}</style>` : \"\");\r\n\r\n            setOriginalHtml(fullContent);\r\n\r\n            const response = await api.post(\"/api/pages/ai-refactor\", { html: fullContent });\r\n\r\n            setAiHtml(response.data.html);\r\n            setAiThumbnail(response.data.thumbnail);\r\n            setAiImprovements(response.data.improvements || []);\r\n            setAiModalOpen(true);\r\n        } catch (err) {\r\n            console.error(\"AI Refactor error:\", err);\r\n            setError(\"Lỗi khi gọi AI Refactor: \" + (err.response?.data?.error || err.message));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    // Handle accept AI (unchanged)\r\n    const handleAcceptAi = useCallback(() => {\r\n        if (!editorRef.current || !aiHtml) return;\r\n\r\n        try {\r\n            const parser = new DOMParser();\r\n            const doc = parser.parseFromString(aiHtml, \"text/html\");\r\n            const bodyContent = doc.body.innerHTML;\r\n            const styleElement = doc.head.querySelector(\"style\");\r\n            const cssContent = styleElement ? styleElement.innerHTML : \"\";\r\n\r\n            editorRef.current.setComponents(bodyContent);\r\n            if (cssContent) editorRef.current.setCss(cssContent);\r\n\r\n            handleAutoSave();\r\n            setAiModalOpen(false);\r\n            setSuccess(\"Đã áp dụng AI Refactor thành công!\");\r\n        } catch (err) {\r\n            console.error(\"Apply AI error:\", err);\r\n            setError(\"Lỗi khi áp dụng AI refactor: \" + err.message);\r\n        }\r\n    }, [aiHtml, handleAutoSave]);\r\n\r\n    // Handle create page (unchanged)\r\n    const handleCreatePage = useCallback(async () => {\r\n        if (!pageDescription?.trim()) {\r\n            setError(\"Vui lòng nhập mô tả landing page\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n\r\n            const response = await api.post(\"/api/pages\", { description: pageDescription.trim() });\r\n\r\n            if (response.data.html && editorRef.current) {\r\n                const parser = new DOMParser();\r\n                const doc = parser.parseFromString(response.data.html, \"text/html\");\r\n                const bodyContent = doc.body.innerHTML;\r\n                const styleContent = doc.head.querySelector(\"style\")?.innerHTML || \"\";\r\n\r\n                editorRef.current.setComponents(bodyContent);\r\n                if (styleContent) editorRef.current.setCss(styleContent);\r\n            }\r\n\r\n            setCurrentPage(response.data);\r\n            setSuccess(\"Tạo landing page thành công!\");\r\n\r\n            navigate(`/pages/edit/${response.data.id}`, {\r\n                state: { page: response.data, isNew: true },\r\n                replace: true,\r\n            });\r\n        } catch (err) {\r\n            console.error(\"Create error:\", err);\r\n            setError(\"Lỗi khi tạo landing page: \" + (err.response?.data?.error || err.message));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [pageDescription, navigate]);\r\n\r\n    // Handle save page (unchanged)\r\n    const handleSavePage = useCallback(async () => {\r\n        if (!editorRef.current) return;\r\n\r\n        try {\r\n            setLoading(true);\r\n            const html = editorRef.current.getHtml();\r\n            const css = editorRef.current.getCss();\r\n\r\n            const fullHtml = `<!DOCTYPE html>\r\n<html lang=\"vi\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>${pageDescription || \"Landing Page\"}</title>\r\n    <style>${css}</style>\r\n</head>\r\n<body>\r\n    ${html}\r\n</body>\r\n</html>`;\r\n\r\n            let response;\r\n            if (pageId) {\r\n                response = await api.put(`/api/pages/${pageId}`, { html: fullHtml });\r\n            } else {\r\n                response = await api.post(\"/api/pages/save\", { html: fullHtml });\r\n            }\r\n\r\n            setCurrentPage(response.data);\r\n            setSaveTime(new Date().toLocaleTimeString(\"vi-VN\"));\r\n            setSuccess(\"Đã lưu trang thành công!\");\r\n\r\n            const draftKey = pageId ? `draft_${pageId}` : \"draft_new\";\r\n            localStorage.removeItem(draftKey);\r\n        } catch (err) {\r\n            console.error(\"Save error:\", err);\r\n            setError(\"Lỗi khi lưu trang: \" + (err.response?.data?.error || err.message));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [pageId, pageDescription]);\r\n\r\n    // Handle preview page (unchanged)\r\n    const handlePreviewPage = useCallback(() => {\r\n        if (!editorRef.current) return;\r\n\r\n        const html = editorRef.current.getHtml();\r\n        const css = editorRef.current.getCss();\r\n\r\n        const previewWindow = window.open(\"\", \"_blank\");\r\n        previewWindow.document.write(`\r\n      <!DOCTYPE html>\r\n      <html lang=\"vi\">\r\n      <head>\r\n          <meta charset=\"UTF-8\">\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n          <title>Preview - ${pageDescription || \"Landing Page\"}</title>\r\n          <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\">\r\n          <style>\r\n              * { margin: 0; padding: 0; box-sizing: border-box; }\r\n              body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; }\r\n              ${css}\r\n          </style>\r\n      </head>\r\n      <body>\r\n          ${html}\r\n          <div style=\"position: fixed; top: 10px; right: 10px; background: #007bff; color: white; padding: 10px 15px; border-radius: 25px; z-index: 9999; font-size: 14px; box-shadow: 0 4px 12px rgba(0,123,255,0.3);\">\r\n              <i class=\"fa fa-eye\"></i> Preview Mode\r\n          </div>\r\n          <script>\r\n              document.querySelectorAll('form').forEach(form => {\r\n                  form.addEventListener('submit', function(e) {\r\n                      e.preventDefault();\r\n                      alert('Form submission (Preview mode)');\r\n                  });\r\n              });\r\n          </script>\r\n      </body>\r\n      </html>\r\n    `);\r\n        previewWindow.document.close();\r\n    }, [pageDescription]);\r\n\r\n    // Handle publish page (unchanged)\r\n    const handlePublishPage = useCallback(async () => {\r\n        if (!pageId) {\r\n            setError(\"Vui lòng lưu trang trước khi xuất bản\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setLoading(true);\r\n            const response = await api.post(`/api/pages/${pageId}/publish`);\r\n\r\n            setCurrentPage(response.data);\r\n            setSuccess(`Trang đã được xuất bản tại: ${response.data.url}`);\r\n        } catch (err) {\r\n            console.error(\"Publish error:\", err);\r\n            setError(\"Lỗi khi xuất bản: \" + (err.response?.data?.error || err.message));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [pageId]);\r\n\r\n    // Handle select template (unchanged)\r\n    const handleSelectTemplate = useCallback((templateId) => {\r\n        if (!editorRef.current) return;\r\n\r\n        const templates = {\r\n            blank: { html: \"<div>Bắt đầu từ trang trống</div>\", css: \"\" },\r\n            business: {\r\n                html: `\r\n          <div style=\"min-height: 100vh;\">\r\n              <header style=\"background: #2c3e50; color: white; padding: 20px 0; text-align: center;\">\r\n                  <h1>Doanh Nghiệp Của Bạn</h1>\r\n                  <p>Giải pháp chuyên nghiệp cho mọi nhu cầu</p>\r\n              </header>\r\n              <main style=\"padding: 60px 20px; text-align: center;\">\r\n                  <h2>Chào mừng đến với dịch vụ của chúng tôi</h2>\r\n                  <p style=\"margin: 20px 0; color: #666;\">Chúng tôi cung cấp giải pháp tốt nhất cho doanh nghiệp của bạn</p>\r\n                  <button style=\"background: #3498db; color: white; padding: 15px 30px; border: none; border-radius: 5px; font-size: 16px;\">Liên hệ ngay</button>\r\n              </main>\r\n          </div>\r\n        `,\r\n                css: `\r\n          body { font-family: 'Arial', sans-serif; margin: 0; }\r\n          button:hover { background: #2980b9 !important; }\r\n        `,\r\n            },\r\n            portfolio: {\r\n                html: `\r\n          <div style=\"min-height: 100vh; background: #f8f9fa;\">\r\n              <section style=\"padding: 100px 20px; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;\">\r\n                  <h1 style=\"font-size: 3em; margin-bottom: 20px;\">Portfolio</h1>\r\n                  <p style=\"font-size: 1.2em;\">Showcase công việc và dự án của tôi</p>\r\n              </section>\r\n              <section style=\"padding: 80px 20px; text-align: center;\">\r\n                  <h2>Về tôi</h2>\r\n                  <p style=\"max-width: 600px; margin: 20px auto; color: #666;\">\r\n                      Tôi là một nhà thiết kế và phát triển với niềm đam mê tạo ra những trải nghiệm tuyệt vời.\r\n                  </p>\r\n              </section>\r\n          </div>\r\n        `,\r\n                css: `\r\n          body { font-family: 'Georgia', serif; margin: 0; line-height: 1.6; }\r\n        `,\r\n            },\r\n        };\r\n\r\n        const template = templates[templateId];\r\n        if (template) {\r\n            editorRef.current.setComponents(template.html);\r\n            editorRef.current.setCss(template.css);\r\n            setSuccess(`Đã tải template ${templateId}`);\r\n        }\r\n    }, []);\r\n\r\n    if (loading) return <DogLoader />;\r\n\r\n    return (\r\n        <div className=\"lh-create-landing h-screen flex overflow-hidden\">\r\n            {/* Left Panel - Toolbox with Draggable Blocks */}\r\n            <div className=\"w-72 bg-white/95 backdrop-blur-md p-4 flex flex-col gap-4 border-r border-gray-200\">\r\n                <div className=\"flex justify-between items-center\">\r\n                    <button\r\n                        onClick={() => navigate(\"/pages\")}\r\n                        className=\"btn-secondary flex items-center gap-2\"\r\n                    >\r\n                        <i className=\"fa fa-arrow-left\"></i> Quay lại\r\n                    </button>\r\n                    <h1 className=\"text-xl font-bold\">\r\n                        {pageId ? \"Chỉnh sửa\" : \"Tạo\"} Landing Page\r\n                    </h1>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"error p-3 bg-red-50 border-l-4 border-red-400 text-red-700 rounded-lg flex justify-between items-start\">\r\n                        <span className=\"flex-1\">{error}</span>\r\n                        <button\r\n                            onClick={() => setError(null)}\r\n                            className=\"ml-2 text-red-500 hover:text-red-700\"\r\n                        >\r\n                            <i className=\"fa fa-times\"></i>\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {success && (\r\n                    <div className=\"success p-3 bg-green-50 border-l-4 border-green-400 text-green-700 rounded-lg flex justify-between items-start\">\r\n                        <span className=\"flex-1\">{success}</span>\r\n                        <button\r\n                            onClick={() => setSuccess(null)}\r\n                            className=\"ml-2 text-green-500 hover:text-green-700\"\r\n                        >\r\n                            <i className=\"fa fa-times\"></i>\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"bg-white p-4 rounded-lg border\">\r\n                    <label className=\"block text-sm font-medium mb-2\">Mô tả Landing Page</label>\r\n                    <textarea\r\n                        value={pageDescription}\r\n                        onChange={(e) => setPageDescription(e.target.value)}\r\n                        rows={4}\r\n                        placeholder=\"Nhập mô tả chi tiết về landing page bạn muốn tạo...\"\r\n                        className=\"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    />\r\n                    {!pageId && (\r\n                        <>\r\n                            <button\r\n                                onClick={handleCreatePage}\r\n                                className=\"w-full mt-3 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center gap-2\"\r\n                                disabled={loading}\r\n                            >\r\n                                <i className=\"fa fa-magic\"></i>\r\n                                {loading ? \"Đang tạo...\" : \"Tạo với AI\"}\r\n                            </button>\r\n                            <div className=\"mt-3 pt-3 border-t\">\r\n                                <p className=\"text-sm text-gray-600 mb-2\">Hoặc chọn template:</p>\r\n                                <div className=\"grid grid-cols-3 gap-2\">\r\n                                    <button\r\n                                        onClick={() => handleSelectTemplate(\"blank\")}\r\n                                        className=\"btn-secondary text-xs py-1 px-2\"\r\n                                    >\r\n                                        <i className=\"fa fa-file\"></i>\r\n                                        <br />Trống\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleSelectTemplate(\"business\")}\r\n                                        className=\"btn-secondary text-xs py-1 px-2\"\r\n                                    >\r\n                                        <i className=\"fa fa-briefcase\"></i>\r\n                                        <br />Business\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleSelectTemplate(\"portfolio\")}\r\n                                        className=\"btn-secondary text-xs py-1 px-2\"\r\n                                    >\r\n                                        <i className=\"fa fa-user\"></i>\r\n                                        <br />Portfolio\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-lg border\">\r\n                    <div className=\"p-3 border-b\">\r\n                        <h3 className=\"font-semibold flex items-center gap-2\">\r\n                            <i className=\"fa fa-cubes\"></i> Khối giao diện\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"toolbox-container p-2 max-h-[calc(100vh-400px)] overflow-y-auto\">\r\n                        {/* Danh sách các khối giao diện kéo thả */}\r\n                        <div\r\n                            data-gjs-type=\"column1\"\r\n                            className=\"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\"\r\n                            draggable=\"true\"\r\n                            onDragStart={(e) => {\r\n                                e.dataTransfer.setData(\"text/plain\", \"column1\");\r\n                            }}\r\n                        >\r\n                            <i className=\"fa fa-columns\"></i> 1 Cột\r\n                        </div>\r\n                        <div\r\n                            data-gjs-type=\"column2\"\r\n                            className=\"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\"\r\n                            draggable=\"true\"\r\n                            onDragStart={(e) => {\r\n                                e.dataTransfer.setData(\"text/plain\", \"column2\");\r\n                            }}\r\n                        >\r\n                            <i className=\"fa fa-columns\"></i> 2 Cột\r\n                        </div>\r\n                        <div\r\n                            data-gjs-type=\"column3\"\r\n                            className=\"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\"\r\n                            draggable=\"true\"\r\n                            onDragStart={(e) => {\r\n                                e.dataTransfer.setData(\"text/plain\", \"column3\");\r\n                            }}\r\n                        >\r\n                            <i className=\"fa fa-columns\"></i> 3 Cột\r\n                        </div>\r\n                        <div\r\n                            data-gjs-type=\"text\"\r\n                            className=\"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\"\r\n                            draggable=\"true\"\r\n                            onDragStart={(e) => {\r\n                                e.dataTransfer.setData(\"text/plain\", \"text\");\r\n                            }}\r\n                        >\r\n                            <i className=\"fa fa-font\"></i> Văn bản\r\n                        </div>\r\n                        <div\r\n                            data-gjs-type=\"link\"\r\n                            className=\"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\"\r\n                            draggable=\"true\"\r\n                            onDragStart={(e) => {\r\n                                e.dataTransfer.setData(\"text/plain\", \"link\");\r\n                            }}\r\n                        >\r\n                            <i className=\"fa fa-link\"></i> Liên kết\r\n                        </div>\r\n                        <div\r\n                            data-gjs-type=\"image\"\r\n                            className=\"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\"\r\n                            draggable=\"true\"\r\n                            onDragStart={(e) => {\r\n                                e.dataTransfer.setData(\"text/plain\", \"image\");\r\n                            }}\r\n                        >\r\n                            <i className=\"fa fa-image\"></i> Hình ảnh\r\n                        </div>\r\n                        <div\r\n                            data-gjs-type=\"video\"\r\n                            className=\"p-2 mb-2 bg-gray-100 rounded cursor-move hover:bg-gray-200 transition-colors\"\r\n                            draggable=\"true\"\r\n                            onDragStart={(e) => {\r\n                                e.dataTransfer.setData(\"text/plain\", \"video\");\r\n                            }}\r\n                        >\r\n                            <i className=\"fa fa-video\"></i> Video\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Center Panel - Full-Screen Editor */}\r\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n                <div className=\"bg-white p-4 rounded-lg border mb-4\">\r\n                    <div className=\"flex flex-wrap gap-3 items-center\">\r\n                        <button\r\n                            onClick={handleSavePage}\r\n                            className=\"btn-primary flex items-center gap-2\"\r\n                            disabled={loading}\r\n                        >\r\n                            <i className=\"fa fa-save\"></i>\r\n                            {loading ? \"Đang lưu...\" : \"Lưu\"}\r\n                        </button>\r\n                        <button\r\n                            onClick={handlePreviewPage}\r\n                            className=\"btn-secondary flex items-center gap-2\"\r\n                        >\r\n                            <i className=\"fa fa-eye\"></i> Preview\r\n                        </button>\r\n                        <button\r\n                            onClick={handleExportHTML}\r\n                            className=\"btn-secondary flex items-center gap-2\"\r\n                        >\r\n                            <i className=\"fa fa-download\"></i> Xuất HTML\r\n                        </button>\r\n                        <button\r\n                            onClick={handleAiRefactor}\r\n                            className=\"btn-primary flex items-center gap-2\"\r\n                            disabled={loading}\r\n                        >\r\n                            <i className=\"fa fa-robot\"></i>\r\n                            {loading ? \"AI đang xử lý...\" : \"AI Refactor\"}\r\n                        </button>\r\n                        {pageId && (\r\n                            <button\r\n                                onClick={handlePublishPage}\r\n                                className=\"btn-success flex items-center gap-2\"\r\n                                disabled={loading}\r\n                            >\r\n                                <i className=\"fa fa-rocket\"></i>\r\n                                {loading ? \"Đang xuất bản...\" : \"Xuất bản\"}\r\n                            </button>\r\n                        )}\r\n                        <button\r\n                            onClick={handleReloadEditor}\r\n                            className=\"btn-danger flex items-center gap-2\"\r\n                        >\r\n                            <i className=\"fa fa-refresh\"></i> Reset Editor\r\n                        </button>\r\n                        <div className=\"ml-auto flex items-center gap-2 text-sm text-gray-600\">\r\n                            {isAutoSaving && (\r\n                                <>\r\n                                    <i className=\"fa fa-spinner fa-spin\"></i>\r\n                                    <span>Đang lưu...</span>\r\n                                </>\r\n                            )}\r\n                            {saveTime && !isAutoSaving && (\r\n                                <>\r\n                                    <i className=\"fa fa-clock\"></i>\r\n                                    <span>Lần lưu cuối: {saveTime}</span>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {currentPage && (\r\n                    <div className=\"bg-blue-50 border-l-4 border-blue-300 p-3 rounded-lg mb-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <h4 className=\"font-medium text-blue-900\">{currentPage.name}</h4>\r\n                                <p className=\"text-sm text-blue-700\">\r\n                                    Status: <span className=\"font-medium\">{currentPage.status}</span>\r\n                                    {currentPage.url && (\r\n                                        <>\r\n                                            {\" | \"}\r\n                                            <a\r\n                                                href={currentPage.url}\r\n                                                target=\"_blank\"\r\n                                                rel=\"noopener noreferrer\"\r\n                                                className=\"underline hover:no-underline\"\r\n                                            >\r\n                                                Xem trang live\r\n                                            </a>\r\n                                        </>\r\n                                    )}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"text-sm text-blue-600\">\r\n                                <div>Views: {currentPage.views || 0}</div>\r\n                                <div>Conversions: {currentPage.conversions || 0}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                <div\r\n                    ref={editorContainerRef}\r\n                    className=\"editor-section flex-1 bg-white rounded-lg overflow-hidden border border-gray-200\"\r\n                />\r\n            </div>\r\n\r\n            {/* Right Panel - Sections */}\r\n            <div className=\"w-72 bg-white/95 backdrop-blur-md p-4 flex flex-col gap-4 border-l border-gray-200\">\r\n                <div className=\"bg-white rounded-lg border\">\r\n                    <div className=\"p-3 border-b\">\r\n                        <h3 className=\"font-semibold flex items-center gap-2\">\r\n                            <i className=\"fa fa-layer-group\"></i> Layers\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"layers-container p-2 max-h-[calc(100vh-400px)] overflow-y-auto\"></div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg border\">\r\n                    <div className=\"p-3 border-b\">\r\n                        <h3 className=\"font-semibold flex items-center gap-2\">\r\n                            <i className=\"fa fa-paint-brush\"></i> Styles\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"styles-container p-2 max-h-[calc(100vh-400px)] overflow-y-auto\"></div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg border\">\r\n                    <div className=\"p-3 border-b\">\r\n                        <h3 className=\"font-semibold flex items-center gap-2\">\r\n                            <i className=\"fa fa-mobile-alt\"></i> Thiết bị\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"p-3\">\r\n                        <div className=\"flex gap-2\">\r\n                            <button\r\n                                onClick={() => editorRef.current?.setDevice(\"desktop\")}\r\n                                className={`flex-1 py-2 px-3 text-sm rounded ${\r\n                                    selectedDevice === \"desktop\" ? \"bg-blue-500 text-white\" : \"bg-gray-100\"\r\n                                }`}\r\n                            >\r\n                                <i className=\"fa fa-desktop\"></i>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => editorRef.current?.setDevice(\"tablet\")}\r\n                                className={`flex-1 py-2 px-3 text-sm rounded ${\r\n                                    selectedDevice === \"tablet\" ? \"bg-blue-500 text-white\" : \"bg-gray-100\"\r\n                                }`}\r\n                            >\r\n                                <i className=\"fa fa-tablet-alt\"></i>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => editorRef.current?.setDevice(\"mobilePortrait\")}\r\n                                className={`flex-1 py-2 px-3 text-sm rounded ${\r\n                                    selectedDevice === \"mobilePortrait\" ? \"bg-blue-500 text-white\" : \"bg-gray-100\"\r\n                                }`}\r\n                            >\r\n                                <i className=\"fa fa-mobile-alt\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* AI Modal, Quick Actions, Keyboard Shortcuts (giữ nguyên như trước) */}\r\n            {aiModalOpen && (\r\n                <div className=\"fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4 ai-modal\">\r\n                    <div className=\"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto ai-modal-content\">\r\n                        <div className=\"p-6 border-b\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <h2 className=\"text-2xl font-bold flex items-center gap-2\">\r\n                                    <i className=\"fa fa-robot text-blue-500\"></i> AI Refactor Preview\r\n                                </h2>\r\n                                <button\r\n                                    onClick={() => setAiModalOpen(false)}\r\n                                    className=\"text-gray-500 hover:text-gray-700 text-xl transition-colors\"\r\n                                >\r\n                                    <i className=\"fa fa-times\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"p-6\">\r\n                            {aiImprovements.length > 0 && (\r\n                                <div className=\"mb-6 p-4 bg-blue-50 rounded-lg\">\r\n                                    <h3 className=\"font-semibold mb-2 flex items-center gap-2\">\r\n                                        <i className=\"fa fa-lightbulb text-yellow-500\"></i>\r\n                                        Cải tiến được đề xuất:\r\n                                    </h3>\r\n                                    <ul className=\"list-disc list-inside space-y-1\">\r\n                                        {aiImprovements.map((improvement, index) => (\r\n                                            <li key={index} className=\"text-sm text-gray-700\">\r\n                                                {improvement}\r\n                                            </li>\r\n                                        ))}\r\n                                    </ul>\r\n                                </div>\r\n                            )}\r\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                                <div className=\"space-y-3\">\r\n                                    <h3 className=\"font-semibold text-lg flex items-center gap-2\">\r\n                                        <i className=\"fa fa-file-code text-gray-500\"></i> Bản gốc\r\n                                    </h3>\r\n                                    <div\r\n                                        className=\"border rounded-lg p-4 bg-gray-50 max-h-96 overflow-y-auto preview-frame\"\r\n                                        dangerouslySetInnerHTML={{ __html: originalHtml }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-3\">\r\n                                    <h3 className=\"font-semibold text-lg flex items-center gap-2\">\r\n                                        <i className=\"fa fa-magic text-blue-500\"></i> Phiên bản AI\r\n                                    </h3>\r\n                                    {aiThumbnail && (\r\n                                        <img\r\n                                            src={aiThumbnail}\r\n                                            alt=\"AI Preview\"\r\n                                            className=\"w-full rounded-lg border shadow-sm max-h-48 object-cover\"\r\n                                            onError={(e) => {\r\n                                                e.target.style.display = \"none\";\r\n                                            }}\r\n                                        />\r\n                                    )}\r\n                                    <div\r\n                                        className=\"border rounded-lg p-4 bg-gray-50 max-h-96 overflow-y-auto preview-frame\"\r\n                                        dangerouslySetInnerHTML={{ __html: aiHtml }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"p-6 border-t bg-gray-50 flex justify-end gap-3\">\r\n                            <button\r\n                                onClick={() => setAiModalOpen(false)}\r\n                                className=\"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors\"\r\n                            >\r\n                                Hủy\r\n                            </button>\r\n                            <button\r\n                                onClick={handleAcceptAi}\r\n                                className=\"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2\"\r\n                            >\r\n                                <i className=\"fa fa-check\"></i> Áp dụng AI Refactor\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"fixed bottom-6 right-6 z-40\">\r\n                <div className=\"bg-white/95 backdrop-blur-md rounded-lg shadow-lg border p-2 flex flex-col gap-2\">\r\n                    <button\r\n                        onClick={() => editorRef.current?.runCommand(\"core:undo\")}\r\n                        className=\"p-2 hover:bg-gray-100 rounded transition-colors\"\r\n                        title=\"Hoàn tác\"\r\n                    >\r\n                        <i className=\"fa fa-undo text-gray-600\"></i>\r\n                    </button>\r\n                    <button\r\n                        onClick={() => editorRef.current?.runCommand(\"core:redo\")}\r\n                        className=\"p-2 hover:bg-gray-100 rounded transition-colors\"\r\n                        title=\"Làm lại\"\r\n                    >\r\n                        <i className=\"fa fa-redo text-gray-600\"></i>\r\n                    </button>\r\n                    <button\r\n                        onClick={() => editorRef.current?.runCommand(\"core:canvas-clear\")}\r\n                        className=\"p-2 hover:bg-gray-100 rounded transition-colors\"\r\n                        title=\"Xóa tất cả\"\r\n                    >\r\n                        <i className=\"fa fa-trash text-red-500\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"fixed bottom-6 left-6 z-40\">\r\n                <button\r\n                    onClick={() => setShowShortcuts(!showShortcuts)}\r\n                    className=\"bg-gray-800 text-white p-2 rounded-full shadow-lg hover:bg-gray-700 transition-colors\"\r\n                    title=\"Phím tắt\"\r\n                >\r\n                    <i className=\"fa fa-keyboard\"></i>\r\n                </button>\r\n                {showShortcuts && (\r\n                    <div className=\"absolute bottom-12 left-0 bg-white/95 backdrop-blur-md rounded-lg shadow-xl border p-4 w-64\">\r\n                        <h4 className=\"font-semibold mb-2\">Phím tắt</h4>\r\n                        <div className=\"text-sm space-y-1\">\r\n                            <div>Ctrl+S: Lưu</div>\r\n                            <div>Ctrl+Z: Hoàn tác</div>\r\n                            <div>Ctrl+Y: Làm lại</div>\r\n                            <div>Delete: Xóa element</div>\r\n                            <div>Esc: Bỏ chọn</div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n\r\n};\r\n\r\nexport default CreateLandingPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}