{"ast":null,"code":"var _s = $RefreshSig$();\nconst React = require(\"react\");\nconst {\n  useState,\n  useEffect,\n  useRef\n} = React;\nconst {\n  useNavigate\n} = require(\"react-router-dom\");\nconst jwtDecode = require(\"jwt-decode\");\nconst api = require(\"@landinghub/api\");\nconst DogLoader = require(\"../components/DogLoader\");\nconst grapesjs = require(\"grapesjs\");\nrequire(\"grapesjs/dist/css/grapes.min.css\");\nrequire(\"grapesjs-blocks-basic\");\nrequire(\"../styles/CreateLanding.css\"); // CSS ƒë·∫πp ƒë√£ vi·∫øt\n\nfunction CreateLandingPage() {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [pageDescription, setPageDescription] = useState(\"\");\n  const [saveTime, setSaveTime] = useState(null);\n  const [aiModalOpen, setAiModalOpen] = useState(false);\n  const [aiHtml, setAiHtml] = useState(\"\");\n  const [aiThumbnail, setAiThumbnail] = useState(\"\");\n  const editorRef = useRef(null);\n  const editorContainerRef = useRef(null);\n  const navigate = useNavigate();\n\n  // --- Auth check ---\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/auth\");\n      return;\n    }\n    try {\n      const decoded = jwtDecode(token);\n      if (!decoded.userId) throw new Error(\"Invalid token\");\n      api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    } catch {\n      navigate(\"/auth\");\n    }\n  }, [navigate]);\n\n  // --- Init GrapesJS ---\n  useEffect(() => {\n    if (!editorRef.current) {\n      editorRef.current = grapesjs.init({\n        container: editorContainerRef.current,\n        height: \"80vh\",\n        fromElement: false,\n        storageManager: false,\n        plugins: [\"gjs-blocks-basic\"],\n        pluginsOpts: {\n          \"gjs-blocks-basic\": {}\n        },\n        blockManager: {\n          appendTo: \"#blocks-panel\"\n        }\n      });\n      [\"update\", \"component:add\", \"component:remove\"].forEach(event => editorRef.current.on(event, handleAutoSave));\n    }\n  }, []);\n\n  // --- Auto save ---\n  const handleAutoSave = async () => {\n    if (!editorRef.current) return;\n    const html = editorRef.current.getHtml();\n    const css = editorRef.current.getCss();\n    try {\n      await api.post(\"/api/pages/auto-save\", {\n        html,\n        css\n      });\n      setSaveTime(new Date().toLocaleTimeString());\n    } catch (err) {\n      console.error(\"Auto save error:\", err);\n    }\n  };\n\n  // --- Reload editor ---\n  const handleReloadEditor = () => {\n    if (editorRef.current) {\n      editorRef.current.destroy();\n      editorRef.current = null;\n      window.location.reload();\n    }\n  };\n\n  // --- Export HTML ---\n  const handleExportHTML = () => {\n    if (!editorRef.current) return;\n    const html = editorRef.current.getHtml();\n    const css = editorRef.current.getCss();\n    const fullHtml = `<html><head><style>${css}</style></head><body>${html}</body></html>`;\n    const blob = new Blob([fullHtml], {\n      type: \"text/html\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"landing-page.html\";\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // --- AI Refactor modal ---\n  const handleAiRefactor = async () => {\n    if (!editorRef.current) return;\n    const originalHtml = editorRef.current.getHtml();\n    try {\n      // G·ªçi API AI Refactor\n      const response = await api.post(\"/api/pages/ai-refactor\", {\n        html: originalHtml\n      });\n      setAiHtml(response.data.html);\n      setAiThumbnail(response.data.thumbnail); // thumbnail URL\n      setAiModalOpen(true);\n    } catch (err) {\n      console.error(\"AI Refactor error:\", err);\n      setError(\"L·ªói khi g·ªçi AI Refactor\");\n    }\n  };\n  const handleAcceptAi = () => {\n    if (!editorRef.current) return;\n    editorRef.current.setComponents(aiHtml);\n    handleAutoSave(); // l∆∞u t·ª± ƒë·ªông\n    setAiModalOpen(false);\n  };\n  if (loading) return React.createElement(DogLoader, null);\n  return React.createElement(\"div\", {\n    className: \"create-landing-page flex gap-4 p-4 max-w-7xl mx-auto\"\n  },\n  // Panel block\n  React.createElement(\"div\", {\n    id: \"blocks-panel\",\n    className: \"border p-2 rounded w-60 bg-white\"\n  }),\n  // Main content\n  React.createElement(\"div\", {\n    className: \"flex-1 flex flex-col gap-4\"\n  },\n  // Header\n  React.createElement(\"div\", {\n    className: \"flex justify-between items-center mb-2\"\n  }, React.createElement(\"button\", {\n    onClick: () => navigate(\"/pages\"),\n    className: \"btn-secondary\"\n  }, \"‚Üê Quay l·∫°i\"), React.createElement(\"h1\", {\n    className: \"text-2xl font-bold\"\n  }, \"T·∫°o Landing Page\")),\n  // Error\n  error && React.createElement(\"div\", {\n    className: \"error\"\n  }, error, React.createElement(\"button\", {\n    onClick: () => setError(null)\n  }, \"ƒê√≥ng\")),\n  // Description + actions\n  React.createElement(\"div\", {\n    className: \"flex flex-col gap-2\"\n  }, React.createElement(\"textarea\", {\n    value: pageDescription,\n    onChange: e => setPageDescription(e.target.value),\n    rows: 4,\n    placeholder: \"M√¥ t·∫£ chi ti·∫øt...\",\n    className: \"textarea\"\n  }), React.createElement(\"div\", {\n    className: \"flex gap-2 items-center\"\n  }, React.createElement(\"button\", {\n    onClick: handleExportHTML,\n    className: \"btn-primary\"\n  }, \"üíø Xu·∫•t HTML\"), React.createElement(\"button\", {\n    onClick: handleReloadEditor,\n    className: \"btn-danger\"\n  }, \"üîÅ Reload Editor\"), React.createElement(\"button\", {\n    onClick: handleAiRefactor,\n    className: \"btn-primary\"\n  }, \"ü§ñ AI Refactor\"), saveTime && React.createElement(\"span\", {\n    className: \"save-time\"\n  }, `‚è∞ L·∫ßn l∆∞u cu·ªëi: ${saveTime}`))),\n  // GrapesJS editor\n  React.createElement(\"div\", {\n    ref: editorContainerRef,\n    className: \"editor-section border rounded\"\n  }),\n  // AI Modal\n  aiModalOpen && React.createElement(\"div\", {\n    className: \"ai-preview-modal\"\n  }, React.createElement(\"div\", {\n    className: \"ai-preview-content\"\n  }, React.createElement(\"h2\", null, \"AI Refactor Preview\"), React.createElement(\"div\", {\n    className: \"flex gap-4\"\n  }, React.createElement(\"div\", {\n    className: \"ai-preview flex-1 border p-2\"\n  }, React.createElement(\"h3\", null, \"B·∫£n g·ªëc\"), React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: editorRef.current.getHtml()\n    }\n  })), React.createElement(\"div\", {\n    className: \"ai-preview flex-1 border p-2\"\n  }, React.createElement(\"h3\", null, \"AI Refactor\"), React.createElement(\"img\", {\n    src: aiThumbnail,\n    alt: \"Thumbnail\",\n    style: {\n      width: \"100%\",\n      marginBottom: \"8px\"\n    }\n  }), React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: aiHtml\n    }\n  }))), React.createElement(\"div\", {\n    className: \"ai-actions flex justify-end gap-2 mt-2\"\n  }, React.createElement(\"button\", {\n    onClick: () => setAiModalOpen(false),\n    className: \"btn-secondary\"\n  }, \"H·ªßy\"), React.createElement(\"button\", {\n    onClick: handleAcceptAi,\n    className: \"btn-success\"\n  }, \"ƒê·ªìng √Ω AI Refactor\"))))));\n}\n_s(CreateLandingPage, \"r4NtaAlAnR86SCnNHs5Rf5yIXnI=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateLandingPage;\nmodule.exports = CreateLandingPage;\nvar _c;\n$RefreshReg$(_c, \"CreateLandingPage\");","map":{"version":3,"names":["React","require","useState","useEffect","useRef","useNavigate","jwtDecode","api","DogLoader","grapesjs","CreateLandingPage","_s","loading","setLoading","error","setError","pageDescription","setPageDescription","saveTime","setSaveTime","aiModalOpen","setAiModalOpen","aiHtml","setAiHtml","aiThumbnail","setAiThumbnail","editorRef","editorContainerRef","navigate","token","localStorage","getItem","decoded","userId","Error","defaults","headers","common","current","init","container","height","fromElement","storageManager","plugins","pluginsOpts","blockManager","appendTo","forEach","event","on","handleAutoSave","html","getHtml","css","getCss","post","Date","toLocaleTimeString","err","console","handleReloadEditor","destroy","window","location","reload","handleExportHTML","fullHtml","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","handleAiRefactor","originalHtml","response","data","thumbnail","handleAcceptAi","setComponents","className","id","onClick","value","onChange","e","target","rows","placeholder","ref","dangerouslySetInnerHTML","__html","src","alt","style","width","marginBottom","_c","module","exports","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/CreateLanding.js"],"sourcesContent":["const React = require(\"react\");\r\nconst { useState, useEffect, useRef } = React;\r\nconst { useNavigate } = require(\"react-router-dom\");\r\nconst jwtDecode = require(\"jwt-decode\");\r\nconst api = require(\"@landinghub/api\");\r\nconst DogLoader = require(\"../components/DogLoader\");\r\n\r\n\r\nconst grapesjs = require(\"grapesjs\");\r\nrequire(\"grapesjs/dist/css/grapes.min.css\");\r\nrequire(\"grapesjs-blocks-basic\");\r\nrequire(\"../styles/CreateLanding.css\"); // CSS ƒë·∫πp ƒë√£ vi·∫øt\r\n\r\n\r\nfunction CreateLandingPage() {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [pageDescription, setPageDescription] = useState(\"\");\r\n    const [saveTime, setSaveTime] = useState(null);\r\n    const [aiModalOpen, setAiModalOpen] = useState(false);\r\n    const [aiHtml, setAiHtml] = useState(\"\");\r\n    const [aiThumbnail, setAiThumbnail] = useState(\"\");\r\n    const editorRef = useRef(null);\r\n    const editorContainerRef = useRef(null);\r\n    const navigate = useNavigate();\r\n\r\n    // --- Auth check ---\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (!token) {\r\n            navigate(\"/auth\");\r\n            return;\r\n        }\r\n        try {\r\n            const decoded = jwtDecode(token);\r\n            if (!decoded.userId) throw new Error(\"Invalid token\");\r\n            api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n        } catch {\r\n            navigate(\"/auth\");\r\n        }\r\n    }, [navigate]);\r\n\r\n    // --- Init GrapesJS ---\r\n    useEffect(() => {\r\n        if (!editorRef.current) {\r\n            editorRef.current = grapesjs.init({\r\n                container: editorContainerRef.current,\r\n                height: \"80vh\",\r\n                fromElement: false,\r\n                storageManager: false,\r\n                plugins: [\"gjs-blocks-basic\"],\r\n                pluginsOpts: { \"gjs-blocks-basic\": {} },\r\n                blockManager: {\r\n                    appendTo: \"#blocks-panel\",\r\n                },\r\n            });\r\n\r\n            [\"update\", \"component:add\", \"component:remove\"].forEach((event) =>\r\n                editorRef.current.on(event, handleAutoSave)\r\n            );\r\n        }\r\n    }, []);\r\n\r\n    // --- Auto save ---\r\n    const handleAutoSave = async () => {\r\n        if (!editorRef.current) return;\r\n        const html = editorRef.current.getHtml();\r\n        const css = editorRef.current.getCss();\r\n        try {\r\n            await api.post(\"/api/pages/auto-save\", { html, css });\r\n            setSaveTime(new Date().toLocaleTimeString());\r\n        } catch (err) {\r\n            console.error(\"Auto save error:\", err);\r\n        }\r\n    };\r\n\r\n    // --- Reload editor ---\r\n    const handleReloadEditor = () => {\r\n        if (editorRef.current) {\r\n            editorRef.current.destroy();\r\n            editorRef.current = null;\r\n            window.location.reload();\r\n        }\r\n    };\r\n\r\n    // --- Export HTML ---\r\n    const handleExportHTML = () => {\r\n        if (!editorRef.current) return;\r\n        const html = editorRef.current.getHtml();\r\n        const css = editorRef.current.getCss();\r\n        const fullHtml = `<html><head><style>${css}</style></head><body>${html}</body></html>`;\r\n        const blob = new Blob([fullHtml], { type: \"text/html\" });\r\n        const url = URL.createObjectURL(blob);\r\n        const a = document.createElement(\"a\");\r\n        a.href = url;\r\n        a.download = \"landing-page.html\";\r\n        a.click();\r\n        URL.revokeObjectURL(url);\r\n    };\r\n\r\n    // --- AI Refactor modal ---\r\n    const handleAiRefactor = async () => {\r\n        if (!editorRef.current) return;\r\n        const originalHtml = editorRef.current.getHtml();\r\n        try {\r\n            // G·ªçi API AI Refactor\r\n            const response = await api.post(\"/api/pages/ai-refactor\", {\r\n                html: originalHtml,\r\n            });\r\n            setAiHtml(response.data.html);\r\n            setAiThumbnail(response.data.thumbnail); // thumbnail URL\r\n            setAiModalOpen(true);\r\n        } catch (err) {\r\n            console.error(\"AI Refactor error:\", err);\r\n            setError(\"L·ªói khi g·ªçi AI Refactor\");\r\n        }\r\n    };\r\n\r\n    const handleAcceptAi = () => {\r\n        if (!editorRef.current) return;\r\n        editorRef.current.setComponents(aiHtml);\r\n        handleAutoSave(); // l∆∞u t·ª± ƒë·ªông\r\n        setAiModalOpen(false);\r\n    };\r\n\r\n    if (loading) return React.createElement(DogLoader, null);\r\n\r\n    return React.createElement(\r\n        \"div\",\r\n        { className: \"create-landing-page flex gap-4 p-4 max-w-7xl mx-auto\" },\r\n        // Panel block\r\n        React.createElement(\"div\", { id: \"blocks-panel\", className: \"border p-2 rounded w-60 bg-white\" }),\r\n        // Main content\r\n        React.createElement(\r\n            \"div\",\r\n            { className: \"flex-1 flex flex-col gap-4\" },\r\n            // Header\r\n            React.createElement(\r\n                \"div\",\r\n                { className: \"flex justify-between items-center mb-2\" },\r\n                React.createElement(\r\n                    \"button\",\r\n                    { onClick: () => navigate(\"/pages\"), className: \"btn-secondary\" },\r\n                    \"‚Üê Quay l·∫°i\"\r\n                ),\r\n                React.createElement(\"h1\", { className: \"text-2xl font-bold\" }, \"T·∫°o Landing Page\")\r\n            ),\r\n            // Error\r\n            error &&\r\n            React.createElement(\r\n                \"div\",\r\n                { className: \"error\" },\r\n                error,\r\n                React.createElement(\"button\", { onClick: () => setError(null) }, \"ƒê√≥ng\")\r\n            ),\r\n            // Description + actions\r\n            React.createElement(\r\n                \"div\",\r\n                { className: \"flex flex-col gap-2\" },\r\n                React.createElement(\"textarea\", {\r\n                    value: pageDescription,\r\n                    onChange: (e) => setPageDescription(e.target.value),\r\n                    rows: 4,\r\n                    placeholder: \"M√¥ t·∫£ chi ti·∫øt...\",\r\n                    className: \"textarea\",\r\n                }),\r\n                React.createElement(\r\n                    \"div\",\r\n                    { className: \"flex gap-2 items-center\" },\r\n                    React.createElement(\r\n                        \"button\",\r\n                        { onClick: handleExportHTML, className: \"btn-primary\" },\r\n                        \"üíø Xu·∫•t HTML\"\r\n                    ),\r\n                    React.createElement(\r\n                        \"button\",\r\n                        { onClick: handleReloadEditor, className: \"btn-danger\" },\r\n                        \"üîÅ Reload Editor\"\r\n                    ),\r\n                    React.createElement(\r\n                        \"button\",\r\n                        { onClick: handleAiRefactor, className: \"btn-primary\" },\r\n                        \"ü§ñ AI Refactor\"\r\n                    ),\r\n                    saveTime &&\r\n                    React.createElement(\"span\", { className: \"save-time\" }, `‚è∞ L·∫ßn l∆∞u cu·ªëi: ${saveTime}`)\r\n                )\r\n            ),\r\n            // GrapesJS editor\r\n            React.createElement(\"div\", { ref: editorContainerRef, className: \"editor-section border rounded\" }),\r\n            // AI Modal\r\n            aiModalOpen &&\r\n            React.createElement(\r\n                \"div\",\r\n                { className: \"ai-preview-modal\" },\r\n                React.createElement(\r\n                    \"div\",\r\n                    { className: \"ai-preview-content\" },\r\n                    React.createElement(\"h2\", null, \"AI Refactor Preview\"),\r\n                    React.createElement(\r\n                        \"div\",\r\n                        { className: \"flex gap-4\" },\r\n                        React.createElement(\r\n                            \"div\",\r\n                            { className: \"ai-preview flex-1 border p-2\" },\r\n                            React.createElement(\"h3\", null, \"B·∫£n g·ªëc\"),\r\n                            React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: editorRef.current.getHtml() } })\r\n                        ),\r\n                        React.createElement(\r\n                            \"div\",\r\n                            { className: \"ai-preview flex-1 border p-2\" },\r\n                            React.createElement(\"h3\", null, \"AI Refactor\"),\r\n                            React.createElement(\"img\", { src: aiThumbnail, alt: \"Thumbnail\", style: { width: \"100%\", marginBottom: \"8px\" } }),\r\n                            React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: aiHtml } })\r\n                        )\r\n                    ),\r\n                    React.createElement(\r\n                        \"div\",\r\n                        { className: \"ai-actions flex justify-end gap-2 mt-2\" },\r\n                        React.createElement(\"button\", { onClick: () => setAiModalOpen(false), className: \"btn-secondary\" }, \"H·ªßy\"),\r\n                        React.createElement(\"button\", { onClick: handleAcceptAi, className: \"btn-success\" }, \"ƒê·ªìng √Ω AI Refactor\")\r\n                    )\r\n                )\r\n            )\r\n        )\r\n    );\r\n}\r\n\r\nmodule.exports = CreateLandingPage;\r\n"],"mappings":";AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAM;EAAEC,QAAQ;EAAEC,SAAS;EAAEC;AAAO,CAAC,GAAGJ,KAAK;AAC7C,MAAM;EAAEK;AAAY,CAAC,GAAGJ,OAAO,CAAC,kBAAkB,CAAC;AACnD,MAAMK,SAAS,GAAGL,OAAO,CAAC,YAAY,CAAC;AACvC,MAAMM,GAAG,GAAGN,OAAO,CAAC,iBAAiB,CAAC;AACtC,MAAMO,SAAS,GAAGP,OAAO,CAAC,yBAAyB,CAAC;AAGpD,MAAMQ,QAAQ,GAAGR,OAAO,CAAC,UAAU,CAAC;AACpCA,OAAO,CAAC,kCAAkC,CAAC;AAC3CA,OAAO,CAAC,uBAAuB,CAAC;AAChCA,OAAO,CAAC,6BAA6B,CAAC,CAAC,CAAC;;AAGxC,SAASS,iBAAiBA,CAAA,EAAG;EAAAC,EAAA;EACzB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACc,eAAe,EAAEC,kBAAkB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACkB,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACoB,MAAM,EAAEC,SAAS,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACsB,WAAW,EAAEC,cAAc,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAMwB,SAAS,GAAGtB,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMuB,kBAAkB,GAAGvB,MAAM,CAAC,IAAI,CAAC;EACvC,MAAMwB,QAAQ,GAAGvB,WAAW,CAAC,CAAC;;EAE9B;EACAF,SAAS,CAAC,MAAM;IACZ,MAAM0B,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACRD,QAAQ,CAAC,OAAO,CAAC;MACjB;IACJ;IACA,IAAI;MACA,MAAMI,OAAO,GAAG1B,SAAS,CAACuB,KAAK,CAAC;MAChC,IAAI,CAACG,OAAO,CAACC,MAAM,EAAE,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;MACrD3B,GAAG,CAAC4B,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,UAAUR,KAAK,EAAE;IACpE,CAAC,CAAC,MAAM;MACJD,QAAQ,CAAC,OAAO,CAAC;IACrB;EACJ,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;;EAEd;EACAzB,SAAS,CAAC,MAAM;IACZ,IAAI,CAACuB,SAAS,CAACY,OAAO,EAAE;MACpBZ,SAAS,CAACY,OAAO,GAAG7B,QAAQ,CAAC8B,IAAI,CAAC;QAC9BC,SAAS,EAAEb,kBAAkB,CAACW,OAAO;QACrCG,MAAM,EAAE,MAAM;QACdC,WAAW,EAAE,KAAK;QAClBC,cAAc,EAAE,KAAK;QACrBC,OAAO,EAAE,CAAC,kBAAkB,CAAC;QAC7BC,WAAW,EAAE;UAAE,kBAAkB,EAAE,CAAC;QAAE,CAAC;QACvCC,YAAY,EAAE;UACVC,QAAQ,EAAE;QACd;MACJ,CAAC,CAAC;MAEF,CAAC,QAAQ,EAAE,eAAe,EAAE,kBAAkB,CAAC,CAACC,OAAO,CAAEC,KAAK,IAC1DvB,SAAS,CAACY,OAAO,CAACY,EAAE,CAACD,KAAK,EAAEE,cAAc,CAC9C,CAAC;IACL;EACJ,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMA,cAAc,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACzB,SAAS,CAACY,OAAO,EAAE;IACxB,MAAMc,IAAI,GAAG1B,SAAS,CAACY,OAAO,CAACe,OAAO,CAAC,CAAC;IACxC,MAAMC,GAAG,GAAG5B,SAAS,CAACY,OAAO,CAACiB,MAAM,CAAC,CAAC;IACtC,IAAI;MACA,MAAMhD,GAAG,CAACiD,IAAI,CAAC,sBAAsB,EAAE;QAAEJ,IAAI;QAAEE;MAAI,CAAC,CAAC;MACrDnC,WAAW,CAAC,IAAIsC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAC;IAChD,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVC,OAAO,CAAC9C,KAAK,CAAC,kBAAkB,EAAE6C,GAAG,CAAC;IAC1C;EACJ,CAAC;;EAED;EACA,MAAME,kBAAkB,GAAGA,CAAA,KAAM;IAC7B,IAAInC,SAAS,CAACY,OAAO,EAAE;MACnBZ,SAAS,CAACY,OAAO,CAACwB,OAAO,CAAC,CAAC;MAC3BpC,SAAS,CAACY,OAAO,GAAG,IAAI;MACxByB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC5B;EACJ,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC3B,IAAI,CAACxC,SAAS,CAACY,OAAO,EAAE;IACxB,MAAMc,IAAI,GAAG1B,SAAS,CAACY,OAAO,CAACe,OAAO,CAAC,CAAC;IACxC,MAAMC,GAAG,GAAG5B,SAAS,CAACY,OAAO,CAACiB,MAAM,CAAC,CAAC;IACtC,MAAMY,QAAQ,GAAG,sBAAsBb,GAAG,wBAAwBF,IAAI,gBAAgB;IACtF,MAAMgB,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACF,QAAQ,CAAC,EAAE;MAAEG,IAAI,EAAE;IAAY,CAAC,CAAC;IACxD,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC;IACrC,MAAMM,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACrCF,CAAC,CAACG,IAAI,GAAGN,GAAG;IACZG,CAAC,CAACI,QAAQ,GAAG,mBAAmB;IAChCJ,CAAC,CAACK,KAAK,CAAC,CAAC;IACTP,GAAG,CAACQ,eAAe,CAACT,GAAG,CAAC;EAC5B,CAAC;;EAED;EACA,MAAMU,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI,CAACvD,SAAS,CAACY,OAAO,EAAE;IACxB,MAAM4C,YAAY,GAAGxD,SAAS,CAACY,OAAO,CAACe,OAAO,CAAC,CAAC;IAChD,IAAI;MACA;MACA,MAAM8B,QAAQ,GAAG,MAAM5E,GAAG,CAACiD,IAAI,CAAC,wBAAwB,EAAE;QACtDJ,IAAI,EAAE8B;MACV,CAAC,CAAC;MACF3D,SAAS,CAAC4D,QAAQ,CAACC,IAAI,CAAChC,IAAI,CAAC;MAC7B3B,cAAc,CAAC0D,QAAQ,CAACC,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC;MACzChE,cAAc,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC,OAAOsC,GAAG,EAAE;MACVC,OAAO,CAAC9C,KAAK,CAAC,oBAAoB,EAAE6C,GAAG,CAAC;MACxC5C,QAAQ,CAAC,yBAAyB,CAAC;IACvC;EACJ,CAAC;EAED,MAAMuE,cAAc,GAAGA,CAAA,KAAM;IACzB,IAAI,CAAC5D,SAAS,CAACY,OAAO,EAAE;IACxBZ,SAAS,CAACY,OAAO,CAACiD,aAAa,CAACjE,MAAM,CAAC;IACvC6B,cAAc,CAAC,CAAC,CAAC,CAAC;IAClB9B,cAAc,CAAC,KAAK,CAAC;EACzB,CAAC;EAED,IAAIT,OAAO,EAAE,OAAOZ,KAAK,CAAC4E,aAAa,CAACpE,SAAS,EAAE,IAAI,CAAC;EAExD,OAAOR,KAAK,CAAC4E,aAAa,CACtB,KAAK,EACL;IAAEY,SAAS,EAAE;EAAuD,CAAC;EACrE;EACAxF,KAAK,CAAC4E,aAAa,CAAC,KAAK,EAAE;IAAEa,EAAE,EAAE,cAAc;IAAED,SAAS,EAAE;EAAmC,CAAC,CAAC;EACjG;EACAxF,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAA6B,CAAC;EAC3C;EACAxF,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAAyC,CAAC,EACvDxF,KAAK,CAAC4E,aAAa,CACf,QAAQ,EACR;IAAEc,OAAO,EAAEA,CAAA,KAAM9D,QAAQ,CAAC,QAAQ,CAAC;IAAE4D,SAAS,EAAE;EAAgB,CAAC,EACjE,YACJ,CAAC,EACDxF,KAAK,CAAC4E,aAAa,CAAC,IAAI,EAAE;IAAEY,SAAS,EAAE;EAAqB,CAAC,EAAE,kBAAkB,CACrF,CAAC;EACD;EACA1E,KAAK,IACLd,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAAQ,CAAC,EACtB1E,KAAK,EACLd,KAAK,CAAC4E,aAAa,CAAC,QAAQ,EAAE;IAAEc,OAAO,EAAEA,CAAA,KAAM3E,QAAQ,CAAC,IAAI;EAAE,CAAC,EAAE,MAAM,CAC3E,CAAC;EACD;EACAf,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAAsB,CAAC,EACpCxF,KAAK,CAAC4E,aAAa,CAAC,UAAU,EAAE;IAC5Be,KAAK,EAAE3E,eAAe;IACtB4E,QAAQ,EAAGC,CAAC,IAAK5E,kBAAkB,CAAC4E,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IACnDI,IAAI,EAAE,CAAC;IACPC,WAAW,EAAE,mBAAmB;IAChCR,SAAS,EAAE;EACf,CAAC,CAAC,EACFxF,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAA0B,CAAC,EACxCxF,KAAK,CAAC4E,aAAa,CACf,QAAQ,EACR;IAAEc,OAAO,EAAExB,gBAAgB;IAAEsB,SAAS,EAAE;EAAc,CAAC,EACvD,cACJ,CAAC,EACDxF,KAAK,CAAC4E,aAAa,CACf,QAAQ,EACR;IAAEc,OAAO,EAAE7B,kBAAkB;IAAE2B,SAAS,EAAE;EAAa,CAAC,EACxD,kBACJ,CAAC,EACDxF,KAAK,CAAC4E,aAAa,CACf,QAAQ,EACR;IAAEc,OAAO,EAAET,gBAAgB;IAAEO,SAAS,EAAE;EAAc,CAAC,EACvD,gBACJ,CAAC,EACDtE,QAAQ,IACRlB,KAAK,CAAC4E,aAAa,CAAC,MAAM,EAAE;IAAEY,SAAS,EAAE;EAAY,CAAC,EAAE,mBAAmBtE,QAAQ,EAAE,CACzF,CACJ,CAAC;EACD;EACAlB,KAAK,CAAC4E,aAAa,CAAC,KAAK,EAAE;IAAEqB,GAAG,EAAEtE,kBAAkB;IAAE6D,SAAS,EAAE;EAAgC,CAAC,CAAC;EACnG;EACApE,WAAW,IACXpB,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAAmB,CAAC,EACjCxF,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAAqB,CAAC,EACnCxF,KAAK,CAAC4E,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,qBAAqB,CAAC,EACtD5E,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAAa,CAAC,EAC3BxF,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAA+B,CAAC,EAC7CxF,KAAK,CAAC4E,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,SAAS,CAAC,EAC1C5E,KAAK,CAAC4E,aAAa,CAAC,KAAK,EAAE;IAAEsB,uBAAuB,EAAE;MAAEC,MAAM,EAAEzE,SAAS,CAACY,OAAO,CAACe,OAAO,CAAC;IAAE;EAAE,CAAC,CACnG,CAAC,EACDrD,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAA+B,CAAC,EAC7CxF,KAAK,CAAC4E,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa,CAAC,EAC9C5E,KAAK,CAAC4E,aAAa,CAAC,KAAK,EAAE;IAAEwB,GAAG,EAAE5E,WAAW;IAAE6E,GAAG,EAAE,WAAW;IAAEC,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,YAAY,EAAE;IAAM;EAAE,CAAC,CAAC,EACjHxG,KAAK,CAAC4E,aAAa,CAAC,KAAK,EAAE;IAAEsB,uBAAuB,EAAE;MAAEC,MAAM,EAAE7E;IAAO;EAAE,CAAC,CAC9E,CACJ,CAAC,EACDtB,KAAK,CAAC4E,aAAa,CACf,KAAK,EACL;IAAEY,SAAS,EAAE;EAAyC,CAAC,EACvDxF,KAAK,CAAC4E,aAAa,CAAC,QAAQ,EAAE;IAAEc,OAAO,EAAEA,CAAA,KAAMrE,cAAc,CAAC,KAAK,CAAC;IAAEmE,SAAS,EAAE;EAAgB,CAAC,EAAE,KAAK,CAAC,EAC1GxF,KAAK,CAAC4E,aAAa,CAAC,QAAQ,EAAE;IAAEc,OAAO,EAAEJ,cAAc;IAAEE,SAAS,EAAE;EAAc,CAAC,EAAE,oBAAoB,CAC7G,CACJ,CACJ,CACJ,CACJ,CAAC;AACL;AAAC7E,EAAA,CApNQD,iBAAiB;EAAA,QAULL,WAAW;AAAA;AAAAoG,EAAA,GAVvB/F,iBAAiB;AAsN1BgG,MAAM,CAACC,OAAO,GAAGjG,iBAAiB;AAAC,IAAA+F,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}