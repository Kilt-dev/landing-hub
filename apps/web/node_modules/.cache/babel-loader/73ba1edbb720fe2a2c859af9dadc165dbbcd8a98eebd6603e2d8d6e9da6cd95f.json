{"ast":null,"code":"// [responsiveSync.js] - NỘI DUNG MỚI (THAY THẾ HOÀN TOÀN)\n\n/**\r\n * Các key này trong componentData sẽ được lưu riêng cho từng viewMode.\r\n * Các key khác (như src, alt, icon, imageUrl, events, images) sẽ được lưu global.\r\n */\nexport const RESPONSIVE_DATA_KEYS = ['content', 'animation', 'title', 'overlayColor', 'overlayOpacity', 'backgroundType', 'rotate', 'scale', 'hoverZoom', 'hoverRotate', 'hoverGrayscale'];\n\n/**\r\n * Lấy các giá trị (size, position, styles, componentData) cho viewMode hiện tại\r\n * bằng cách merge chúng theo thứ tự Desktop -> Tablet -> Mobile (Cascading).\r\n */\nexport const getResponsiveValues = (element, viewMode) => {\n  var _element$size, _element$position, _element$styles, _element$componentDat;\n  // 1. Lấy giá trị Desktop làm nền tảng (luôn luôn)\n  const baseSize = ((_element$size = element.size) === null || _element$size === void 0 ? void 0 : _element$size.desktop) || element.size || {\n    width: 200,\n    height: 50\n  };\n  const basePosition = ((_element$position = element.position) === null || _element$position === void 0 ? void 0 : _element$position.desktop) || element.position || {\n    x: 0,\n    y: 0,\n    z: 1\n  };\n  const baseStyles = ((_element$styles = element.styles) === null || _element$styles === void 0 ? void 0 : _element$styles.desktop) || element.styles || {};\n\n  // 2. Xử lý Component Data (Quan trọng)\n  // Bắt đầu với TẤT CẢ data global (không nằm trong các bucket desktop/tablet/mobile)\n  const globalComponentData = {\n    ...element.componentData\n  };\n  delete globalComponentData.desktop;\n  delete globalComponentData.tablet;\n  delete globalComponentData.mobile;\n\n  // Lấy data responsive nền (desktop)\n  const baseResponsiveComponentData = ((_element$componentDat = element.componentData) === null || _element$componentDat === void 0 ? void 0 : _element$componentDat.desktop) || {};\n\n  // Merge global + desktop\n  let responsiveComponentData = {\n    ...globalComponentData,\n    ...baseResponsiveComponentData\n  };\n  let responsiveSize = {\n    ...baseSize\n  };\n  let responsivePosition = {\n    ...basePosition\n  };\n  let responsiveStyles = {\n    ...baseStyles\n  };\n\n  // 3. Nếu là Tablet, đè giá trị Tablet lên Desktop\n  if (viewMode === 'tablet') {\n    var _element$size2, _element$position2, _element$styles2, _element$componentDat2;\n    responsiveSize = {\n      ...responsiveSize,\n      ...(((_element$size2 = element.size) === null || _element$size2 === void 0 ? void 0 : _element$size2.tablet) || {})\n    };\n    responsivePosition = {\n      ...responsivePosition,\n      ...(((_element$position2 = element.position) === null || _element$position2 === void 0 ? void 0 : _element$position2.tablet) || {})\n    };\n    responsiveStyles = {\n      ...responsiveStyles,\n      ...(((_element$styles2 = element.styles) === null || _element$styles2 === void 0 ? void 0 : _element$styles2.tablet) || {})\n    };\n    responsiveComponentData = {\n      ...responsiveComponentData,\n      ...(((_element$componentDat2 = element.componentData) === null || _element$componentDat2 === void 0 ? void 0 : _element$componentDat2.tablet) || {})\n    };\n  }\n\n  // 4. Nếu là Mobile, đè giá trị Mobile lên (Desktop -> Tablet)\n  if (viewMode === 'mobile') {\n    var _element$size3, _element$size4, _element$position3, _element$position4, _element$styles3, _element$styles4, _element$componentDat3, _element$componentDat4;\n    responsiveSize = {\n      ...responsiveSize,\n      ...(((_element$size3 = element.size) === null || _element$size3 === void 0 ? void 0 : _element$size3.tablet) || {}),\n      ...(((_element$size4 = element.size) === null || _element$size4 === void 0 ? void 0 : _element$size4.mobile) || {})\n    };\n    responsivePosition = {\n      ...responsivePosition,\n      ...(((_element$position3 = element.position) === null || _element$position3 === void 0 ? void 0 : _element$position3.tablet) || {}),\n      ...(((_element$position4 = element.position) === null || _element$position4 === void 0 ? void 0 : _element$position4.mobile) || {})\n    };\n    responsiveStyles = {\n      ...responsiveStyles,\n      ...(((_element$styles3 = element.styles) === null || _element$styles3 === void 0 ? void 0 : _element$styles3.tablet) || {}),\n      ...(((_element$styles4 = element.styles) === null || _element$styles4 === void 0 ? void 0 : _element$styles4.mobile) || {})\n    };\n    responsiveComponentData = {\n      ...responsiveComponentData,\n      ...(((_element$componentDat3 = element.componentData) === null || _element$componentDat3 === void 0 ? void 0 : _element$componentDat3.tablet) || {}),\n      ...(((_element$componentDat4 = element.componentData) === null || _element$componentDat4 === void 0 ? void 0 : _element$componentDat4.mobile) || {})\n    };\n  }\n\n  // 5. Trả về bộ giá trị cuối cùng cho viewMode này\n  return {\n    size: responsiveSize,\n    position: responsivePosition,\n    styles: responsiveStyles,\n    componentData: responsiveComponentData\n  };\n};\n\n/**\r\n * Dùng hàm này khi TẠO MỚI một element.\r\n * Nó đảm bảo element có cấu trúc data responsive.\r\n */\nexport const initializeResponsiveData = element => {\n  var _element$size5, _element$position5, _element$styles5, _element$size6, _element$position6, _element$styles6, _element$size7, _element$size8, _element$position7, _element$position8, _element$styles7, _element$styles8, _element$componentDat5, _element$componentDat6, _element$componentDat7;\n  // Nếu đã có cấu trúc chuẩn, bỏ qua\n  if ((_element$size5 = element.size) !== null && _element$size5 !== void 0 && _element$size5.desktop && (_element$position5 = element.position) !== null && _element$position5 !== void 0 && _element$position5.desktop && (_element$styles5 = element.styles) !== null && _element$styles5 !== void 0 && _element$styles5.desktop) {\n    return element;\n  }\n\n  // Tách riêng data global và data responsive\n  const globalData = {};\n  const responsiveData = {};\n  if (element.componentData) {\n    for (const key in element.componentData) {\n      if (RESPONSIVE_DATA_KEYS.includes(key)) {\n        responsiveData[key] = element.componentData[key];\n      } else {\n        globalData[key] = element.componentData[key];\n      }\n    }\n  }\n  const baseSize = ((_element$size6 = element.size) === null || _element$size6 === void 0 ? void 0 : _element$size6.desktop) || element.size || {\n    width: 200,\n    height: 50\n  };\n  const basePosition = ((_element$position6 = element.position) === null || _element$position6 === void 0 ? void 0 : _element$position6.desktop) || element.position || {\n    x: 0,\n    y: 0,\n    z: 1\n  };\n  const baseStyles = ((_element$styles6 = element.styles) === null || _element$styles6 === void 0 ? void 0 : _element$styles6.desktop) || element.styles || {};\n  return {\n    ...element,\n    size: {\n      desktop: baseSize,\n      tablet: ((_element$size7 = element.size) === null || _element$size7 === void 0 ? void 0 : _element$size7.tablet) || {},\n      mobile: ((_element$size8 = element.size) === null || _element$size8 === void 0 ? void 0 : _element$size8.mobile) || {}\n    },\n    position: {\n      desktop: basePosition,\n      tablet: ((_element$position7 = element.position) === null || _element$position7 === void 0 ? void 0 : _element$position7.tablet) || {},\n      mobile: ((_element$position8 = element.position) === null || _element$position8 === void 0 ? void 0 : _element$position8.mobile) || {}\n    },\n    styles: {\n      desktop: baseStyles,\n      tablet: ((_element$styles7 = element.styles) === null || _element$styles7 === void 0 ? void 0 : _element$styles7.tablet) || {},\n      mobile: ((_element$styles8 = element.styles) === null || _element$styles8 === void 0 ? void 0 : _element$styles8.mobile) || {}\n    },\n    componentData: {\n      ...globalData,\n      // Data global (src, events, images...)\n      desktop: {\n        ...responsiveData,\n        ...(((_element$componentDat5 = element.componentData) === null || _element$componentDat5 === void 0 ? void 0 : _element$componentDat5.desktop) || {})\n      },\n      // Data responsive\n      tablet: ((_element$componentDat6 = element.componentData) === null || _element$componentDat6 === void 0 ? void 0 : _element$componentDat6.tablet) || {},\n      mobile: ((_element$componentDat7 = element.componentData) === null || _element$componentDat7 === void 0 ? void 0 : _element$componentDat7.mobile) || {}\n    }\n  };\n};\n\n/**\r\n * Quét toàn bộ pageData và đảm bảo\r\n * tất cả elements đều có cấu trúc responsive chuẩn.\r\n */\nexport const syncAllElements = pageData => {\n  if (!pageData || !pageData.elements) return pageData;\n  return {\n    ...pageData,\n    elements: pageData.elements.map(element => {\n      const newElement = initializeResponsiveData(element);\n      if (newElement.children && newElement.children.length > 0) {\n        newElement.children = newElement.children.map(child => initializeResponsiveData(child));\n      }\n      return newElement;\n    })\n  };\n};\nexport default {\n  getResponsiveValues,\n  initializeResponsiveData,\n  syncAllElements,\n  RESPONSIVE_DATA_KEYS\n};","map":{"version":3,"names":["RESPONSIVE_DATA_KEYS","getResponsiveValues","element","viewMode","_element$size","_element$position","_element$styles","_element$componentDat","baseSize","size","desktop","width","height","basePosition","position","x","y","z","baseStyles","styles","globalComponentData","componentData","tablet","mobile","baseResponsiveComponentData","responsiveComponentData","responsiveSize","responsivePosition","responsiveStyles","_element$size2","_element$position2","_element$styles2","_element$componentDat2","_element$size3","_element$size4","_element$position3","_element$position4","_element$styles3","_element$styles4","_element$componentDat3","_element$componentDat4","initializeResponsiveData","_element$size5","_element$position5","_element$styles5","_element$size6","_element$position6","_element$styles6","_element$size7","_element$size8","_element$position7","_element$position8","_element$styles7","_element$styles8","_element$componentDat5","_element$componentDat6","_element$componentDat7","globalData","responsiveData","key","includes","syncAllElements","pageData","elements","map","newElement","children","length","child"],"sources":["D:/landing-hub/apps/web/src/utils/responsiveSync.js"],"sourcesContent":["// [responsiveSync.js] - NỘI DUNG MỚI (THAY THẾ HOÀN TOÀN)\r\n\r\n/**\r\n * Các key này trong componentData sẽ được lưu riêng cho từng viewMode.\r\n * Các key khác (như src, alt, icon, imageUrl, events, images) sẽ được lưu global.\r\n */\r\nexport const RESPONSIVE_DATA_KEYS = [\r\n    'content',\r\n    'animation',\r\n    'title',\r\n    'overlayColor',\r\n    'overlayOpacity',\r\n    'backgroundType',\r\n    'rotate',\r\n    'scale',\r\n    'hoverZoom',\r\n    'hoverRotate',\r\n    'hoverGrayscale'\r\n];\r\n\r\n/**\r\n * Lấy các giá trị (size, position, styles, componentData) cho viewMode hiện tại\r\n * bằng cách merge chúng theo thứ tự Desktop -> Tablet -> Mobile (Cascading).\r\n */\r\nexport const getResponsiveValues = (element, viewMode) => {\r\n    // 1. Lấy giá trị Desktop làm nền tảng (luôn luôn)\r\n    const baseSize = element.size?.desktop || element.size || { width: 200, height: 50 };\r\n    const basePosition = element.position?.desktop || element.position || { x: 0, y: 0, z: 1 };\r\n    const baseStyles = element.styles?.desktop || element.styles || {};\r\n\r\n    // 2. Xử lý Component Data (Quan trọng)\r\n    // Bắt đầu với TẤT CẢ data global (không nằm trong các bucket desktop/tablet/mobile)\r\n    const globalComponentData = { ...element.componentData };\r\n    delete globalComponentData.desktop;\r\n    delete globalComponentData.tablet;\r\n    delete globalComponentData.mobile;\r\n\r\n    // Lấy data responsive nền (desktop)\r\n    const baseResponsiveComponentData = element.componentData?.desktop || {};\r\n\r\n    // Merge global + desktop\r\n    let responsiveComponentData = { ...globalComponentData, ...baseResponsiveComponentData };\r\n    let responsiveSize = { ...baseSize };\r\n    let responsivePosition = { ...basePosition };\r\n    let responsiveStyles = { ...baseStyles };\r\n\r\n    // 3. Nếu là Tablet, đè giá trị Tablet lên Desktop\r\n    if (viewMode === 'tablet') {\r\n        responsiveSize = { ...responsiveSize, ...(element.size?.tablet || {}) };\r\n        responsivePosition = { ...responsivePosition, ...(element.position?.tablet || {}) };\r\n        responsiveStyles = { ...responsiveStyles, ...(element.styles?.tablet || {}) };\r\n        responsiveComponentData = { ...responsiveComponentData, ...(element.componentData?.tablet || {}) };\r\n    }\r\n\r\n    // 4. Nếu là Mobile, đè giá trị Mobile lên (Desktop -> Tablet)\r\n    if (viewMode === 'mobile') {\r\n        responsiveSize = { ...responsiveSize, ...(element.size?.tablet || {}), ...(element.size?.mobile || {}) };\r\n        responsivePosition = { ...responsivePosition, ...(element.position?.tablet || {}), ...(element.position?.mobile || {}) };\r\n        responsiveStyles = { ...responsiveStyles, ...(element.styles?.tablet || {}), ...(element.styles?.mobile || {}) };\r\n        responsiveComponentData = { ...responsiveComponentData, ...(element.componentData?.tablet || {}), ...(element.componentData?.mobile || {}) };\r\n    }\r\n\r\n    // 5. Trả về bộ giá trị cuối cùng cho viewMode này\r\n    return {\r\n        size: responsiveSize,\r\n        position: responsivePosition,\r\n        styles: responsiveStyles,\r\n        componentData: responsiveComponentData,\r\n    };\r\n};\r\n\r\n/**\r\n * Dùng hàm này khi TẠO MỚI một element.\r\n * Nó đảm bảo element có cấu trúc data responsive.\r\n */\r\nexport const initializeResponsiveData = (element) => {\r\n    // Nếu đã có cấu trúc chuẩn, bỏ qua\r\n    if (element.size?.desktop && element.position?.desktop && element.styles?.desktop) {\r\n        return element;\r\n    }\r\n\r\n    // Tách riêng data global và data responsive\r\n    const globalData = {};\r\n    const responsiveData = {};\r\n\r\n    if (element.componentData) {\r\n        for (const key in element.componentData) {\r\n            if (RESPONSIVE_DATA_KEYS.includes(key)) {\r\n                responsiveData[key] = element.componentData[key];\r\n            } else {\r\n                globalData[key] = element.componentData[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    const baseSize = element.size?.desktop || element.size || { width: 200, height: 50 };\r\n    const basePosition = element.position?.desktop || element.position || { x: 0, y: 0, z: 1 };\r\n    const baseStyles = element.styles?.desktop || element.styles || {};\r\n\r\n    return {\r\n        ...element,\r\n        size: {\r\n            desktop: baseSize,\r\n            tablet: element.size?.tablet || {},\r\n            mobile: element.size?.mobile || {},\r\n        },\r\n        position: {\r\n            desktop: basePosition,\r\n            tablet: element.position?.tablet || {},\r\n            mobile: element.position?.mobile || {},\r\n        },\r\n        styles: {\r\n            desktop: baseStyles,\r\n            tablet: element.styles?.tablet || {},\r\n            mobile: element.styles?.mobile || {},\r\n        },\r\n        componentData: {\r\n            ...globalData, // Data global (src, events, images...)\r\n            desktop: { ...responsiveData, ...(element.componentData?.desktop || {}) }, // Data responsive\r\n            tablet: element.componentData?.tablet || {},\r\n            mobile: element.componentData?.mobile || {},\r\n        }\r\n    };\r\n};\r\n\r\n/**\r\n * Quét toàn bộ pageData và đảm bảo\r\n * tất cả elements đều có cấu trúc responsive chuẩn.\r\n */\r\nexport const syncAllElements = (pageData) => {\r\n    if (!pageData || !pageData.elements) return pageData;\r\n    return {\r\n        ...pageData,\r\n        elements: pageData.elements.map(element => {\r\n            const newElement = initializeResponsiveData(element);\r\n            if (newElement.children && newElement.children.length > 0) {\r\n                newElement.children = newElement.children.map(child => initializeResponsiveData(child));\r\n            }\r\n            return newElement;\r\n        })\r\n    };\r\n};\r\n\r\nexport default {\r\n    getResponsiveValues,\r\n    initializeResponsiveData,\r\n    syncAllElements,\r\n    RESPONSIVE_DATA_KEYS\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}