{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\Canvas.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useRef, useCallback, useState } from 'react';\nimport { useDrop, useDrag } from 'react-dnd';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { toast } from 'react-toastify';\nimport QuickEditToolkit from './QuickEditToolkit';\nimport '../../styles/CreateLanding.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ItemTypes = {\n  SECTION: 'section',\n  ELEMENT: 'element',\n  EXISTING_ELEMENT: 'existingElement'\n};\nconst Element = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c = _s(({\n  component,\n  index,\n  isSelected,\n  onSelectElement,\n  handleElementHover,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  updatePosition,\n  canvasRef,\n  sectionId,\n  onInlineEdit,\n  pageStructure,\n  zoomLevel,\n  viewMode\n}) => {\n  var _styles$viewMode, _styles$viewMode2, _styles$viewMode3, _styles$viewMode4;\n  _s();\n  const {\n    type,\n    componentData = {},\n    styles = {\n      desktop: {},\n      mobile: {}\n    },\n    children = []\n  } = component.json || {};\n  const containerStyle = {\n    position: 'absolute',\n    left: ((_styles$viewMode = styles[viewMode]) === null || _styles$viewMode === void 0 ? void 0 : _styles$viewMode.left) || 0,\n    top: ((_styles$viewMode2 = styles[viewMode]) === null || _styles$viewMode2 === void 0 ? void 0 : _styles$viewMode2.top) || 0,\n    maxWidth: '100%',\n    boxSizing: 'border-box',\n    width: ((_styles$viewMode3 = styles[viewMode]) === null || _styles$viewMode3 === void 0 ? void 0 : _styles$viewMode3.width) || 'auto',\n    height: ((_styles$viewMode4 = styles[viewMode]) === null || _styles$viewMode4 === void 0 ? void 0 : _styles$viewMode4.height) || 'auto',\n    zIndex: isSelected ? 10 : 1\n  };\n  const [{\n    isDragging\n  }, drag] = useDrag(() => ({\n    type: ItemTypes.EXISTING_ELEMENT,\n    item: {\n      id: component.id,\n      sectionId,\n      json: component.json\n    },\n    end: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      console.log('Drag - clientOffset:', clientOffset, 'Element ID:', component.id, 'Section ID:', sectionId);\n      if (clientOffset && canvasRef.current && sectionId && monitor.didDrop()) {\n        var _document$getElementB;\n        const sectionRect = (_document$getElementB = document.getElementById(sectionId)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.getBoundingClientRect();\n        console.log('Drag - sectionRect:', sectionRect);\n        if (!sectionRect) {\n          toast.error('Không tìm thấy section!');\n          return;\n        }\n        const newX = clientOffset.x - sectionRect.left;\n        const newY = clientOffset.y - sectionRect.top;\n        console.log('Drag - New Position:', {\n          newX,\n          newY\n        });\n        updatePosition(component.id, sectionId, {\n          desktop: {\n            left: newX,\n            top: newY\n          },\n          mobile: {\n            left: newX / 2,\n            top: newY / 2\n          }\n        });\n      }\n    },\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging()\n    })\n  }));\n  const handleMouseDown = e => {\n    e.stopPropagation();\n    onSelectElement(component);\n  };\n  const handleInlineEdit = e => {\n    if (onInlineEdit && e.target.contentEditable === 'true') {\n      onInlineEdit(component.id, sectionId, e.target.innerText);\n    }\n  };\n  const renderContent = () => {\n    var _componentData$images, _componentData$images2;\n    const renderChildren = () => {\n      return children.map((child, idx) => /*#__PURE__*/_jsxDEV(Element, {\n        component: {\n          id: child.id,\n          json: child\n        },\n        index: idx,\n        isSelected: isSelected && component.id === child.id,\n        onSelectElement: onSelectElement,\n        handleElementHover: handleElementHover,\n        onDuplicateElement: onDuplicateElement,\n        onDeleteElement: onDeleteElement,\n        onMoveElement: onMoveElement,\n        updatePosition: updatePosition,\n        canvasRef: canvasRef,\n        sectionId: sectionId,\n        onInlineEdit: onInlineEdit,\n        pageStructure: pageStructure,\n        zoomLevel: zoomLevel,\n        viewMode: viewMode\n      }, child.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this));\n    };\n    switch (type) {\n      case 'form':\n        return /*#__PURE__*/_jsxDEV(\"form\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '10px'\n          },\n          children: [renderChildren(), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              background: '#2563eb',\n              color: '#fff',\n              padding: '8px 16px',\n              borderRadius: '8px'\n            },\n            onMouseDown: e => e.stopPropagation(),\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }, this);\n      case 'button-group':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px'\n          },\n          children: renderChildren()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }, this);\n      case 'gallery':\n      case 'carousel':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: type === 'gallery' ? 'wrap' : 'nowrap',\n            gap: '10px',\n            overflowX: type === 'carousel' ? 'auto' : 'visible'\n          },\n          children: renderChildren()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this);\n      case 'heading':\n        return /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: componentData.fontSize || '1.5rem',\n            color: componentData.color || '#1f2937'\n          },\n          contentEditable: true,\n          suppressContentEditableWarning: true,\n          onBlur: handleInlineEdit,\n          onMouseDown: e => e.stopPropagation(),\n          children: componentData.content || 'Tiêu đề'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }, this);\n      case 'paragraph':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: componentData.fontSize || '1rem',\n            color: componentData.color || '#1f2937'\n          },\n          contentEditable: true,\n          suppressContentEditableWarning: true,\n          onBlur: handleInlineEdit,\n          onMouseDown: e => e.stopPropagation(),\n          children: componentData.content || 'Đoạn văn'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }, this);\n      case 'button':\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '8px 16px',\n            borderRadius: '8px',\n            background: componentData.background || '#2563eb',\n            color: componentData.color || '#fff'\n          },\n          contentEditable: true,\n          suppressContentEditableWarning: true,\n          onBlur: handleInlineEdit,\n          onMouseDown: e => e.stopPropagation(),\n          children: componentData.content || 'Nút'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: componentData.src || ((_componentData$images = componentData.images) === null || _componentData$images === void 0 ? void 0 : (_componentData$images2 = _componentData$images[0]) === null || _componentData$images2 === void 0 ? void 0 : _componentData$images2.src) || 'https://via.placeholder.com/150',\n          alt: componentData.alt || 'Image',\n          style: {\n            maxWidth: '100%',\n            height: 'auto'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }, this);\n      case 'input':\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: componentData.type || 'text',\n          placeholder: componentData.label || 'Input',\n          style: {\n            width: '100%',\n            padding: '8px',\n            borderRadius: '8px'\n          },\n          onMouseDown: e => e.stopPropagation()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this);\n      case 'textarea':\n        return /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: componentData.label || 'Textarea',\n          style: {\n            width: '100%',\n            padding: '8px',\n            borderRadius: '8px'\n          },\n          onMouseDown: e => e.stopPropagation()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this);\n      case 'popup':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: componentData.content || 'Popup nội dung'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 29\n          }, this), renderChildren()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 25\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [componentData.title || componentData.content || 'Unknown', renderChildren()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: drag,\n    \"data-id\": component.id,\n    className: `lpb-canvas-element ${isSelected ? 'lpb-canvas-element-selected' : ''} ${isDragging ? 'lpb-canvas-element-dragging' : ''}`,\n    onMouseEnter: e => handleElementHover(e, component),\n    onMouseDown: handleMouseDown,\n    style: containerStyle,\n    children: renderContent()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 13\n  }, this);\n}, \"wuumsFp4qAni9XRJfRhQAZjuD/k=\", false, function () {\n  return [useDrag];\n})), \"wuumsFp4qAni9XRJfRhQAZjuD/k=\", false, function () {\n  return [useDrag];\n});\n_c2 = Element;\nconst Section = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c3 = _s2(({\n  section,\n  index,\n  selectedElement,\n  onSelectElement,\n  handleElementHover,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  updatePosition,\n  addElement,\n  canvasRef,\n  moveElement,\n  onInlineEdit,\n  onSelectSection,\n  viewMode,\n  pageStructure,\n  zoomLevel\n}) => {\n  var _section$json$compone;\n  _s2();\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: [ItemTypes.ELEMENT, ItemTypes.EXISTING_ELEMENT],\n    hover: (item, monitor) => {\n      if (!monitor.isOver({\n        shallow: true\n      })) return;\n      const clientOffset = monitor.getClientOffset();\n      console.log('Hover - clientOffset:', clientOffset, 'Section ID:', section.id);\n      if (clientOffset && canvasRef.current) {\n        var _document$getElementB2;\n        const sectionRect = (_document$getElementB2 = document.getElementById(section.id)) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.getBoundingClientRect();\n        console.log('Hover - sectionRect:', sectionRect);\n        if (!sectionRect) return;\n        item.dropPosition = {\n          left: clientOffset.x - sectionRect.left,\n          top: clientOffset.y - sectionRect.top\n        };\n      }\n    },\n    drop: (item, monitor) => {\n      var _document$getElementB3;\n      const clientOffset = monitor.getClientOffset();\n      console.log('Drop - clientOffset:', clientOffset, 'Section ID:', section.id, 'Item:', item);\n      if (!clientOffset || !canvasRef.current) {\n        toast.error('Không thể xác định vị trí thả. Vui lòng thử lại!');\n        return;\n      }\n      const sectionRect = (_document$getElementB3 = document.getElementById(section.id)) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.getBoundingClientRect();\n      console.log('Drop - sectionRect:', sectionRect);\n      if (!sectionRect) {\n        toast.error('Không tìm thấy section!');\n        return;\n      }\n      const position = {\n        left: clientOffset.x - sectionRect.left,\n        top: clientOffset.y - sectionRect.top\n      };\n      console.log('Drop - New Position:', position);\n      if (item.json) {\n        var _item$json$styles, _item$json$styles2;\n        addElement(section.id, {\n          id: item.id,\n          json: {\n            ...item.json,\n            styles: {\n              desktop: {\n                ...((_item$json$styles = item.json.styles) === null || _item$json$styles === void 0 ? void 0 : _item$json$styles.desktop),\n                left: position.left,\n                top: position.top\n              },\n              mobile: {\n                ...((_item$json$styles2 = item.json.styles) === null || _item$json$styles2 === void 0 ? void 0 : _item$json$styles2.mobile),\n                left: position.left / 2,\n                top: position.top / 2\n              }\n            }\n          }\n        }, section.elements.length);\n        toast.success('Đã thêm phần tử vào section!');\n      } else if (item.id) {\n        updatePosition(item.id, section.id, {\n          desktop: {\n            left: position.left,\n            top: position.top\n          },\n          mobile: {\n            left: position.left / 2,\n            top: position.top / 2\n          }\n        });\n        moveElement(section.id, item.id, section.elements.length);\n        toast.success('Đã di chuyển phần tử!');\n      } else {\n        toast.error('Dữ liệu thả không hợp lệ!');\n      }\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }));\n  const handleSectionClick = e => {\n    e.stopPropagation();\n    onSelectSection(section);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: drop,\n    id: section.id,\n    className: `lpb-canvas-section ${isOver ? 'lpb-canvas-section-over' : ''} ${(selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === section.id ? 'lpb-canvas-section-selected' : ''}`,\n    style: {\n      position: 'relative',\n      maxWidth: viewMode === 'mobile' ? '100%' : viewMode === 'tablet' ? '768px' : '1200px',\n      margin: '0 auto 20px auto',\n      minHeight: '150px'\n    },\n    onMouseDown: handleSectionClick,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        margin: 0,\n        fontSize: '1rem',\n        color: '#1f2937'\n      },\n      children: ((_section$json$compone = section.json.componentData) === null || _section$json$compone === void 0 ? void 0 : _section$json$compone.title) || 'Section'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lpb-canvas-section-content\",\n      children: (section.elements || []).map((element, idx) => /*#__PURE__*/_jsxDEV(Element, {\n        component: element,\n        index: idx,\n        isSelected: (selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === element.id,\n        onSelectElement: onSelectElement,\n        handleElementHover: handleElementHover,\n        onDuplicateElement: onDuplicateElement,\n        onDeleteElement: onDeleteElement,\n        onMoveElement: onMoveElement,\n        updatePosition: updatePosition,\n        canvasRef: canvasRef,\n        sectionId: section.id,\n        onInlineEdit: onInlineEdit,\n        pageStructure: pageStructure,\n        zoomLevel: zoomLevel,\n        viewMode: viewMode\n      }, element.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 318,\n    columnNumber: 13\n  }, this);\n}, \"9166pYLrZ/JzF75YDim8ZjfICTM=\", false, function () {\n  return [useDrop];\n})), \"9166pYLrZ/JzF75YDim8ZjfICTM=\", false, function () {\n  return [useDrop];\n});\n_c4 = Section;\nconst Canvas = /*#__PURE__*/_s3(/*#__PURE__*/React.memo(_c5 = _s3(({\n  pageStructure,\n  selectedElement,\n  onSelectElement,\n  quickEditElement,\n  quickEditPosition,\n  onQuickEdit,\n  onCloseQuickEdit,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  viewMode,\n  addSection,\n  addElement,\n  moveElement,\n  ItemTypes,\n  zoomLevel,\n  setPageStructure,\n  updatePosition,\n  onInlineEdit\n}) => {\n  var _pageStructure$styles, _pageStructure$styles2;\n  _s3();\n  const canvasRef = useRef(null);\n  const [dropIndex, setDropIndex] = useState(null);\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: [ItemTypes.SECTION],\n    hover: (item, monitor) => {\n      if (!monitor.isOver({\n        shallow: true\n      })) return;\n      const clientOffset = monitor.getClientOffset();\n      console.log('Canvas Hover - clientOffset:', clientOffset);\n      if (clientOffset && canvasRef.current) {\n        var _pageStructure$childr;\n        const rect = canvasRef.current.getBoundingClientRect();\n        console.log('Canvas Hover - canvasRect:', rect);\n        const y = clientOffset.y - rect.top;\n        const index = Math.min((pageStructure === null || pageStructure === void 0 ? void 0 : (_pageStructure$childr = pageStructure.children) === null || _pageStructure$childr === void 0 ? void 0 : _pageStructure$childr.length) || 0, Math.floor(y / 200));\n        setDropIndex(index);\n      }\n    },\n    drop: (item, monitor) => {\n      var _pageStructure$childr2;\n      const clientOffset = monitor.getClientOffset();\n      console.log('Canvas Drop - clientOffset:', clientOffset, 'Item:', item);\n      if (!clientOffset || !canvasRef.current) {\n        toast.error('Không thể xác định vị trí thả. Vui lòng thử lại!');\n        return;\n      }\n      if (!item.json || !item.json.styles) {\n        toast.error('Dữ liệu thả không hợp lệ!');\n        return;\n      }\n      const rect = canvasRef.current.getBoundingClientRect();\n      console.log('Canvas Drop - canvasRect:', rect);\n      const index = Math.min((pageStructure === null || pageStructure === void 0 ? void 0 : (_pageStructure$childr2 = pageStructure.children) === null || _pageStructure$childr2 === void 0 ? void 0 : _pageStructure$childr2.length) || 0, Math.floor((clientOffset.y - rect.top) / 200));\n      addSection({\n        id: item.id,\n        json: {\n          ...item.json,\n          styles: {\n            desktop: {\n              ...item.json.styles.desktop,\n              width: '1200px',\n              minHeight: '150px'\n            },\n            mobile: {\n              ...item.json.styles.mobile,\n              width: '100%',\n              minHeight: '100px'\n            }\n          }\n        },\n        elements: []\n      }, index);\n      toast.success('Đã thêm section mới!');\n      setDropIndex(null);\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }));\n  const handleElementHover = useCallback((e, component) => {\n    var _canvasRef$current;\n    if ((quickEditElement === null || quickEditElement === void 0 ? void 0 : quickEditElement.id) === component.id) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const canvasRect = ((_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.getBoundingClientRect()) || {\n      left: 0,\n      top: 0\n    };\n    console.log('Element Hover - rect:', rect, 'canvasRect:', canvasRect);\n    onQuickEdit(component, {\n      left: rect.left - canvasRect.left,\n      top: rect.top - canvasRect.top + 20\n    });\n  }, [quickEditElement, onQuickEdit]);\n  const handleSelectSection = useCallback(section => {\n    onSelectElement(section);\n  }, [onSelectElement]);\n  useHotkeys('delete', () => {\n    if (selectedElement) {\n      onDeleteElement(selectedElement);\n    }\n  }, [selectedElement, onDeleteElement]);\n  if (!pageStructure || !pageStructure.children) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lpb-canvas-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: node => {\n          canvasRef.current = node;\n          drop(node);\n        },\n        className: `lpb-canvas ${viewMode === 'mobile' ? 'lpb-canvas-mobile' : viewMode === 'tablet' ? 'lpb-canvas-tablet' : ''}`,\n        onMouseLeave: onCloseQuickEdit,\n        style: {\n          position: 'relative',\n          minHeight: '100%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lpb-canvas-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lpb-canvas-empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-layer-group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"K\\xE9o th\\u1EA3 section \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 17\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lpb-canvas-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: node => {\n        canvasRef.current = node;\n        drop(node);\n      },\n      className: `lpb-canvas ${viewMode === 'mobile' ? 'lpb-canvas-mobile' : viewMode === 'tablet' ? 'lpb-canvas-tablet' : ''}`,\n      onMouseLeave: onCloseQuickEdit,\n      style: {\n        position: 'relative',\n        minHeight: '100%',\n        background: ((_pageStructure$styles = pageStructure.styles) === null || _pageStructure$styles === void 0 ? void 0 : (_pageStructure$styles2 = _pageStructure$styles[viewMode]) === null || _pageStructure$styles2 === void 0 ? void 0 : _pageStructure$styles2.background) || '#fff'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lpb-canvas-content\",\n        children: pageStructure.children.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lpb-canvas-empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-layer-group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"K\\xE9o th\\u1EA3 section \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [pageStructure.children.map((section, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [dropIndex === index && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lpb-canvas-drop-zone\",\n              style: {\n                height: '10px',\n                background: 'rgba(0, 128, 255, 0.2)',\n                border: '1px dashed #0080ff',\n                margin: '5px auto',\n                width: viewMode === 'mobile' ? '100%' : viewMode === 'tablet' ? '768px' : '1200px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(Section, {\n              section: section,\n              index: index,\n              selectedElement: selectedElement,\n              onSelectElement: onSelectElement,\n              handleElementHover: handleElementHover,\n              onDuplicateElement: onDuplicateElement,\n              onDeleteElement: onDeleteElement,\n              onMoveElement: onMoveElement,\n              updatePosition: updatePosition,\n              addElement: addElement,\n              canvasRef: canvasRef,\n              moveElement: moveElement,\n              onInlineEdit: onInlineEdit,\n              onSelectSection: handleSelectSection,\n              viewMode: viewMode,\n              pageStructure: pageStructure,\n              zoomLevel: zoomLevel\n            }, section.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 41\n            }, this)]\n          }, section.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 37\n          }, this)), dropIndex === pageStructure.children.length && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lpb-canvas-drop-zone\",\n            style: {\n              height: '10px',\n              background: 'rgba(0, 128, 255, 0.2)',\n              border: '1px dashed #0080ff',\n              margin: '5px auto',\n              width: viewMode === 'mobile' ? '100%' : viewMode === 'tablet' ? '768px' : '1200px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(QuickEditToolkit, {\n        element: quickEditElement,\n        position: quickEditPosition,\n        onEdit: () => onSelectElement(quickEditElement),\n        onDuplicate: () => onDuplicateElement(quickEditElement),\n        onDelete: () => onDeleteElement(quickEditElement),\n        onMoveUp: () => onMoveElement(quickEditElement, 'up'),\n        onMoveDown: () => onMoveElement(quickEditElement, 'down'),\n        onClose: onCloseQuickEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 491,\n    columnNumber: 13\n  }, this);\n}, \"scAB/rDIK+1X1cBUTb+EobmliG0=\", false, function () {\n  return [useDrop, useHotkeys];\n})), \"scAB/rDIK+1X1cBUTb+EobmliG0=\", false, function () {\n  return [useDrop, useHotkeys];\n});\n_c6 = Canvas;\nexport default Canvas;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Element$React.memo\");\n$RefreshReg$(_c2, \"Element\");\n$RefreshReg$(_c3, \"Section$React.memo\");\n$RefreshReg$(_c4, \"Section\");\n$RefreshReg$(_c5, \"Canvas$React.memo\");\n$RefreshReg$(_c6, \"Canvas\");","map":{"version":3,"names":["React","useRef","useCallback","useState","useDrop","useDrag","useHotkeys","toast","QuickEditToolkit","jsxDEV","_jsxDEV","Fragment","_Fragment","ItemTypes","SECTION","ELEMENT","EXISTING_ELEMENT","Element","_s","memo","_c","component","index","isSelected","onSelectElement","handleElementHover","onDuplicateElement","onDeleteElement","onMoveElement","updatePosition","canvasRef","sectionId","onInlineEdit","pageStructure","zoomLevel","viewMode","_styles$viewMode","_styles$viewMode2","_styles$viewMode3","_styles$viewMode4","type","componentData","styles","desktop","mobile","children","json","containerStyle","position","left","top","maxWidth","boxSizing","width","height","zIndex","isDragging","drag","item","id","end","monitor","clientOffset","getClientOffset","console","log","current","didDrop","_document$getElementB","sectionRect","document","getElementById","getBoundingClientRect","error","newX","x","newY","y","collect","handleMouseDown","e","stopPropagation","handleInlineEdit","target","contentEditable","innerText","renderContent","_componentData$images","_componentData$images2","renderChildren","map","child","idx","fileName","_jsxFileName","lineNumber","columnNumber","style","display","flexDirection","gap","background","color","padding","borderRadius","onMouseDown","flexWrap","overflowX","fontSize","suppressContentEditableWarning","onBlur","content","src","images","alt","placeholder","label","margin","title","ref","className","onMouseEnter","_c2","Section","_s2","_c3","section","selectedElement","addElement","moveElement","onSelectSection","_section$json$compone","isOver","drop","accept","hover","shallow","_document$getElementB2","dropPosition","_document$getElementB3","_item$json$styles","_item$json$styles2","elements","length","success","handleSectionClick","minHeight","element","_c4","Canvas","_s3","_c5","quickEditElement","quickEditPosition","onQuickEdit","onCloseQuickEdit","addSection","setPageStructure","_pageStructure$styles","_pageStructure$styles2","dropIndex","setDropIndex","_pageStructure$childr","rect","Math","min","floor","_pageStructure$childr2","_canvasRef$current","currentTarget","canvasRect","handleSelectSection","node","onMouseLeave","border","onEdit","onDuplicate","onDelete","onMoveUp","onMoveDown","onClose","_c6","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/Canvas.js"],"sourcesContent":["import React, { useRef, useCallback, useState } from 'react';\r\nimport { useDrop, useDrag } from 'react-dnd';\r\nimport { useHotkeys } from 'react-hotkeys-hook';\r\nimport { toast } from 'react-toastify';\r\nimport QuickEditToolkit from './QuickEditToolkit';\r\nimport '../../styles/CreateLanding.css';\r\n\r\nconst ItemTypes = {\r\n    SECTION: 'section',\r\n    ELEMENT: 'element',\r\n    EXISTING_ELEMENT: 'existingElement',\r\n};\r\n\r\nconst Element = React.memo(\r\n    ({\r\n         component,\r\n         index,\r\n         isSelected,\r\n         onSelectElement,\r\n         handleElementHover,\r\n         onDuplicateElement,\r\n         onDeleteElement,\r\n         onMoveElement,\r\n         updatePosition,\r\n         canvasRef,\r\n         sectionId,\r\n         onInlineEdit,\r\n         pageStructure,\r\n         zoomLevel,\r\n         viewMode,\r\n     }) => {\r\n        const { type, componentData = {}, styles = { desktop: {}, mobile: {} }, children = [] } = component.json || {};\r\n        const containerStyle = {\r\n            position: 'absolute',\r\n            left: styles[viewMode]?.left || 0,\r\n            top: styles[viewMode]?.top || 0,\r\n            maxWidth: '100%',\r\n            boxSizing: 'border-box',\r\n            width: styles[viewMode]?.width || 'auto',\r\n            height: styles[viewMode]?.height || 'auto',\r\n            zIndex: isSelected ? 10 : 1,\r\n        };\r\n\r\n        const [{ isDragging }, drag] = useDrag(() => ({\r\n            type: ItemTypes.EXISTING_ELEMENT,\r\n            item: { id: component.id, sectionId, json: component.json },\r\n            end: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                console.log('Drag - clientOffset:', clientOffset, 'Element ID:', component.id, 'Section ID:', sectionId);\r\n                if (clientOffset && canvasRef.current && sectionId && monitor.didDrop()) {\r\n                    const sectionRect = document.getElementById(sectionId)?.getBoundingClientRect();\r\n                    console.log('Drag - sectionRect:', sectionRect);\r\n                    if (!sectionRect) {\r\n                        toast.error('Không tìm thấy section!');\r\n                        return;\r\n                    }\r\n\r\n                    const newX = clientOffset.x - sectionRect.left;\r\n                    const newY = clientOffset.y - sectionRect.top;\r\n                    console.log('Drag - New Position:', { newX, newY });\r\n\r\n                    updatePosition(component.id, sectionId, {\r\n                        desktop: { left: newX, top: newY },\r\n                        mobile: { left: newX / 2, top: newY / 2 },\r\n                    });\r\n                }\r\n            },\r\n            collect: (monitor) => ({\r\n                isDragging: !!monitor.isDragging(),\r\n            }),\r\n        }));\r\n\r\n        const handleMouseDown = (e) => {\r\n            e.stopPropagation();\r\n            onSelectElement(component);\r\n        };\r\n\r\n        const handleInlineEdit = (e) => {\r\n            if (onInlineEdit && e.target.contentEditable === 'true') {\r\n                onInlineEdit(component.id, sectionId, e.target.innerText);\r\n            }\r\n        };\r\n\r\n        const renderContent = () => {\r\n            const renderChildren = () => {\r\n                return children.map((child, idx) => (\r\n                    <Element\r\n                        key={child.id}\r\n                        component={{ id: child.id, json: child }}\r\n                        index={idx}\r\n                        isSelected={isSelected && component.id === child.id}\r\n                        onSelectElement={onSelectElement}\r\n                        handleElementHover={handleElementHover}\r\n                        onDuplicateElement={onDuplicateElement}\r\n                        onDeleteElement={onDeleteElement}\r\n                        onMoveElement={onMoveElement}\r\n                        updatePosition={updatePosition}\r\n                        canvasRef={canvasRef}\r\n                        sectionId={sectionId}\r\n                        onInlineEdit={onInlineEdit}\r\n                        pageStructure={pageStructure}\r\n                        zoomLevel={zoomLevel}\r\n                        viewMode={viewMode}\r\n                    />\r\n                ));\r\n            };\r\n\r\n            switch (type) {\r\n                case 'form':\r\n                    return (\r\n                        <form style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                            {renderChildren()}\r\n                            <button\r\n                                type=\"submit\"\r\n                                style={{ background: '#2563eb', color: '#fff', padding: '8px 16px', borderRadius: '8px' }}\r\n                                onMouseDown={(e) => e.stopPropagation()}\r\n                            >\r\n                                Submit\r\n                            </button>\r\n                        </form>\r\n                    );\r\n                case 'button-group':\r\n                    return (\r\n                        <div style={{ display: 'flex', gap: '10px' }}>\r\n                            {renderChildren()}\r\n                        </div>\r\n                    );\r\n                case 'gallery':\r\n                case 'carousel':\r\n                    return (\r\n                        <div style={{ display: 'flex', flexWrap: type === 'gallery' ? 'wrap' : 'nowrap', gap: '10px', overflowX: type === 'carousel' ? 'auto' : 'visible' }}>\r\n                            {renderChildren()}\r\n                        </div>\r\n                    );\r\n                case 'heading':\r\n                    return (\r\n                        <h2\r\n                            style={{ fontSize: componentData.fontSize || '1.5rem', color: componentData.color || '#1f2937' }}\r\n                            contentEditable\r\n                            suppressContentEditableWarning\r\n                            onBlur={handleInlineEdit}\r\n                            onMouseDown={(e) => e.stopPropagation()}\r\n                        >\r\n                            {componentData.content || 'Tiêu đề'}\r\n                        </h2>\r\n                    );\r\n                case 'paragraph':\r\n                    return (\r\n                        <p\r\n                            style={{ fontSize: componentData.fontSize || '1rem', color: componentData.color || '#1f2937' }}\r\n                            contentEditable\r\n                            suppressContentEditableWarning\r\n                            onBlur={handleInlineEdit}\r\n                            onMouseDown={(e) => e.stopPropagation()}\r\n                        >\r\n                            {componentData.content || 'Đoạn văn'}\r\n                        </p>\r\n                    );\r\n                case 'button':\r\n                    return (\r\n                        <button\r\n                            style={{ padding: '8px 16px', borderRadius: '8px', background: componentData.background || '#2563eb', color: componentData.color || '#fff' }}\r\n                            contentEditable\r\n                            suppressContentEditableWarning\r\n                            onBlur={handleInlineEdit}\r\n                            onMouseDown={(e) => e.stopPropagation()}\r\n                        >\r\n                            {componentData.content || 'Nút'}\r\n                        </button>\r\n                    );\r\n                case 'image':\r\n                    return (\r\n                        <img\r\n                            src={componentData.src || componentData.images?.[0]?.src || 'https://via.placeholder.com/150'}\r\n                            alt={componentData.alt || 'Image'}\r\n                            style={{ maxWidth: '100%', height: 'auto' }}\r\n                        />\r\n                    );\r\n                case 'input':\r\n                    return (\r\n                        <input\r\n                            type={componentData.type || 'text'}\r\n                            placeholder={componentData.label || 'Input'}\r\n                            style={{ width: '100%', padding: '8px', borderRadius: '8px' }}\r\n                            onMouseDown={(e) => e.stopPropagation()}\r\n                        />\r\n                    );\r\n                case 'textarea':\r\n                    return (\r\n                        <textarea\r\n                            placeholder={componentData.label || 'Textarea'}\r\n                            style={{ width: '100%', padding: '8px', borderRadius: '8px' }}\r\n                            onMouseDown={(e) => e.stopPropagation()}\r\n                        />\r\n                    );\r\n                case 'popup':\r\n                    return (\r\n                        <div style={{ padding: '10px' }}>\r\n                            <p style={{ margin: 0 }}>{componentData.content || 'Popup nội dung'}</p>\r\n                            {renderChildren()}\r\n                        </div>\r\n                    );\r\n                default:\r\n                    return (\r\n                        <div>\r\n                            {componentData.title || componentData.content || 'Unknown'}\r\n                            {renderChildren()}\r\n                        </div>\r\n                    );\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div\r\n                ref={drag}\r\n                data-id={component.id}\r\n                className={`lpb-canvas-element ${isSelected ? 'lpb-canvas-element-selected' : ''} ${isDragging ? 'lpb-canvas-element-dragging' : ''}`}\r\n                onMouseEnter={(e) => handleElementHover(e, component)}\r\n                onMouseDown={handleMouseDown}\r\n                style={containerStyle}\r\n            >\r\n                {renderContent()}\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nconst Section = React.memo(\r\n    ({\r\n         section,\r\n         index,\r\n         selectedElement,\r\n         onSelectElement,\r\n         handleElementHover,\r\n         onDuplicateElement,\r\n         onDeleteElement,\r\n         onMoveElement,\r\n         updatePosition,\r\n         addElement,\r\n         canvasRef,\r\n         moveElement,\r\n         onInlineEdit,\r\n         onSelectSection,\r\n         viewMode,\r\n         pageStructure,\r\n         zoomLevel,\r\n     }) => {\r\n        const [{ isOver }, drop] = useDrop(() => ({\r\n            accept: [ItemTypes.ELEMENT, ItemTypes.EXISTING_ELEMENT],\r\n            hover: (item, monitor) => {\r\n                if (!monitor.isOver({ shallow: true })) return;\r\n                const clientOffset = monitor.getClientOffset();\r\n                console.log('Hover - clientOffset:', clientOffset, 'Section ID:', section.id);\r\n                if (clientOffset && canvasRef.current) {\r\n                    const sectionRect = document.getElementById(section.id)?.getBoundingClientRect();\r\n                    console.log('Hover - sectionRect:', sectionRect);\r\n                    if (!sectionRect) return;\r\n                    item.dropPosition = {\r\n                        left: clientOffset.x - sectionRect.left,\r\n                        top: clientOffset.y - sectionRect.top,\r\n                    };\r\n                }\r\n            },\r\n            drop: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                console.log('Drop - clientOffset:', clientOffset, 'Section ID:', section.id, 'Item:', item);\r\n                if (!clientOffset || !canvasRef.current) {\r\n                    toast.error('Không thể xác định vị trí thả. Vui lòng thử lại!');\r\n                    return;\r\n                }\r\n                const sectionRect = document.getElementById(section.id)?.getBoundingClientRect();\r\n                console.log('Drop - sectionRect:', sectionRect);\r\n                if (!sectionRect) {\r\n                    toast.error('Không tìm thấy section!');\r\n                    return;\r\n                }\r\n\r\n                const position = {\r\n                    left: clientOffset.x - sectionRect.left,\r\n                    top: clientOffset.y - sectionRect.top,\r\n                };\r\n                console.log('Drop - New Position:', position);\r\n\r\n                if (item.json) {\r\n                    addElement(section.id, {\r\n                        id: item.id,\r\n                        json: {\r\n                            ...item.json,\r\n                            styles: {\r\n                                desktop: { ...item.json.styles?.desktop, left: position.left, top: position.top },\r\n                                mobile: { ...item.json.styles?.mobile, left: position.left / 2, top: position.top / 2 },\r\n                            },\r\n                        },\r\n                    }, section.elements.length);\r\n                    toast.success('Đã thêm phần tử vào section!');\r\n                } else if (item.id) {\r\n                    updatePosition(item.id, section.id, {\r\n                        desktop: { left: position.left, top: position.top },\r\n                        mobile: { left: position.left / 2, top: position.top / 2 },\r\n                    });\r\n                    moveElement(section.id, item.id, section.elements.length);\r\n                    toast.success('Đã di chuyển phần tử!');\r\n                } else {\r\n                    toast.error('Dữ liệu thả không hợp lệ!');\r\n                }\r\n            },\r\n            collect: (monitor) => ({\r\n                isOver: !!monitor.isOver(),\r\n            }),\r\n        }));\r\n\r\n        const handleSectionClick = (e) => {\r\n            e.stopPropagation();\r\n            onSelectSection(section);\r\n        };\r\n\r\n        return (\r\n            <div\r\n                ref={drop}\r\n                id={section.id}\r\n                className={`lpb-canvas-section ${isOver ? 'lpb-canvas-section-over' : ''} ${selectedElement?.id === section.id ? 'lpb-canvas-section-selected' : ''}`}\r\n                style={{\r\n                    position: 'relative',\r\n                    maxWidth: viewMode === 'mobile' ? '100%' : viewMode === 'tablet' ? '768px' : '1200px',\r\n                    margin: '0 auto 20px auto',\r\n                    minHeight: '150px',\r\n                }}\r\n                onMouseDown={handleSectionClick}\r\n            >\r\n                <h3 style={{ margin: 0, fontSize: '1rem', color: '#1f2937' }}>{section.json.componentData?.title || 'Section'}</h3>\r\n                <div className=\"lpb-canvas-section-content\">\r\n                    {(section.elements || []).map((element, idx) => (\r\n                        <Element\r\n                            key={element.id}\r\n                            component={element}\r\n                            index={idx}\r\n                            isSelected={selectedElement?.id === element.id}\r\n                            onSelectElement={onSelectElement}\r\n                            handleElementHover={handleElementHover}\r\n                            onDuplicateElement={onDuplicateElement}\r\n                            onDeleteElement={onDeleteElement}\r\n                            onMoveElement={onMoveElement}\r\n                            updatePosition={updatePosition}\r\n                            canvasRef={canvasRef}\r\n                            sectionId={section.id}\r\n                            onInlineEdit={onInlineEdit}\r\n                            pageStructure={pageStructure}\r\n                            zoomLevel={zoomLevel}\r\n                            viewMode={viewMode}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nconst Canvas = React.memo(\r\n    ({\r\n         pageStructure,\r\n         selectedElement,\r\n         onSelectElement,\r\n         quickEditElement,\r\n         quickEditPosition,\r\n         onQuickEdit,\r\n         onCloseQuickEdit,\r\n         onDuplicateElement,\r\n         onDeleteElement,\r\n         onMoveElement,\r\n         viewMode,\r\n         addSection,\r\n         addElement,\r\n         moveElement,\r\n         ItemTypes,\r\n         zoomLevel,\r\n         setPageStructure,\r\n         updatePosition,\r\n         onInlineEdit,\r\n     }) => {\r\n        const canvasRef = useRef(null);\r\n        const [dropIndex, setDropIndex] = useState(null);\r\n\r\n        const [{ isOver }, drop] = useDrop(() => ({\r\n            accept: [ItemTypes.SECTION],\r\n            hover: (item, monitor) => {\r\n                if (!monitor.isOver({ shallow: true })) return;\r\n                const clientOffset = monitor.getClientOffset();\r\n                console.log('Canvas Hover - clientOffset:', clientOffset);\r\n                if (clientOffset && canvasRef.current) {\r\n                    const rect = canvasRef.current.getBoundingClientRect();\r\n                    console.log('Canvas Hover - canvasRect:', rect);\r\n                    const y = clientOffset.y - rect.top;\r\n                    const index = Math.min(pageStructure?.children?.length || 0, Math.floor(y / 200));\r\n                    setDropIndex(index);\r\n                }\r\n            },\r\n            drop: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                console.log('Canvas Drop - clientOffset:', clientOffset, 'Item:', item);\r\n                if (!clientOffset || !canvasRef.current) {\r\n                    toast.error('Không thể xác định vị trí thả. Vui lòng thử lại!');\r\n                    return;\r\n                }\r\n                if (!item.json || !item.json.styles) {\r\n                    toast.error('Dữ liệu thả không hợp lệ!');\r\n                    return;\r\n                }\r\n                const rect = canvasRef.current.getBoundingClientRect();\r\n                console.log('Canvas Drop - canvasRect:', rect);\r\n                const index = Math.min(pageStructure?.children?.length || 0, Math.floor((clientOffset.y - rect.top) / 200));\r\n                addSection(\r\n                    {\r\n                        id: item.id,\r\n                        json: {\r\n                            ...item.json,\r\n                            styles: {\r\n                                desktop: { ...item.json.styles.desktop, width: '1200px', minHeight: '150px' },\r\n                                mobile: { ...item.json.styles.mobile, width: '100%', minHeight: '100px' },\r\n                            },\r\n                        },\r\n                        elements: [],\r\n                    },\r\n                    index\r\n                );\r\n                toast.success('Đã thêm section mới!');\r\n                setDropIndex(null);\r\n            },\r\n            collect: (monitor) => ({\r\n                isOver: !!monitor.isOver(),\r\n            }),\r\n        }));\r\n\r\n        const handleElementHover = useCallback(\r\n            (e, component) => {\r\n                if (quickEditElement?.id === component.id) return;\r\n                const rect = e.currentTarget.getBoundingClientRect();\r\n                const canvasRect = canvasRef.current?.getBoundingClientRect() || { left: 0, top: 0 };\r\n                console.log('Element Hover - rect:', rect, 'canvasRect:', canvasRect);\r\n                onQuickEdit(component, {\r\n                    left: rect.left - canvasRect.left,\r\n                    top: rect.top - canvasRect.top + 20,\r\n                });\r\n            },\r\n            [quickEditElement, onQuickEdit]\r\n        );\r\n\r\n        const handleSelectSection = useCallback(\r\n            (section) => {\r\n                onSelectElement(section);\r\n            },\r\n            [onSelectElement]\r\n        );\r\n\r\n        useHotkeys(\r\n            'delete',\r\n            () => {\r\n                if (selectedElement) {\r\n                    onDeleteElement(selectedElement);\r\n                }\r\n            },\r\n            [selectedElement, onDeleteElement]\r\n        );\r\n\r\n        if (!pageStructure || !pageStructure.children) {\r\n            return (\r\n                <div className=\"lpb-canvas-wrapper\">\r\n                    <div\r\n                        ref={(node) => {\r\n                            canvasRef.current = node;\r\n                            drop(node);\r\n                        }}\r\n                        className={`lpb-canvas ${viewMode === 'mobile' ? 'lpb-canvas-mobile' : viewMode === 'tablet' ? 'lpb-canvas-tablet' : ''}`}\r\n                        onMouseLeave={onCloseQuickEdit}\r\n                        style={{\r\n                            position: 'relative',\r\n                            minHeight: '100%',\r\n                        }}\r\n                    >\r\n                        <div className=\"lpb-canvas-content\">\r\n                            <div className=\"lpb-canvas-empty-state\">\r\n                                <i className=\"fas fa-layer-group\"></i>\r\n                                <p>Kéo thả section để bắt đầu</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"lpb-canvas-wrapper\">\r\n                <div\r\n                    ref={(node) => {\r\n                        canvasRef.current = node;\r\n                        drop(node);\r\n                    }}\r\n                    className={`lpb-canvas ${viewMode === 'mobile' ? 'lpb-canvas-mobile' : viewMode === 'tablet' ? 'lpb-canvas-tablet' : ''}`}\r\n                    onMouseLeave={onCloseQuickEdit}\r\n                    style={{\r\n                        position: 'relative',\r\n                        minHeight: '100%',\r\n                        background: pageStructure.styles?.[viewMode]?.background || '#fff',\r\n                    }}\r\n                >\r\n                    <div className=\"lpb-canvas-content\">\r\n                        {pageStructure.children.length === 0 ? (\r\n                            <div className=\"lpb-canvas-empty-state\">\r\n                                <i className=\"fas fa-layer-group\"></i>\r\n                                <p>Kéo thả section để bắt đầu</p>\r\n                            </div>\r\n                        ) : (\r\n                            <>\r\n                                {pageStructure.children.map((section, index) => (\r\n                                    <React.Fragment key={section.id}>\r\n                                        {dropIndex === index && (\r\n                                            <div\r\n                                                className=\"lpb-canvas-drop-zone\"\r\n                                                style={{\r\n                                                    height: '10px',\r\n                                                    background: 'rgba(0, 128, 255, 0.2)',\r\n                                                    border: '1px dashed #0080ff',\r\n                                                    margin: '5px auto',\r\n                                                    width: viewMode === 'mobile' ? '100%' : viewMode === 'tablet' ? '768px' : '1200px',\r\n                                                }}\r\n                                            />\r\n                                        )}\r\n                                        <Section\r\n                                            key={section.id}\r\n                                            section={section}\r\n                                            index={index}\r\n                                            selectedElement={selectedElement}\r\n                                            onSelectElement={onSelectElement}\r\n                                            handleElementHover={handleElementHover}\r\n                                            onDuplicateElement={onDuplicateElement}\r\n                                            onDeleteElement={onDeleteElement}\r\n                                            onMoveElement={onMoveElement}\r\n                                            updatePosition={updatePosition}\r\n                                            addElement={addElement}\r\n                                            canvasRef={canvasRef}\r\n                                            moveElement={moveElement}\r\n                                            onInlineEdit={onInlineEdit}\r\n                                            onSelectSection={handleSelectSection}\r\n                                            viewMode={viewMode}\r\n                                            pageStructure={pageStructure}\r\n                                            zoomLevel={zoomLevel}\r\n                                        />\r\n                                    </React.Fragment>\r\n                                ))}\r\n                                {dropIndex === pageStructure.children.length && (\r\n                                    <div\r\n                                        className=\"lpb-canvas-drop-zone\"\r\n                                        style={{\r\n                                            height: '10px',\r\n                                            background: 'rgba(0, 128, 255, 0.2)',\r\n                                            border: '1px dashed #0080ff',\r\n                                            margin: '5px auto',\r\n                                            width: viewMode === 'mobile' ? '100%' : viewMode === 'tablet' ? '768px' : '1200px',\r\n                                        }}\r\n                                    />\r\n                                )}\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                    <QuickEditToolkit\r\n                        element={quickEditElement}\r\n                        position={quickEditPosition}\r\n                        onEdit={() => onSelectElement(quickEditElement)}\r\n                        onDuplicate={() => onDuplicateElement(quickEditElement)}\r\n                        onDelete={() => onDeleteElement(quickEditElement)}\r\n                        onMoveUp={() => onMoveElement(quickEditElement, 'up')}\r\n                        onMoveDown={() => onMoveElement(quickEditElement, 'down')}\r\n                        onClose={onCloseQuickEdit}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nexport default Canvas;"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAASC,OAAO,EAAEC,OAAO,QAAQ,WAAW;AAC5C,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,OAAO,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAExC,MAAMC,SAAS,GAAG;EACdC,OAAO,EAAE,SAAS;EAClBC,OAAO,EAAE,SAAS;EAClBC,gBAAgB,EAAE;AACtB,CAAC;AAED,MAAMC,OAAO,gBAAAC,EAAA,cAAGlB,KAAK,CAACmB,IAAI,CAAAC,EAAA,GAAAF,EAAA,CACtB,CAAC;EACIG,SAAS;EACTC,KAAK;EACLC,UAAU;EACVC,eAAe;EACfC,kBAAkB;EAClBC,kBAAkB;EAClBC,eAAe;EACfC,aAAa;EACbC,cAAc;EACdC,SAAS;EACTC,SAAS;EACTC,YAAY;EACZC,aAAa;EACbC,SAAS;EACTC;AACJ,CAAC,KAAK;EAAA,IAAAC,gBAAA,EAAAC,iBAAA,EAAAC,iBAAA,EAAAC,iBAAA;EAAArB,EAAA;EACH,MAAM;IAAEsB,IAAI;IAAEC,aAAa,GAAG,CAAC,CAAC;IAAEC,MAAM,GAAG;MAAEC,OAAO,EAAE,CAAC,CAAC;MAAEC,MAAM,EAAE,CAAC;IAAE,CAAC;IAAEC,QAAQ,GAAG;EAAG,CAAC,GAAGxB,SAAS,CAACyB,IAAI,IAAI,CAAC,CAAC;EAC9G,MAAMC,cAAc,GAAG;IACnBC,QAAQ,EAAE,UAAU;IACpBC,IAAI,EAAE,EAAAb,gBAAA,GAAAM,MAAM,CAACP,QAAQ,CAAC,cAAAC,gBAAA,uBAAhBA,gBAAA,CAAkBa,IAAI,KAAI,CAAC;IACjCC,GAAG,EAAE,EAAAb,iBAAA,GAAAK,MAAM,CAACP,QAAQ,CAAC,cAAAE,iBAAA,uBAAhBA,iBAAA,CAAkBa,GAAG,KAAI,CAAC;IAC/BC,QAAQ,EAAE,MAAM;IAChBC,SAAS,EAAE,YAAY;IACvBC,KAAK,EAAE,EAAAf,iBAAA,GAAAI,MAAM,CAACP,QAAQ,CAAC,cAAAG,iBAAA,uBAAhBA,iBAAA,CAAkBe,KAAK,KAAI,MAAM;IACxCC,MAAM,EAAE,EAAAf,iBAAA,GAAAG,MAAM,CAACP,QAAQ,CAAC,cAAAI,iBAAA,uBAAhBA,iBAAA,CAAkBe,MAAM,KAAI,MAAM;IAC1CC,MAAM,EAAEhC,UAAU,GAAG,EAAE,GAAG;EAC9B,CAAC;EAED,MAAM,CAAC;IAAEiC;EAAW,CAAC,EAAEC,IAAI,CAAC,GAAGpD,OAAO,CAAC,OAAO;IAC1CmC,IAAI,EAAE3B,SAAS,CAACG,gBAAgB;IAChC0C,IAAI,EAAE;MAAEC,EAAE,EAAEtC,SAAS,CAACsC,EAAE;MAAE5B,SAAS;MAAEe,IAAI,EAAEzB,SAAS,CAACyB;IAAK,CAAC;IAC3Dc,GAAG,EAAEA,CAACF,IAAI,EAAEG,OAAO,KAAK;MACpB,MAAMC,YAAY,GAAGD,OAAO,CAACE,eAAe,CAAC,CAAC;MAC9CC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEH,YAAY,EAAE,aAAa,EAAEzC,SAAS,CAACsC,EAAE,EAAE,aAAa,EAAE5B,SAAS,CAAC;MACxG,IAAI+B,YAAY,IAAIhC,SAAS,CAACoC,OAAO,IAAInC,SAAS,IAAI8B,OAAO,CAACM,OAAO,CAAC,CAAC,EAAE;QAAA,IAAAC,qBAAA;QACrE,MAAMC,WAAW,IAAAD,qBAAA,GAAGE,QAAQ,CAACC,cAAc,CAACxC,SAAS,CAAC,cAAAqC,qBAAA,uBAAlCA,qBAAA,CAAoCI,qBAAqB,CAAC,CAAC;QAC/ER,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEI,WAAW,CAAC;QAC/C,IAAI,CAACA,WAAW,EAAE;UACd9D,KAAK,CAACkE,KAAK,CAAC,yBAAyB,CAAC;UACtC;QACJ;QAEA,MAAMC,IAAI,GAAGZ,YAAY,CAACa,CAAC,GAAGN,WAAW,CAACpB,IAAI;QAC9C,MAAM2B,IAAI,GAAGd,YAAY,CAACe,CAAC,GAAGR,WAAW,CAACnB,GAAG;QAC7Cc,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAE;UAAES,IAAI;UAAEE;QAAK,CAAC,CAAC;QAEnD/C,cAAc,CAACR,SAAS,CAACsC,EAAE,EAAE5B,SAAS,EAAE;UACpCY,OAAO,EAAE;YAAEM,IAAI,EAAEyB,IAAI;YAAExB,GAAG,EAAE0B;UAAK,CAAC;UAClChC,MAAM,EAAE;YAAEK,IAAI,EAAEyB,IAAI,GAAG,CAAC;YAAExB,GAAG,EAAE0B,IAAI,GAAG;UAAE;QAC5C,CAAC,CAAC;MACN;IACJ,CAAC;IACDE,OAAO,EAAGjB,OAAO,KAAM;MACnBL,UAAU,EAAE,CAAC,CAACK,OAAO,CAACL,UAAU,CAAC;IACrC,CAAC;EACL,CAAC,CAAC,CAAC;EAEH,MAAMuB,eAAe,GAAIC,CAAC,IAAK;IAC3BA,CAAC,CAACC,eAAe,CAAC,CAAC;IACnBzD,eAAe,CAACH,SAAS,CAAC;EAC9B,CAAC;EAED,MAAM6D,gBAAgB,GAAIF,CAAC,IAAK;IAC5B,IAAIhD,YAAY,IAAIgD,CAAC,CAACG,MAAM,CAACC,eAAe,KAAK,MAAM,EAAE;MACrDpD,YAAY,CAACX,SAAS,CAACsC,EAAE,EAAE5B,SAAS,EAAEiD,CAAC,CAACG,MAAM,CAACE,SAAS,CAAC;IAC7D;EACJ,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAAA,IAAAC,qBAAA,EAAAC,sBAAA;IACxB,MAAMC,cAAc,GAAGA,CAAA,KAAM;MACzB,OAAO5C,QAAQ,CAAC6C,GAAG,CAAC,CAACC,KAAK,EAAEC,GAAG,kBAC3BlF,OAAA,CAACO,OAAO;QAEJI,SAAS,EAAE;UAAEsC,EAAE,EAAEgC,KAAK,CAAChC,EAAE;UAAEb,IAAI,EAAE6C;QAAM,CAAE;QACzCrE,KAAK,EAAEsE,GAAI;QACXrE,UAAU,EAAEA,UAAU,IAAIF,SAAS,CAACsC,EAAE,KAAKgC,KAAK,CAAChC,EAAG;QACpDnC,eAAe,EAAEA,eAAgB;QACjCC,kBAAkB,EAAEA,kBAAmB;QACvCC,kBAAkB,EAAEA,kBAAmB;QACvCC,eAAe,EAAEA,eAAgB;QACjCC,aAAa,EAAEA,aAAc;QAC7BC,cAAc,EAAEA,cAAe;QAC/BC,SAAS,EAAEA,SAAU;QACrBC,SAAS,EAAEA,SAAU;QACrBC,YAAY,EAAEA,YAAa;QAC3BC,aAAa,EAAEA,aAAc;QAC7BC,SAAS,EAAEA,SAAU;QACrBC,QAAQ,EAAEA;MAAS,GAfdwD,KAAK,CAAChC,EAAE;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAgBhB,CACJ,CAAC;IACN,CAAC;IAED,QAAQxD,IAAI;MACR,KAAK,MAAM;QACP,oBACI9B,OAAA;UAAMuF,KAAK,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEC,aAAa,EAAE,QAAQ;YAAEC,GAAG,EAAE;UAAO,CAAE;UAAAvD,QAAA,GAClE4C,cAAc,CAAC,CAAC,eACjB/E,OAAA;YACI8B,IAAI,EAAC,QAAQ;YACbyD,KAAK,EAAE;cAAEI,UAAU,EAAE,SAAS;cAAEC,KAAK,EAAE,MAAM;cAAEC,OAAO,EAAE,UAAU;cAAEC,YAAY,EAAE;YAAM,CAAE;YAC1FC,WAAW,EAAGzB,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC,CAAE;YAAApC,QAAA,EAC3C;UAED;YAAAgD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACP,CAAC;MAEf,KAAK,cAAc;QACf,oBACItF,OAAA;UAAKuF,KAAK,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEE,GAAG,EAAE;UAAO,CAAE;UAAAvD,QAAA,EACxC4C,cAAc,CAAC;QAAC;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC;MAEd,KAAK,SAAS;MACd,KAAK,UAAU;QACX,oBACItF,OAAA;UAAKuF,KAAK,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEQ,QAAQ,EAAElE,IAAI,KAAK,SAAS,GAAG,MAAM,GAAG,QAAQ;YAAE4D,GAAG,EAAE,MAAM;YAAEO,SAAS,EAAEnE,IAAI,KAAK,UAAU,GAAG,MAAM,GAAG;UAAU,CAAE;UAAAK,QAAA,EAC/I4C,cAAc,CAAC;QAAC;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC;MAEd,KAAK,SAAS;QACV,oBACItF,OAAA;UACIuF,KAAK,EAAE;YAAEW,QAAQ,EAAEnE,aAAa,CAACmE,QAAQ,IAAI,QAAQ;YAAEN,KAAK,EAAE7D,aAAa,CAAC6D,KAAK,IAAI;UAAU,CAAE;UACjGlB,eAAe;UACfyB,8BAA8B;UAC9BC,MAAM,EAAE5B,gBAAiB;UACzBuB,WAAW,EAAGzB,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC,CAAE;UAAApC,QAAA,EAEvCJ,aAAa,CAACsE,OAAO,IAAI;QAAS;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC;MAEb,KAAK,WAAW;QACZ,oBACItF,OAAA;UACIuF,KAAK,EAAE;YAAEW,QAAQ,EAAEnE,aAAa,CAACmE,QAAQ,IAAI,MAAM;YAAEN,KAAK,EAAE7D,aAAa,CAAC6D,KAAK,IAAI;UAAU,CAAE;UAC/FlB,eAAe;UACfyB,8BAA8B;UAC9BC,MAAM,EAAE5B,gBAAiB;UACzBuB,WAAW,EAAGzB,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC,CAAE;UAAApC,QAAA,EAEvCJ,aAAa,CAACsE,OAAO,IAAI;QAAU;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC;MAEZ,KAAK,QAAQ;QACT,oBACItF,OAAA;UACIuF,KAAK,EAAE;YAAEM,OAAO,EAAE,UAAU;YAAEC,YAAY,EAAE,KAAK;YAAEH,UAAU,EAAE5D,aAAa,CAAC4D,UAAU,IAAI,SAAS;YAAEC,KAAK,EAAE7D,aAAa,CAAC6D,KAAK,IAAI;UAAO,CAAE;UAC7IlB,eAAe;UACfyB,8BAA8B;UAC9BC,MAAM,EAAE5B,gBAAiB;UACzBuB,WAAW,EAAGzB,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC,CAAE;UAAApC,QAAA,EAEvCJ,aAAa,CAACsE,OAAO,IAAI;QAAK;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC;MAEjB,KAAK,OAAO;QACR,oBACItF,OAAA;UACIsG,GAAG,EAAEvE,aAAa,CAACuE,GAAG,MAAAzB,qBAAA,GAAI9C,aAAa,CAACwE,MAAM,cAAA1B,qBAAA,wBAAAC,sBAAA,GAApBD,qBAAA,CAAuB,CAAC,CAAC,cAAAC,sBAAA,uBAAzBA,sBAAA,CAA2BwB,GAAG,KAAI,iCAAkC;UAC9FE,GAAG,EAAEzE,aAAa,CAACyE,GAAG,IAAI,OAAQ;UAClCjB,KAAK,EAAE;YAAE9C,QAAQ,EAAE,MAAM;YAAEG,MAAM,EAAE;UAAO;QAAE;UAAAuC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC;MAEV,KAAK,OAAO;QACR,oBACItF,OAAA;UACI8B,IAAI,EAAEC,aAAa,CAACD,IAAI,IAAI,MAAO;UACnC2E,WAAW,EAAE1E,aAAa,CAAC2E,KAAK,IAAI,OAAQ;UAC5CnB,KAAK,EAAE;YAAE5C,KAAK,EAAE,MAAM;YAAEkD,OAAO,EAAE,KAAK;YAAEC,YAAY,EAAE;UAAM,CAAE;UAC9DC,WAAW,EAAGzB,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC;QAAE;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC;MAEV,KAAK,UAAU;QACX,oBACItF,OAAA;UACIyG,WAAW,EAAE1E,aAAa,CAAC2E,KAAK,IAAI,UAAW;UAC/CnB,KAAK,EAAE;YAAE5C,KAAK,EAAE,MAAM;YAAEkD,OAAO,EAAE,KAAK;YAAEC,YAAY,EAAE;UAAM,CAAE;UAC9DC,WAAW,EAAGzB,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC;QAAE;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC;MAEV,KAAK,OAAO;QACR,oBACItF,OAAA;UAAKuF,KAAK,EAAE;YAAEM,OAAO,EAAE;UAAO,CAAE;UAAA1D,QAAA,gBAC5BnC,OAAA;YAAGuF,KAAK,EAAE;cAAEoB,MAAM,EAAE;YAAE,CAAE;YAAAxE,QAAA,EAAEJ,aAAa,CAACsE,OAAO,IAAI;UAAgB;YAAAlB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EACvEP,cAAc,CAAC,CAAC;QAAA;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC;MAEd;QACI,oBACItF,OAAA;UAAAmC,QAAA,GACKJ,aAAa,CAAC6E,KAAK,IAAI7E,aAAa,CAACsE,OAAO,IAAI,SAAS,EACzDtB,cAAc,CAAC,CAAC;QAAA;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC;IAElB;EACJ,CAAC;EAED,oBACItF,OAAA;IACI6G,GAAG,EAAE9D,IAAK;IACV,WAASpC,SAAS,CAACsC,EAAG;IACtB6D,SAAS,EAAE,sBAAsBjG,UAAU,GAAG,6BAA6B,GAAG,EAAE,IAAIiC,UAAU,GAAG,6BAA6B,GAAG,EAAE,EAAG;IACtIiE,YAAY,EAAGzC,CAAC,IAAKvD,kBAAkB,CAACuD,CAAC,EAAE3D,SAAS,CAAE;IACtDoF,WAAW,EAAE1B,eAAgB;IAC7BkB,KAAK,EAAElD,cAAe;IAAAF,QAAA,EAErByC,aAAa,CAAC;EAAC;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACf,CAAC;AAEd,CAAC;EAAA,QArLkC3F,OAAO;AAAA,EAsL9C,CAAC;EAAA,QAtLsCA,OAAO;AAAA,EAsL7C;AAACqH,GAAA,GApNIzG,OAAO;AAsNb,MAAM0G,OAAO,gBAAAC,GAAA,cAAG5H,KAAK,CAACmB,IAAI,CAAA0G,GAAA,GAAAD,GAAA,CACtB,CAAC;EACIE,OAAO;EACPxG,KAAK;EACLyG,eAAe;EACfvG,eAAe;EACfC,kBAAkB;EAClBC,kBAAkB;EAClBC,eAAe;EACfC,aAAa;EACbC,cAAc;EACdmG,UAAU;EACVlG,SAAS;EACTmG,WAAW;EACXjG,YAAY;EACZkG,eAAe;EACf/F,QAAQ;EACRF,aAAa;EACbC;AACJ,CAAC,KAAK;EAAA,IAAAiG,qBAAA;EAAAP,GAAA;EACH,MAAM,CAAC;IAAEQ;EAAO,CAAC,EAAEC,IAAI,CAAC,GAAGjI,OAAO,CAAC,OAAO;IACtCkI,MAAM,EAAE,CAACzH,SAAS,CAACE,OAAO,EAAEF,SAAS,CAACG,gBAAgB,CAAC;IACvDuH,KAAK,EAAEA,CAAC7E,IAAI,EAAEG,OAAO,KAAK;MACtB,IAAI,CAACA,OAAO,CAACuE,MAAM,CAAC;QAAEI,OAAO,EAAE;MAAK,CAAC,CAAC,EAAE;MACxC,MAAM1E,YAAY,GAAGD,OAAO,CAACE,eAAe,CAAC,CAAC;MAC9CC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEH,YAAY,EAAE,aAAa,EAAEgE,OAAO,CAACnE,EAAE,CAAC;MAC7E,IAAIG,YAAY,IAAIhC,SAAS,CAACoC,OAAO,EAAE;QAAA,IAAAuE,sBAAA;QACnC,MAAMpE,WAAW,IAAAoE,sBAAA,GAAGnE,QAAQ,CAACC,cAAc,CAACuD,OAAO,CAACnE,EAAE,CAAC,cAAA8E,sBAAA,uBAAnCA,sBAAA,CAAqCjE,qBAAqB,CAAC,CAAC;QAChFR,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEI,WAAW,CAAC;QAChD,IAAI,CAACA,WAAW,EAAE;QAClBX,IAAI,CAACgF,YAAY,GAAG;UAChBzF,IAAI,EAAEa,YAAY,CAACa,CAAC,GAAGN,WAAW,CAACpB,IAAI;UACvCC,GAAG,EAAEY,YAAY,CAACe,CAAC,GAAGR,WAAW,CAACnB;QACtC,CAAC;MACL;IACJ,CAAC;IACDmF,IAAI,EAAEA,CAAC3E,IAAI,EAAEG,OAAO,KAAK;MAAA,IAAA8E,sBAAA;MACrB,MAAM7E,YAAY,GAAGD,OAAO,CAACE,eAAe,CAAC,CAAC;MAC9CC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEH,YAAY,EAAE,aAAa,EAAEgE,OAAO,CAACnE,EAAE,EAAE,OAAO,EAAED,IAAI,CAAC;MAC3F,IAAI,CAACI,YAAY,IAAI,CAAChC,SAAS,CAACoC,OAAO,EAAE;QACrC3D,KAAK,CAACkE,KAAK,CAAC,kDAAkD,CAAC;QAC/D;MACJ;MACA,MAAMJ,WAAW,IAAAsE,sBAAA,GAAGrE,QAAQ,CAACC,cAAc,CAACuD,OAAO,CAACnE,EAAE,CAAC,cAAAgF,sBAAA,uBAAnCA,sBAAA,CAAqCnE,qBAAqB,CAAC,CAAC;MAChFR,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEI,WAAW,CAAC;MAC/C,IAAI,CAACA,WAAW,EAAE;QACd9D,KAAK,CAACkE,KAAK,CAAC,yBAAyB,CAAC;QACtC;MACJ;MAEA,MAAMzB,QAAQ,GAAG;QACbC,IAAI,EAAEa,YAAY,CAACa,CAAC,GAAGN,WAAW,CAACpB,IAAI;QACvCC,GAAG,EAAEY,YAAY,CAACe,CAAC,GAAGR,WAAW,CAACnB;MACtC,CAAC;MACDc,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEjB,QAAQ,CAAC;MAE7C,IAAIU,IAAI,CAACZ,IAAI,EAAE;QAAA,IAAA8F,iBAAA,EAAAC,kBAAA;QACXb,UAAU,CAACF,OAAO,CAACnE,EAAE,EAAE;UACnBA,EAAE,EAAED,IAAI,CAACC,EAAE;UACXb,IAAI,EAAE;YACF,GAAGY,IAAI,CAACZ,IAAI;YACZJ,MAAM,EAAE;cACJC,OAAO,EAAE;gBAAE,KAAAiG,iBAAA,GAAGlF,IAAI,CAACZ,IAAI,CAACJ,MAAM,cAAAkG,iBAAA,uBAAhBA,iBAAA,CAAkBjG,OAAO;gBAAEM,IAAI,EAAED,QAAQ,CAACC,IAAI;gBAAEC,GAAG,EAAEF,QAAQ,CAACE;cAAI,CAAC;cACjFN,MAAM,EAAE;gBAAE,KAAAiG,kBAAA,GAAGnF,IAAI,CAACZ,IAAI,CAACJ,MAAM,cAAAmG,kBAAA,uBAAhBA,kBAAA,CAAkBjG,MAAM;gBAAEK,IAAI,EAAED,QAAQ,CAACC,IAAI,GAAG,CAAC;gBAAEC,GAAG,EAAEF,QAAQ,CAACE,GAAG,GAAG;cAAE;YAC1F;UACJ;QACJ,CAAC,EAAE4E,OAAO,CAACgB,QAAQ,CAACC,MAAM,CAAC;QAC3BxI,KAAK,CAACyI,OAAO,CAAC,8BAA8B,CAAC;MACjD,CAAC,MAAM,IAAItF,IAAI,CAACC,EAAE,EAAE;QAChB9B,cAAc,CAAC6B,IAAI,CAACC,EAAE,EAAEmE,OAAO,CAACnE,EAAE,EAAE;UAChChB,OAAO,EAAE;YAAEM,IAAI,EAAED,QAAQ,CAACC,IAAI;YAAEC,GAAG,EAAEF,QAAQ,CAACE;UAAI,CAAC;UACnDN,MAAM,EAAE;YAAEK,IAAI,EAAED,QAAQ,CAACC,IAAI,GAAG,CAAC;YAAEC,GAAG,EAAEF,QAAQ,CAACE,GAAG,GAAG;UAAE;QAC7D,CAAC,CAAC;QACF+E,WAAW,CAACH,OAAO,CAACnE,EAAE,EAAED,IAAI,CAACC,EAAE,EAAEmE,OAAO,CAACgB,QAAQ,CAACC,MAAM,CAAC;QACzDxI,KAAK,CAACyI,OAAO,CAAC,uBAAuB,CAAC;MAC1C,CAAC,MAAM;QACHzI,KAAK,CAACkE,KAAK,CAAC,2BAA2B,CAAC;MAC5C;IACJ,CAAC;IACDK,OAAO,EAAGjB,OAAO,KAAM;MACnBuE,MAAM,EAAE,CAAC,CAACvE,OAAO,CAACuE,MAAM,CAAC;IAC7B,CAAC;EACL,CAAC,CAAC,CAAC;EAEH,MAAMa,kBAAkB,GAAIjE,CAAC,IAAK;IAC9BA,CAAC,CAACC,eAAe,CAAC,CAAC;IACnBiD,eAAe,CAACJ,OAAO,CAAC;EAC5B,CAAC;EAED,oBACIpH,OAAA;IACI6G,GAAG,EAAEc,IAAK;IACV1E,EAAE,EAAEmE,OAAO,CAACnE,EAAG;IACf6D,SAAS,EAAE,sBAAsBY,MAAM,GAAG,yBAAyB,GAAG,EAAE,IAAI,CAAAL,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEpE,EAAE,MAAKmE,OAAO,CAACnE,EAAE,GAAG,6BAA6B,GAAG,EAAE,EAAG;IACtJsC,KAAK,EAAE;MACHjD,QAAQ,EAAE,UAAU;MACpBG,QAAQ,EAAEhB,QAAQ,KAAK,QAAQ,GAAG,MAAM,GAAGA,QAAQ,KAAK,QAAQ,GAAG,OAAO,GAAG,QAAQ;MACrFkF,MAAM,EAAE,kBAAkB;MAC1B6B,SAAS,EAAE;IACf,CAAE;IACFzC,WAAW,EAAEwC,kBAAmB;IAAApG,QAAA,gBAEhCnC,OAAA;MAAIuF,KAAK,EAAE;QAAEoB,MAAM,EAAE,CAAC;QAAET,QAAQ,EAAE,MAAM;QAAEN,KAAK,EAAE;MAAU,CAAE;MAAAzD,QAAA,EAAE,EAAAsF,qBAAA,GAAAL,OAAO,CAAChF,IAAI,CAACL,aAAa,cAAA0F,qBAAA,uBAA1BA,qBAAA,CAA4Bb,KAAK,KAAI;IAAS;MAAAzB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACnHtF,OAAA;MAAK8G,SAAS,EAAC,4BAA4B;MAAA3E,QAAA,EACtC,CAACiF,OAAO,CAACgB,QAAQ,IAAI,EAAE,EAAEpD,GAAG,CAAC,CAACyD,OAAO,EAAEvD,GAAG,kBACvClF,OAAA,CAACO,OAAO;QAEJI,SAAS,EAAE8H,OAAQ;QACnB7H,KAAK,EAAEsE,GAAI;QACXrE,UAAU,EAAE,CAAAwG,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEpE,EAAE,MAAKwF,OAAO,CAACxF,EAAG;QAC/CnC,eAAe,EAAEA,eAAgB;QACjCC,kBAAkB,EAAEA,kBAAmB;QACvCC,kBAAkB,EAAEA,kBAAmB;QACvCC,eAAe,EAAEA,eAAgB;QACjCC,aAAa,EAAEA,aAAc;QAC7BC,cAAc,EAAEA,cAAe;QAC/BC,SAAS,EAAEA,SAAU;QACrBC,SAAS,EAAE+F,OAAO,CAACnE,EAAG;QACtB3B,YAAY,EAAEA,YAAa;QAC3BC,aAAa,EAAEA,aAAc;QAC7BC,SAAS,EAAEA,SAAU;QACrBC,QAAQ,EAAEA;MAAS,GAfdgH,OAAO,CAACxF,EAAE;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAgBlB,CACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;EAAA,QA3G8B5F,OAAO;AAAA,EA4G1C,CAAC;EAAA,QA5GkCA,OAAO;AAAA,EA4GzC;AAACgJ,GAAA,GAhIIzB,OAAO;AAkIb,MAAM0B,MAAM,gBAAAC,GAAA,cAAGtJ,KAAK,CAACmB,IAAI,CAAAoI,GAAA,GAAAD,GAAA,CACrB,CAAC;EACIrH,aAAa;EACb8F,eAAe;EACfvG,eAAe;EACfgI,gBAAgB;EAChBC,iBAAiB;EACjBC,WAAW;EACXC,gBAAgB;EAChBjI,kBAAkB;EAClBC,eAAe;EACfC,aAAa;EACbO,QAAQ;EACRyH,UAAU;EACV5B,UAAU;EACVC,WAAW;EACXpH,SAAS;EACTqB,SAAS;EACT2H,gBAAgB;EAChBhI,cAAc;EACdG;AACJ,CAAC,KAAK;EAAA,IAAA8H,qBAAA,EAAAC,sBAAA;EAAAT,GAAA;EACH,MAAMxH,SAAS,GAAG7B,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAAC+J,SAAS,EAAEC,YAAY,CAAC,GAAG9J,QAAQ,CAAC,IAAI,CAAC;EAEhD,MAAM,CAAC;IAAEiI;EAAO,CAAC,EAAEC,IAAI,CAAC,GAAGjI,OAAO,CAAC,OAAO;IACtCkI,MAAM,EAAE,CAACzH,SAAS,CAACC,OAAO,CAAC;IAC3ByH,KAAK,EAAEA,CAAC7E,IAAI,EAAEG,OAAO,KAAK;MACtB,IAAI,CAACA,OAAO,CAACuE,MAAM,CAAC;QAAEI,OAAO,EAAE;MAAK,CAAC,CAAC,EAAE;MACxC,MAAM1E,YAAY,GAAGD,OAAO,CAACE,eAAe,CAAC,CAAC;MAC9CC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEH,YAAY,CAAC;MACzD,IAAIA,YAAY,IAAIhC,SAAS,CAACoC,OAAO,EAAE;QAAA,IAAAgG,qBAAA;QACnC,MAAMC,IAAI,GAAGrI,SAAS,CAACoC,OAAO,CAACM,qBAAqB,CAAC,CAAC;QACtDR,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEkG,IAAI,CAAC;QAC/C,MAAMtF,CAAC,GAAGf,YAAY,CAACe,CAAC,GAAGsF,IAAI,CAACjH,GAAG;QACnC,MAAM5B,KAAK,GAAG8I,IAAI,CAACC,GAAG,CAAC,CAAApI,aAAa,aAAbA,aAAa,wBAAAiI,qBAAA,GAAbjI,aAAa,CAAEY,QAAQ,cAAAqH,qBAAA,uBAAvBA,qBAAA,CAAyBnB,MAAM,KAAI,CAAC,EAAEqB,IAAI,CAACE,KAAK,CAACzF,CAAC,GAAG,GAAG,CAAC,CAAC;QACjFoF,YAAY,CAAC3I,KAAK,CAAC;MACvB;IACJ,CAAC;IACD+G,IAAI,EAAEA,CAAC3E,IAAI,EAAEG,OAAO,KAAK;MAAA,IAAA0G,sBAAA;MACrB,MAAMzG,YAAY,GAAGD,OAAO,CAACE,eAAe,CAAC,CAAC;MAC9CC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEH,YAAY,EAAE,OAAO,EAAEJ,IAAI,CAAC;MACvE,IAAI,CAACI,YAAY,IAAI,CAAChC,SAAS,CAACoC,OAAO,EAAE;QACrC3D,KAAK,CAACkE,KAAK,CAAC,kDAAkD,CAAC;QAC/D;MACJ;MACA,IAAI,CAACf,IAAI,CAACZ,IAAI,IAAI,CAACY,IAAI,CAACZ,IAAI,CAACJ,MAAM,EAAE;QACjCnC,KAAK,CAACkE,KAAK,CAAC,2BAA2B,CAAC;QACxC;MACJ;MACA,MAAM0F,IAAI,GAAGrI,SAAS,CAACoC,OAAO,CAACM,qBAAqB,CAAC,CAAC;MACtDR,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEkG,IAAI,CAAC;MAC9C,MAAM7I,KAAK,GAAG8I,IAAI,CAACC,GAAG,CAAC,CAAApI,aAAa,aAAbA,aAAa,wBAAAsI,sBAAA,GAAbtI,aAAa,CAAEY,QAAQ,cAAA0H,sBAAA,uBAAvBA,sBAAA,CAAyBxB,MAAM,KAAI,CAAC,EAAEqB,IAAI,CAACE,KAAK,CAAC,CAACxG,YAAY,CAACe,CAAC,GAAGsF,IAAI,CAACjH,GAAG,IAAI,GAAG,CAAC,CAAC;MAC3G0G,UAAU,CACN;QACIjG,EAAE,EAAED,IAAI,CAACC,EAAE;QACXb,IAAI,EAAE;UACF,GAAGY,IAAI,CAACZ,IAAI;UACZJ,MAAM,EAAE;YACJC,OAAO,EAAE;cAAE,GAAGe,IAAI,CAACZ,IAAI,CAACJ,MAAM,CAACC,OAAO;cAAEU,KAAK,EAAE,QAAQ;cAAE6F,SAAS,EAAE;YAAQ,CAAC;YAC7EtG,MAAM,EAAE;cAAE,GAAGc,IAAI,CAACZ,IAAI,CAACJ,MAAM,CAACE,MAAM;cAAES,KAAK,EAAE,MAAM;cAAE6F,SAAS,EAAE;YAAQ;UAC5E;QACJ,CAAC;QACDJ,QAAQ,EAAE;MACd,CAAC,EACDxH,KACJ,CAAC;MACDf,KAAK,CAACyI,OAAO,CAAC,sBAAsB,CAAC;MACrCiB,YAAY,CAAC,IAAI,CAAC;IACtB,CAAC;IACDnF,OAAO,EAAGjB,OAAO,KAAM;MACnBuE,MAAM,EAAE,CAAC,CAACvE,OAAO,CAACuE,MAAM,CAAC;IAC7B,CAAC;EACL,CAAC,CAAC,CAAC;EAEH,MAAM3G,kBAAkB,GAAGvB,WAAW,CAClC,CAAC8E,CAAC,EAAE3D,SAAS,KAAK;IAAA,IAAAmJ,kBAAA;IACd,IAAI,CAAAhB,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAE7F,EAAE,MAAKtC,SAAS,CAACsC,EAAE,EAAE;IAC3C,MAAMwG,IAAI,GAAGnF,CAAC,CAACyF,aAAa,CAACjG,qBAAqB,CAAC,CAAC;IACpD,MAAMkG,UAAU,GAAG,EAAAF,kBAAA,GAAA1I,SAAS,CAACoC,OAAO,cAAAsG,kBAAA,uBAAjBA,kBAAA,CAAmBhG,qBAAqB,CAAC,CAAC,KAAI;MAAEvB,IAAI,EAAE,CAAC;MAAEC,GAAG,EAAE;IAAE,CAAC;IACpFc,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEkG,IAAI,EAAE,aAAa,EAAEO,UAAU,CAAC;IACrEhB,WAAW,CAACrI,SAAS,EAAE;MACnB4B,IAAI,EAAEkH,IAAI,CAAClH,IAAI,GAAGyH,UAAU,CAACzH,IAAI;MACjCC,GAAG,EAAEiH,IAAI,CAACjH,GAAG,GAAGwH,UAAU,CAACxH,GAAG,GAAG;IACrC,CAAC,CAAC;EACN,CAAC,EACD,CAACsG,gBAAgB,EAAEE,WAAW,CAClC,CAAC;EAED,MAAMiB,mBAAmB,GAAGzK,WAAW,CAClC4H,OAAO,IAAK;IACTtG,eAAe,CAACsG,OAAO,CAAC;EAC5B,CAAC,EACD,CAACtG,eAAe,CACpB,CAAC;EAEDlB,UAAU,CACN,QAAQ,EACR,MAAM;IACF,IAAIyH,eAAe,EAAE;MACjBpG,eAAe,CAACoG,eAAe,CAAC;IACpC;EACJ,CAAC,EACD,CAACA,eAAe,EAAEpG,eAAe,CACrC,CAAC;EAED,IAAI,CAACM,aAAa,IAAI,CAACA,aAAa,CAACY,QAAQ,EAAE;IAC3C,oBACInC,OAAA;MAAK8G,SAAS,EAAC,oBAAoB;MAAA3E,QAAA,eAC/BnC,OAAA;QACI6G,GAAG,EAAGqD,IAAI,IAAK;UACX9I,SAAS,CAACoC,OAAO,GAAG0G,IAAI;UACxBvC,IAAI,CAACuC,IAAI,CAAC;QACd,CAAE;QACFpD,SAAS,EAAE,cAAcrF,QAAQ,KAAK,QAAQ,GAAG,mBAAmB,GAAGA,QAAQ,KAAK,QAAQ,GAAG,mBAAmB,GAAG,EAAE,EAAG;QAC1H0I,YAAY,EAAElB,gBAAiB;QAC/B1D,KAAK,EAAE;UACHjD,QAAQ,EAAE,UAAU;UACpBkG,SAAS,EAAE;QACf,CAAE;QAAArG,QAAA,eAEFnC,OAAA;UAAK8G,SAAS,EAAC,oBAAoB;UAAA3E,QAAA,eAC/BnC,OAAA;YAAK8G,SAAS,EAAC,wBAAwB;YAAA3E,QAAA,gBACnCnC,OAAA;cAAG8G,SAAS,EAAC;YAAoB;cAAA3B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtCtF,OAAA;cAAAmC,QAAA,EAAG;YAA0B;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEd;EAEA,oBACItF,OAAA;IAAK8G,SAAS,EAAC,oBAAoB;IAAA3E,QAAA,eAC/BnC,OAAA;MACI6G,GAAG,EAAGqD,IAAI,IAAK;QACX9I,SAAS,CAACoC,OAAO,GAAG0G,IAAI;QACxBvC,IAAI,CAACuC,IAAI,CAAC;MACd,CAAE;MACFpD,SAAS,EAAE,cAAcrF,QAAQ,KAAK,QAAQ,GAAG,mBAAmB,GAAGA,QAAQ,KAAK,QAAQ,GAAG,mBAAmB,GAAG,EAAE,EAAG;MAC1H0I,YAAY,EAAElB,gBAAiB;MAC/B1D,KAAK,EAAE;QACHjD,QAAQ,EAAE,UAAU;QACpBkG,SAAS,EAAE,MAAM;QACjB7C,UAAU,EAAE,EAAAyD,qBAAA,GAAA7H,aAAa,CAACS,MAAM,cAAAoH,qBAAA,wBAAAC,sBAAA,GAApBD,qBAAA,CAAuB3H,QAAQ,CAAC,cAAA4H,sBAAA,uBAAhCA,sBAAA,CAAkC1D,UAAU,KAAI;MAChE,CAAE;MAAAxD,QAAA,gBAEFnC,OAAA;QAAK8G,SAAS,EAAC,oBAAoB;QAAA3E,QAAA,EAC9BZ,aAAa,CAACY,QAAQ,CAACkG,MAAM,KAAK,CAAC,gBAChCrI,OAAA;UAAK8G,SAAS,EAAC,wBAAwB;UAAA3E,QAAA,gBACnCnC,OAAA;YAAG8G,SAAS,EAAC;UAAoB;YAAA3B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtCtF,OAAA;YAAAmC,QAAA,EAAG;UAA0B;YAAAgD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC,gBAENtF,OAAA,CAAAE,SAAA;UAAAiC,QAAA,GACKZ,aAAa,CAACY,QAAQ,CAAC6C,GAAG,CAAC,CAACoC,OAAO,EAAExG,KAAK,kBACvCZ,OAAA,CAACV,KAAK,CAACW,QAAQ;YAAAkC,QAAA,GACVmH,SAAS,KAAK1I,KAAK,iBAChBZ,OAAA;cACI8G,SAAS,EAAC,sBAAsB;cAChCvB,KAAK,EAAE;gBACH3C,MAAM,EAAE,MAAM;gBACd+C,UAAU,EAAE,wBAAwB;gBACpCyE,MAAM,EAAE,oBAAoB;gBAC5BzD,MAAM,EAAE,UAAU;gBAClBhE,KAAK,EAAElB,QAAQ,KAAK,QAAQ,GAAG,MAAM,GAAGA,QAAQ,KAAK,QAAQ,GAAG,OAAO,GAAG;cAC9E;YAAE;cAAA0D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CACJ,eACDtF,OAAA,CAACiH,OAAO;cAEJG,OAAO,EAAEA,OAAQ;cACjBxG,KAAK,EAAEA,KAAM;cACbyG,eAAe,EAAEA,eAAgB;cACjCvG,eAAe,EAAEA,eAAgB;cACjCC,kBAAkB,EAAEA,kBAAmB;cACvCC,kBAAkB,EAAEA,kBAAmB;cACvCC,eAAe,EAAEA,eAAgB;cACjCC,aAAa,EAAEA,aAAc;cAC7BC,cAAc,EAAEA,cAAe;cAC/BmG,UAAU,EAAEA,UAAW;cACvBlG,SAAS,EAAEA,SAAU;cACrBmG,WAAW,EAAEA,WAAY;cACzBjG,YAAY,EAAEA,YAAa;cAC3BkG,eAAe,EAAEyC,mBAAoB;cACrCxI,QAAQ,EAAEA,QAAS;cACnBF,aAAa,EAAEA,aAAc;cAC7BC,SAAS,EAAEA;YAAU,GAjBhB4F,OAAO,CAACnE,EAAE;cAAAkC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAkBlB,CAAC;UAAA,GAhCe8B,OAAO,CAACnE,EAAE;YAAAkC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAiCf,CACnB,CAAC,EACDgE,SAAS,KAAK/H,aAAa,CAACY,QAAQ,CAACkG,MAAM,iBACxCrI,OAAA;YACI8G,SAAS,EAAC,sBAAsB;YAChCvB,KAAK,EAAE;cACH3C,MAAM,EAAE,MAAM;cACd+C,UAAU,EAAE,wBAAwB;cACpCyE,MAAM,EAAE,oBAAoB;cAC5BzD,MAAM,EAAE,UAAU;cAClBhE,KAAK,EAAElB,QAAQ,KAAK,QAAQ,GAAG,MAAM,GAAGA,QAAQ,KAAK,QAAQ,GAAG,OAAO,GAAG;YAC9E;UAAE;YAAA0D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CACJ;QAAA,eACH;MACL;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACNtF,OAAA,CAACF,gBAAgB;QACb2I,OAAO,EAAEK,gBAAiB;QAC1BxG,QAAQ,EAAEyG,iBAAkB;QAC5BsB,MAAM,EAAEA,CAAA,KAAMvJ,eAAe,CAACgI,gBAAgB,CAAE;QAChDwB,WAAW,EAAEA,CAAA,KAAMtJ,kBAAkB,CAAC8H,gBAAgB,CAAE;QACxDyB,QAAQ,EAAEA,CAAA,KAAMtJ,eAAe,CAAC6H,gBAAgB,CAAE;QAClD0B,QAAQ,EAAEA,CAAA,KAAMtJ,aAAa,CAAC4H,gBAAgB,EAAE,IAAI,CAAE;QACtD2B,UAAU,EAAEA,CAAA,KAAMvJ,aAAa,CAAC4H,gBAAgB,EAAE,MAAM,CAAE;QAC1D4B,OAAO,EAAEzB;MAAiB;QAAA9D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;EAAA,QAlM8B5F,OAAO,EAuElCE,UAAU;AAAA,EA4HlB,CAAC;EAAA,QAnMkCF,OAAO,EAuElCE,UAAU;AAAA,EA4HjB;AAAC+K,GAAA,GA5NIhC,MAAM;AA8NZ,eAAeA,MAAM;AAAC,IAAAjI,EAAA,EAAAsG,GAAA,EAAAG,GAAA,EAAAuB,GAAA,EAAAG,GAAA,EAAA8B,GAAA;AAAAC,YAAA,CAAAlK,EAAA;AAAAkK,YAAA,CAAA5D,GAAA;AAAA4D,YAAA,CAAAzD,GAAA;AAAAyD,YAAA,CAAAlC,GAAA;AAAAkC,YAAA,CAAA/B,GAAA;AAAA+B,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}