{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\LayerManager.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from 'react';\nimport { Eye, EyeOff, Lock, Unlock, Trash2 } from 'lucide-react';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LayerManager = ({\n  pageData,\n  selectedIds = [],\n  onSelectElement,\n  onToggleVisibility,\n  onToggleLock,\n  onDeleteElement,\n  onDeleteChild,\n  viewMode = 'desktop'\n}) => {\n  _s();\n  const allLayers = useMemo(() => {\n    return pageData.elements.filter(el => el.type === 'section' || el.type === 'popup' || el.isSection).sort((a, b) => {\n      var _a$position, _a$position$desktop, _b$position, _b$position$desktop;\n      const aY = ((_a$position = a.position) === null || _a$position === void 0 ? void 0 : (_a$position$desktop = _a$position.desktop) === null || _a$position$desktop === void 0 ? void 0 : _a$position$desktop.y) || 0;\n      const bY = ((_b$position = b.position) === null || _b$position === void 0 ? void 0 : (_b$position$desktop = _b$position.desktop) === null || _b$position$desktop === void 0 ? void 0 : _b$position$desktop.y) || 0;\n      return aY - bY;\n    });\n  }, [pageData.elements]);\n  const handleSelectLayer = (element, e) => {\n    if (e) e.stopPropagation();\n    const canvasElement = document.querySelector('.lpb-canvas-scrollable');\n    if (canvasElement) {\n      var _element$position, _element$position$vie, _element$position2, _element$position2$de;\n      const targetY = ((_element$position = element.position) === null || _element$position === void 0 ? void 0 : (_element$position$vie = _element$position[viewMode]) === null || _element$position$vie === void 0 ? void 0 : _element$position$vie.y) || ((_element$position2 = element.position) === null || _element$position2 === void 0 ? void 0 : (_element$position2$de = _element$position2.desktop) === null || _element$position2$de === void 0 ? void 0 : _element$position2$de.y) || 0;\n      canvasElement.scrollTo({\n        top: targetY - 100,\n        behavior: 'smooth'\n      });\n    }\n    if (typeof onSelectElement === 'function') {\n      onSelectElement([element.id]);\n    }\n  };\n  const handleToggleVisibility = (elementId, childId = null, e) => {\n    if (e) e.stopPropagation();\n    if (typeof onToggleVisibility === 'function') {\n      onToggleVisibility(elementId, childId);\n      toast.success(childId ? 'Đã thay đổi visibility child!' : 'Đã thay đổi visibility layer!');\n    } else {\n      console.error('onToggleVisibility is not a function');\n      toast.error('Không thể thay đổi visibility');\n    }\n  };\n  const handleToggleLock = (elementId, childId = null, e) => {\n    if (e) e.stopPropagation();\n    if (typeof onToggleLock === 'function') {\n      onToggleLock(elementId, childId);\n      toast.success(childId ? 'Đã thay đổi khóa child!' : 'Đã thay đổi khóa layer!');\n    } else {\n      console.error('onToggleLock is not a function');\n      toast.error('Không thể thay đổi khóa');\n    }\n  };\n  const handleDelete = (elementId, childId = null, e) => {\n    if (e) e.stopPropagation();\n    if (window.confirm('Bạn có chắc muốn xóa layer này?')) {\n      if (childId) {\n        if (typeof onDeleteChild === 'function') {\n          onDeleteChild(elementId, childId);\n          toast.success('Đã xóa child layer!');\n        } else {\n          console.error('onDeleteChild is not a function');\n          toast.error('Không thể xóa child layer');\n        }\n      } else {\n        if (typeof onDeleteElement === 'function') {\n          onDeleteElement(elementId);\n          toast.success('Đã xóa layer!');\n        } else {\n          console.error('onDeleteElement is not a function');\n          toast.error('Không thể xóa layer');\n        }\n      }\n    }\n  };\n  const getLayerName = (element, index) => {\n    var _element$componentDat, _element$componentDat2;\n    const type = element.type === 'popup' ? 'Popup' : 'Section';\n    const baseName = element.type === 'popup' ? (_element$componentDat = element.componentData) === null || _element$componentDat === void 0 ? void 0 : _element$componentDat.title : (_element$componentDat2 = element.componentData) === null || _element$componentDat2 === void 0 ? void 0 : _element$componentDat2.name;\n    if (baseName && baseName !== 'Section' && baseName !== 'Popup') {\n      return `Layer ${index + 1} - ${baseName}`;\n    }\n    return `Layer ${index + 1} - ${type}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"layer-horizontal-toolbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolbar-tabs-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toolbar-tabs\",\n        children: allLayers.length > 0 ? allLayers.map((layer, index) => {\n          const isActive = selectedIds.includes(layer.id);\n          const layerName = getLayerName(layer, index);\n          const isVisible = layer.visible !== false;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `toolbar-tab ${isActive ? 'active' : ''} ${isVisible ? '' : 'layer-hidden'}`,\n            onClick: e => handleSelectLayer(layer, e),\n            title: layerName,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tab-number\",\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tab-text\",\n              children: layerName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-toolkit-wrapper\",\n              style: {\n                position: 'absolute',\n                top: -70,\n                left: '50%',\n                transform: 'translateX(-50%)',\n                zIndex: 1010\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-toolkit\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => handleToggleVisibility(layer.id, null, e),\n                  className: \"toolkit-btn\",\n                  title: isVisible ? 'Ẩn Layer' : 'Hiện Layer',\n                  style: {\n                    transform: 'rotate(-30deg) translateY(-30px)'\n                  },\n                  children: isVisible ? /*#__PURE__*/_jsxDEV(Eye, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 62\n                  }, this) : /*#__PURE__*/_jsxDEV(EyeOff, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 82\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => handleToggleLock(layer.id, null, e),\n                  className: \"toolkit-btn\",\n                  title: layer.locked ? 'Mở khóa Layer' : 'Khóa Layer',\n                  style: {\n                    transform: 'rotate(0deg) translateY(-30px)'\n                  },\n                  children: layer.locked ? /*#__PURE__*/_jsxDEV(Lock, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 65\n                  }, this) : /*#__PURE__*/_jsxDEV(Unlock, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 86\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => handleDelete(layer.id, null, e),\n                  className: \"toolkit-btn toolkit-btn-delete\",\n                  title: \"X\\xF3a Layer\",\n                  style: {\n                    transform: 'rotate(30deg) translateY(-30px)'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 37\n            }, this)]\n          }, layer.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 33\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolbar-empty\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Ch\\u01B0a c\\xF3 layer n\\xE0o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                .layer-horizontal-toolbar {\n                    position: absolute;\n                    bottom: 4px;\n                    left: 280px;\n                    right: 320px;\n                    height: 50px;\n                    background: #ffffff00;\n                    border-top: 1px solid #e0e0e0;\n                    z-index: 999;\n                    display: flex;\n                    align-items: center;\n                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n                }\n\n                .toolbar-tabs-container {\n                    width: 100%;\n                    height: 100%;\n                    overflow-x: auto;\n                    overflow-y: visible; /* Đảm bảo toolkit không bị cắt */\n                    padding: 0 20px;\n                    display: flex;\n                    align-items: center;\n                }\n\n                .toolbar-tabs-container::-webkit-scrollbar {\n                    height: 6px;\n                }\n\n                .toolbar-tabs-container::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n\n                .toolbar-tabs-container::-webkit-scrollbar-thumb {\n                    background: #d0d0d0;\n                    border-radius: 3px;\n                }\n\n                .toolbar-tabs-container::-webkit-scrollbar-thumb:hover {\n                    background: #b0b0b0;\n                }\n\n                .toolbar-tabs {\n                    display: flex;\n                    gap: 4px;\n                    align-items: center;\n                    height: 38px;\n                    background: #f0f0f0;\n                    border-radius: 12px;\n                    padding: 4px;\n                    flex-shrink: 0;\n                    overflow: visible; /* Đảm bảo toolkit không bị cắt */\n                }\n\n                .toolbar-tab {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    gap: 8px;\n                    padding: 8px 16px;\n                    border: none;\n                    background: transparent;\n                    color: #666;\n                    font-size: 13px;\n                    font-weight: 500;\n                    cursor: pointer;\n                    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n                    border-radius: 8px;\n                    white-space: nowrap;\n                    position: relative;\n                    flex-shrink: 0;\n                    z-index: 1000; /* Đảm bảo tab không che toolkit */\n                }\n\n                .toolbar-tab.layer-hidden {\n                    opacity: 0.5;\n                }\n\n                .toolbar-tab.layer-hidden .tab-text {\n                    text-decoration: line-through;\n                }\n\n                .tab-number {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    width: 22px;\n                    height: 22px;\n                    background: rgba(0, 0, 0, 0.08);\n                    border-radius: 6px;\n                    font-size: 11px;\n                    font-weight: 600;\n                    flex-shrink: 0;\n                }\n\n                .toolbar-tab.active .tab-number {\n                    background: rgba(255, 255, 255, 0.25);\n                    color: #ffffff;\n                }\n\n                .toolbar-tab::before {\n                    content: '';\n                    position: absolute;\n                    inset: 0;\n                    background: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0));\n                    opacity: 0;\n                    transition: opacity 0.3s ease;\n                    border-radius: 8px;\n                    pointer-events: none;\n                }\n\n                .toolbar-tab:hover {\n                    background: rgba(255, 255, 255, 0.5);\n                    color: #333;\n                    transform: translateY(-2px);\n                }\n\n                .toolbar-tab:hover::before {\n                    opacity: 1;\n                }\n\n                .toolbar-tab.active {\n                    background: linear-gradient(135deg, #2563eb, #1e40af);\n                    color: #ffffff;\n                    box-shadow: \n                        0 4px 12px rgba(37, 99, 235, 0.3),\n                        0 2px 4px rgba(0, 0, 0, 0.1),\n                        inset 0 1px 0 rgba(255, 255, 255, 0.2);\n                    transform: translateY(-2px);\n                }\n\n                .toolbar-tab.active::before {\n                    opacity: 1;\n                }\n\n                .tab-text {\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                    white-space: nowrap;\n                }\n\n                .toolbar-empty {\n                    padding: 8px 20px;\n                    color: #999;\n                    font-size: 13px;\n                    font-style: italic;\n                }\n\n                .section-toolkit-wrapper {\n                    pointer-events: none;\n                    opacity: 0;\n                    transition: opacity 0.2s ease, transform 0.2s ease;\n                    transform: translateX(-50%) translateY(10px);\n                    z-index: 1010; /* Tăng z-index để tránh bị che */\n                }\n\n                .toolbar-tab:hover .section-toolkit-wrapper,\n                .toolbar-tab.active .section-toolkit-wrapper {\n                    opacity: 1;\n                    transform: translateX(-50%) translateY(0);\n                    pointer-events: auto;\n                }\n\n                .section-toolkit {\n                    pointer-events: auto;\n                    display: flex;\n                    flex-direction: row;\n                    gap: 20px; /* Tăng khoảng cách giữa các nút */\n                    padding: 8px;\n                    background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(250, 250, 250, 0.95) 100%);\n                    backdrop-filter: blur(12px);\n                    -webkit-backdrop-filter: blur(12px);\n                    border-radius: 14px;\n                    box-shadow: \n                        0 4px 20px rgba(0, 0, 0, 0.08),\n                        0 0 0 1px rgba(0, 0, 0, 0.05),\n                        inset 0 1px 0 rgba(255, 255, 255, 0.8);\n                    animation: toolkitFadeIn 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);\n                }\n\n                .toolkit-btn {\n                    width: 36px;\n                    height: 36px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    background: transparent;\n                    border: none;\n                    border-radius: 10px;\n                    cursor: pointer;\n                    color: #475569;\n                    transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);\n                    position: relative;\n                    overflow: hidden;\n                }\n\n                .toolkit-btn::before {\n                    content: '';\n                    position: absolute;\n                    inset: 0;\n                    background: radial-gradient(circle at center, rgba(59, 130, 246, 0.15) 0%, transparent 70%);\n                    opacity: 0;\n                    transition: opacity 0.3s ease;\n                }\n\n                .toolkit-btn:hover {\n                    background: rgba(59, 130, 246, 0.08);\n                    color: #3b82f6;\n                    transform: scale(1.1);\n                }\n\n                .toolkit-btn:hover::before {\n                    opacity: 1;\n                }\n\n                .toolkit-btn:active {\n                    transform: scale(0.95);\n                    transition: all 0.1s ease;\n                }\n\n                .toolkit-btn-delete {\n                    color: #64748b;\n                }\n\n                .toolkit-btn-delete:hover {\n                    background: rgba(239, 68, 68, 0.1);\n                    color: #ef4444;\n                }\n\n                .toolkit-btn-delete:hover::before {\n                    background: radial-gradient(circle at center, rgba(239, 68, 68, 0.15) 0%, transparent 70%);\n                }\n\n                @keyframes toolkitFadeIn {\n                    from {\n                        opacity: 0;\n                        transform: translateY(10px) scale(0.9);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: translateY(0) scale(1);\n                    }\n                }\n\n                .section-toolkit:hover {\n                    box-shadow: \n                        0 8px 30px rgba(0, 0, 0, 0.12),\n                        0 0 0 1px rgba(59, 130, 246, 0.15),\n                        inset 0 1px 0 rgba(255, 255, 255, 0.9);\n                }\n\n                /* Responsive adjustments */\n                @media (max-width: 1400px) {\n                    .layer-horizontal-toolbar {\n                        left: 60px;\n                        right: 60px;\n                        bottom: 4px;\n                        background: #ffffff00;\n                    }\n                }\n\n                @media (max-width: 768px) {\n                    .layer-horizontal-toolbar {\n                        height: 45px;\n                        bottom: 4px;\n                        background: #ffffff00;\n                    }\n\n                    .toolbar-tabs {\n                        height: 36px;\n                    }\n\n                    .toolbar-tab {\n                        padding: 6px 12px;\n                        font-size: 12px;\n                        gap: 6px;\n                    }\n\n                    .tab-number {\n                        width: 20px;\n                        height: 20px;\n                        font-size: 10px;\n                    }\n\n                    .section-toolkit-wrapper {\n                        top: -55px;\n                    }\n\n                    .toolkit-btn {\n                        width: 32px;\n                        height: 32px;\n                    }\n\n                    .toolkit-btn svg {\n                        width: 16px;\n                        height: 16px;\n                    }\n                }\n\n                /* Dark mode support */\n                @media (prefers-color-scheme: dark) {\n                    .layer-horizontal-toolbar {\n                        border-top-color: #374151;\n                    }\n\n                    .toolbar-tabs {\n                        background: #1f2937;\n                    }\n\n                    .toolbar-tab {\n                        color: #d1d5db;\n                    }\n\n                    .toolbar-tab:hover {\n                        background: #374151;\n                        color: #f3f4f6;\n                    }\n\n                    .toolbar-tab.active {\n                        background: linear-gradient(135deg, #3b82f6, #1e40af);\n                        color: #ffffff;\n                    }\n\n                    .tab-number {\n                        background: rgba(255, 255, 255, 0.1);\n                        color: #d1d5db;\n                    }\n\n                    .toolbar-tab.active .tab-number {\n                        background: rgba(255, 255, 255, 0.2);\n                        color: #ffffff;\n                    }\n\n                    .section-toolkit {\n                        background: linear-gradient(135deg, rgba(31, 41, 55, 0.98) 0%, rgba(17, 24, 39, 0.95) 100%);\n                        box-shadow: \n                            0 4px 20px rgba(0, 0, 0, 0.3),\n                            0 0 0 1px rgba(255, 255, 255, 0.1),\n                            inset 0 1px 0 rgba(255, 255, 255, 0.2);\n                    }\n\n                    .toolkit-btn {\n                        color: #d1d5db;\n                    }\n\n                    .toolkit-btn:hover {\n                        background: rgba(59, 130, 246, 0.2);\n                        color: #3b82f6;\n                    }\n\n                    .toolkit-btn-delete:hover {\n                        background: rgba(239, 68, 68, 0.2);\n                        color: #ef4444;\n                    }\n                }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }, this);\n};\n_s(LayerManager, \"uDrrKZ4Ay3vA+AM8lnZrPmVEetk=\");\n_c = LayerManager;\nexport default LayerManager;\nvar _c;\n$RefreshReg$(_c, \"LayerManager\");","map":{"version":3,"names":["React","useMemo","Eye","EyeOff","Lock","Unlock","Trash2","toast","jsxDEV","_jsxDEV","LayerManager","pageData","selectedIds","onSelectElement","onToggleVisibility","onToggleLock","onDeleteElement","onDeleteChild","viewMode","_s","allLayers","elements","filter","el","type","isSection","sort","a","b","_a$position","_a$position$desktop","_b$position","_b$position$desktop","aY","position","desktop","y","bY","handleSelectLayer","element","e","stopPropagation","canvasElement","document","querySelector","_element$position","_element$position$vie","_element$position2","_element$position2$de","targetY","scrollTo","top","behavior","id","handleToggleVisibility","elementId","childId","success","console","error","handleToggleLock","handleDelete","window","confirm","getLayerName","index","_element$componentDat","_element$componentDat2","baseName","componentData","title","name","className","children","length","map","layer","isActive","includes","layerName","isVisible","visible","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","left","transform","zIndex","size","locked","_c","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/LayerManager.js"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Eye, EyeOff, Lock, Unlock, Trash2 } from 'lucide-react';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst LayerManager = ({\r\n                          pageData,\r\n                          selectedIds = [],\r\n                          onSelectElement,\r\n                          onToggleVisibility,\r\n                          onToggleLock,\r\n                          onDeleteElement,\r\n                          onDeleteChild,\r\n                          viewMode = 'desktop',\r\n                      }) => {\r\n    const allLayers = useMemo(() => {\r\n        return pageData.elements\r\n            .filter((el) => el.type === 'section' || el.type === 'popup' || el.isSection)\r\n            .sort((a, b) => {\r\n                const aY = a.position?.desktop?.y || 0;\r\n                const bY = b.position?.desktop?.y || 0;\r\n                return aY - bY;\r\n            });\r\n    }, [pageData.elements]);\r\n\r\n    const handleSelectLayer = (element, e) => {\r\n        if (e) e.stopPropagation();\r\n\r\n        const canvasElement = document.querySelector('.lpb-canvas-scrollable');\r\n        if (canvasElement) {\r\n            const targetY = element.position?.[viewMode]?.y || element.position?.desktop?.y || 0;\r\n            canvasElement.scrollTo({\r\n                top: targetY - 100,\r\n                behavior: 'smooth',\r\n            });\r\n        }\r\n\r\n        if (typeof onSelectElement === 'function') {\r\n            onSelectElement([element.id]);\r\n        }\r\n    };\r\n\r\n    const handleToggleVisibility = (elementId, childId = null, e) => {\r\n        if (e) e.stopPropagation();\r\n        if (typeof onToggleVisibility === 'function') {\r\n            onToggleVisibility(elementId, childId);\r\n            toast.success(childId ? 'Đã thay đổi visibility child!' : 'Đã thay đổi visibility layer!');\r\n        } else {\r\n            console.error('onToggleVisibility is not a function');\r\n            toast.error('Không thể thay đổi visibility');\r\n        }\r\n    };\r\n\r\n    const handleToggleLock = (elementId, childId = null, e) => {\r\n        if (e) e.stopPropagation();\r\n        if (typeof onToggleLock === 'function') {\r\n            onToggleLock(elementId, childId);\r\n            toast.success(childId ? 'Đã thay đổi khóa child!' : 'Đã thay đổi khóa layer!');\r\n        } else {\r\n            console.error('onToggleLock is not a function');\r\n            toast.error('Không thể thay đổi khóa');\r\n        }\r\n    };\r\n\r\n    const handleDelete = (elementId, childId = null, e) => {\r\n        if (e) e.stopPropagation();\r\n        if (window.confirm('Bạn có chắc muốn xóa layer này?')) {\r\n            if (childId) {\r\n                if (typeof onDeleteChild === 'function') {\r\n                    onDeleteChild(elementId, childId);\r\n                    toast.success('Đã xóa child layer!');\r\n                } else {\r\n                    console.error('onDeleteChild is not a function');\r\n                    toast.error('Không thể xóa child layer');\r\n                }\r\n            } else {\r\n                if (typeof onDeleteElement === 'function') {\r\n                    onDeleteElement(elementId);\r\n                    toast.success('Đã xóa layer!');\r\n                } else {\r\n                    console.error('onDeleteElement is not a function');\r\n                    toast.error('Không thể xóa layer');\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const getLayerName = (element, index) => {\r\n        const type = element.type === 'popup' ? 'Popup' : 'Section';\r\n        const baseName = element.type === 'popup'\r\n            ? element.componentData?.title\r\n            : element.componentData?.name;\r\n\r\n        if (baseName && baseName !== 'Section' && baseName !== 'Popup') {\r\n            return `Layer ${index + 1} - ${baseName}`;\r\n        }\r\n        return `Layer ${index + 1} - ${type}`;\r\n    };\r\n\r\n    return (\r\n        <div className=\"layer-horizontal-toolbar\">\r\n            <div className=\"toolbar-tabs-container\">\r\n                <div className=\"toolbar-tabs\">\r\n                    {allLayers.length > 0 ? (\r\n                        allLayers.map((layer, index) => {\r\n                            const isActive = selectedIds.includes(layer.id);\r\n                            const layerName = getLayerName(layer, index);\r\n                            const isVisible = layer.visible !== false;\r\n\r\n                            return (\r\n                                <div\r\n                                    key={layer.id}\r\n                                    className={`toolbar-tab ${isActive ? 'active' : ''} ${isVisible ? '' : 'layer-hidden'}`}\r\n                                    onClick={(e) => handleSelectLayer(layer, e)}\r\n                                    title={layerName}\r\n                                >\r\n                                    <span className=\"tab-number\">{index + 1}</span>\r\n                                    <span className=\"tab-text\">{layerName}</span>\r\n                                    <div\r\n                                        className=\"section-toolkit-wrapper\"\r\n                                        style={{\r\n                                            position: 'absolute',\r\n                                            top: -70,\r\n                                            left: '50%',\r\n                                            transform: 'translateX(-50%)',\r\n                                            zIndex: 1010,\r\n                                        }}\r\n                                    >\r\n                                        <div className=\"section-toolkit\">\r\n                                            <button\r\n                                                onClick={(e) => handleToggleVisibility(layer.id, null, e)}\r\n                                                className=\"toolkit-btn\"\r\n                                                title={isVisible ? 'Ẩn Layer' : 'Hiện Layer'}\r\n                                                style={{ transform: 'rotate(-30deg) translateY(-30px)' }}\r\n                                            >\r\n                                                {isVisible ? <Eye size={18} /> : <EyeOff size={18} />}\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={(e) => handleToggleLock(layer.id, null, e)}\r\n                                                className=\"toolkit-btn\"\r\n                                                title={layer.locked ? 'Mở khóa Layer' : 'Khóa Layer'}\r\n                                                style={{ transform: 'rotate(0deg) translateY(-30px)' }}\r\n                                            >\r\n                                                {layer.locked ? <Lock size={18} /> : <Unlock size={18} />}\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={(e) => handleDelete(layer.id, null, e)}\r\n                                                className=\"toolkit-btn toolkit-btn-delete\"\r\n                                                title=\"Xóa Layer\"\r\n                                                style={{ transform: 'rotate(30deg) translateY(-30px)' }}\r\n                                            >\r\n                                                <Trash2 size={18} />\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })\r\n                    ) : (\r\n                        <div className=\"toolbar-empty\">\r\n                            <span>Chưa có layer nào</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <style>{`\r\n                .layer-horizontal-toolbar {\r\n                    position: absolute;\r\n                    bottom: 4px;\r\n                    left: 280px;\r\n                    right: 320px;\r\n                    height: 50px;\r\n                    background: #ffffff00;\r\n                    border-top: 1px solid #e0e0e0;\r\n                    z-index: 999;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\r\n                }\r\n\r\n                .toolbar-tabs-container {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    overflow-x: auto;\r\n                    overflow-y: visible; /* Đảm bảo toolkit không bị cắt */\r\n                    padding: 0 20px;\r\n                    display: flex;\r\n                    align-items: center;\r\n                }\r\n\r\n                .toolbar-tabs-container::-webkit-scrollbar {\r\n                    height: 6px;\r\n                }\r\n\r\n                .toolbar-tabs-container::-webkit-scrollbar-track {\r\n                    background: transparent;\r\n                }\r\n\r\n                .toolbar-tabs-container::-webkit-scrollbar-thumb {\r\n                    background: #d0d0d0;\r\n                    border-radius: 3px;\r\n                }\r\n\r\n                .toolbar-tabs-container::-webkit-scrollbar-thumb:hover {\r\n                    background: #b0b0b0;\r\n                }\r\n\r\n                .toolbar-tabs {\r\n                    display: flex;\r\n                    gap: 4px;\r\n                    align-items: center;\r\n                    height: 38px;\r\n                    background: #f0f0f0;\r\n                    border-radius: 12px;\r\n                    padding: 4px;\r\n                    flex-shrink: 0;\r\n                    overflow: visible; /* Đảm bảo toolkit không bị cắt */\r\n                }\r\n\r\n                .toolbar-tab {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    gap: 8px;\r\n                    padding: 8px 16px;\r\n                    border: none;\r\n                    background: transparent;\r\n                    color: #666;\r\n                    font-size: 13px;\r\n                    font-weight: 500;\r\n                    cursor: pointer;\r\n                    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n                    border-radius: 8px;\r\n                    white-space: nowrap;\r\n                    position: relative;\r\n                    flex-shrink: 0;\r\n                    z-index: 1000; /* Đảm bảo tab không che toolkit */\r\n                }\r\n\r\n                .toolbar-tab.layer-hidden {\r\n                    opacity: 0.5;\r\n                }\r\n\r\n                .toolbar-tab.layer-hidden .tab-text {\r\n                    text-decoration: line-through;\r\n                }\r\n\r\n                .tab-number {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    width: 22px;\r\n                    height: 22px;\r\n                    background: rgba(0, 0, 0, 0.08);\r\n                    border-radius: 6px;\r\n                    font-size: 11px;\r\n                    font-weight: 600;\r\n                    flex-shrink: 0;\r\n                }\r\n\r\n                .toolbar-tab.active .tab-number {\r\n                    background: rgba(255, 255, 255, 0.25);\r\n                    color: #ffffff;\r\n                }\r\n\r\n                .toolbar-tab::before {\r\n                    content: '';\r\n                    position: absolute;\r\n                    inset: 0;\r\n                    background: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0));\r\n                    opacity: 0;\r\n                    transition: opacity 0.3s ease;\r\n                    border-radius: 8px;\r\n                    pointer-events: none;\r\n                }\r\n\r\n                .toolbar-tab:hover {\r\n                    background: rgba(255, 255, 255, 0.5);\r\n                    color: #333;\r\n                    transform: translateY(-2px);\r\n                }\r\n\r\n                .toolbar-tab:hover::before {\r\n                    opacity: 1;\r\n                }\r\n\r\n                .toolbar-tab.active {\r\n                    background: linear-gradient(135deg, #2563eb, #1e40af);\r\n                    color: #ffffff;\r\n                    box-shadow: \r\n                        0 4px 12px rgba(37, 99, 235, 0.3),\r\n                        0 2px 4px rgba(0, 0, 0, 0.1),\r\n                        inset 0 1px 0 rgba(255, 255, 255, 0.2);\r\n                    transform: translateY(-2px);\r\n                }\r\n\r\n                .toolbar-tab.active::before {\r\n                    opacity: 1;\r\n                }\r\n\r\n                .tab-text {\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    white-space: nowrap;\r\n                }\r\n\r\n                .toolbar-empty {\r\n                    padding: 8px 20px;\r\n                    color: #999;\r\n                    font-size: 13px;\r\n                    font-style: italic;\r\n                }\r\n\r\n                .section-toolkit-wrapper {\r\n                    pointer-events: none;\r\n                    opacity: 0;\r\n                    transition: opacity 0.2s ease, transform 0.2s ease;\r\n                    transform: translateX(-50%) translateY(10px);\r\n                    z-index: 1010; /* Tăng z-index để tránh bị che */\r\n                }\r\n\r\n                .toolbar-tab:hover .section-toolkit-wrapper,\r\n                .toolbar-tab.active .section-toolkit-wrapper {\r\n                    opacity: 1;\r\n                    transform: translateX(-50%) translateY(0);\r\n                    pointer-events: auto;\r\n                }\r\n\r\n                .section-toolkit {\r\n                    pointer-events: auto;\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    gap: 20px; /* Tăng khoảng cách giữa các nút */\r\n                    padding: 8px;\r\n                    background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(250, 250, 250, 0.95) 100%);\r\n                    backdrop-filter: blur(12px);\r\n                    -webkit-backdrop-filter: blur(12px);\r\n                    border-radius: 14px;\r\n                    box-shadow: \r\n                        0 4px 20px rgba(0, 0, 0, 0.08),\r\n                        0 0 0 1px rgba(0, 0, 0, 0.05),\r\n                        inset 0 1px 0 rgba(255, 255, 255, 0.8);\r\n                    animation: toolkitFadeIn 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n                }\r\n\r\n                .toolkit-btn {\r\n                    width: 36px;\r\n                    height: 36px;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    background: transparent;\r\n                    border: none;\r\n                    border-radius: 10px;\r\n                    cursor: pointer;\r\n                    color: #475569;\r\n                    transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n                    position: relative;\r\n                    overflow: hidden;\r\n                }\r\n\r\n                .toolkit-btn::before {\r\n                    content: '';\r\n                    position: absolute;\r\n                    inset: 0;\r\n                    background: radial-gradient(circle at center, rgba(59, 130, 246, 0.15) 0%, transparent 70%);\r\n                    opacity: 0;\r\n                    transition: opacity 0.3s ease;\r\n                }\r\n\r\n                .toolkit-btn:hover {\r\n                    background: rgba(59, 130, 246, 0.08);\r\n                    color: #3b82f6;\r\n                    transform: scale(1.1);\r\n                }\r\n\r\n                .toolkit-btn:hover::before {\r\n                    opacity: 1;\r\n                }\r\n\r\n                .toolkit-btn:active {\r\n                    transform: scale(0.95);\r\n                    transition: all 0.1s ease;\r\n                }\r\n\r\n                .toolkit-btn-delete {\r\n                    color: #64748b;\r\n                }\r\n\r\n                .toolkit-btn-delete:hover {\r\n                    background: rgba(239, 68, 68, 0.1);\r\n                    color: #ef4444;\r\n                }\r\n\r\n                .toolkit-btn-delete:hover::before {\r\n                    background: radial-gradient(circle at center, rgba(239, 68, 68, 0.15) 0%, transparent 70%);\r\n                }\r\n\r\n                @keyframes toolkitFadeIn {\r\n                    from {\r\n                        opacity: 0;\r\n                        transform: translateY(10px) scale(0.9);\r\n                    }\r\n                    to {\r\n                        opacity: 1;\r\n                        transform: translateY(0) scale(1);\r\n                    }\r\n                }\r\n\r\n                .section-toolkit:hover {\r\n                    box-shadow: \r\n                        0 8px 30px rgba(0, 0, 0, 0.12),\r\n                        0 0 0 1px rgba(59, 130, 246, 0.15),\r\n                        inset 0 1px 0 rgba(255, 255, 255, 0.9);\r\n                }\r\n\r\n                /* Responsive adjustments */\r\n                @media (max-width: 1400px) {\r\n                    .layer-horizontal-toolbar {\r\n                        left: 60px;\r\n                        right: 60px;\r\n                        bottom: 4px;\r\n                        background: #ffffff00;\r\n                    }\r\n                }\r\n\r\n                @media (max-width: 768px) {\r\n                    .layer-horizontal-toolbar {\r\n                        height: 45px;\r\n                        bottom: 4px;\r\n                        background: #ffffff00;\r\n                    }\r\n\r\n                    .toolbar-tabs {\r\n                        height: 36px;\r\n                    }\r\n\r\n                    .toolbar-tab {\r\n                        padding: 6px 12px;\r\n                        font-size: 12px;\r\n                        gap: 6px;\r\n                    }\r\n\r\n                    .tab-number {\r\n                        width: 20px;\r\n                        height: 20px;\r\n                        font-size: 10px;\r\n                    }\r\n\r\n                    .section-toolkit-wrapper {\r\n                        top: -55px;\r\n                    }\r\n\r\n                    .toolkit-btn {\r\n                        width: 32px;\r\n                        height: 32px;\r\n                    }\r\n\r\n                    .toolkit-btn svg {\r\n                        width: 16px;\r\n                        height: 16px;\r\n                    }\r\n                }\r\n\r\n                /* Dark mode support */\r\n                @media (prefers-color-scheme: dark) {\r\n                    .layer-horizontal-toolbar {\r\n                        border-top-color: #374151;\r\n                    }\r\n\r\n                    .toolbar-tabs {\r\n                        background: #1f2937;\r\n                    }\r\n\r\n                    .toolbar-tab {\r\n                        color: #d1d5db;\r\n                    }\r\n\r\n                    .toolbar-tab:hover {\r\n                        background: #374151;\r\n                        color: #f3f4f6;\r\n                    }\r\n\r\n                    .toolbar-tab.active {\r\n                        background: linear-gradient(135deg, #3b82f6, #1e40af);\r\n                        color: #ffffff;\r\n                    }\r\n\r\n                    .tab-number {\r\n                        background: rgba(255, 255, 255, 0.1);\r\n                        color: #d1d5db;\r\n                    }\r\n\r\n                    .toolbar-tab.active .tab-number {\r\n                        background: rgba(255, 255, 255, 0.2);\r\n                        color: #ffffff;\r\n                    }\r\n\r\n                    .section-toolkit {\r\n                        background: linear-gradient(135deg, rgba(31, 41, 55, 0.98) 0%, rgba(17, 24, 39, 0.95) 100%);\r\n                        box-shadow: \r\n                            0 4px 20px rgba(0, 0, 0, 0.3),\r\n                            0 0 0 1px rgba(255, 255, 255, 0.1),\r\n                            inset 0 1px 0 rgba(255, 255, 255, 0.2);\r\n                    }\r\n\r\n                    .toolkit-btn {\r\n                        color: #d1d5db;\r\n                    }\r\n\r\n                    .toolkit-btn:hover {\r\n                        background: rgba(59, 130, 246, 0.2);\r\n                        color: #3b82f6;\r\n                    }\r\n\r\n                    .toolkit-btn-delete:hover {\r\n                        background: rgba(239, 68, 68, 0.2);\r\n                        color: #ef4444;\r\n                    }\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LayerManager;"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAa;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEd,CAAC;AAACnE,EAAA,CAvgBIT,YAAY;AAAAmF,EAAA,GAAZnF,YAAY;AAygBlB,eAAeA,YAAY;AAAC,IAAAmF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}