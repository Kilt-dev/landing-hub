{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\QuickEditToolkit.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport '../../styles/QuickEditToolkit.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuickEditToolkit = ({\n  element,\n  position,\n  onEdit,\n  onDuplicate,\n  onDelete,\n  onMoveUp,\n  onMoveDown,\n  onClose,\n  onStyleChange,\n  onAlignChange,\n  onLayerChange,\n  parentId\n}) => {\n  _s();\n  var _availableTools$activ;\n  const {\n    id,\n    type,\n    styles = {},\n    componentData = {}\n  } = element;\n  const [showColorPicker, setShowColorPicker] = useState(false);\n  const [showFontSize, setShowFontSize] = useState(false);\n  const [activeTab, setActiveTab] = useState('basic');\n  const toolkitRef = useRef(null);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = e => {\n      if (toolkitRef.current && !toolkitRef.current.contains(e.target)) {\n        setShowColorPicker(false);\n        setShowFontSize(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Basic actions for all elements\n  const basicActions = [{\n    icon: 'fas fa-copy',\n    label: 'Sao chép',\n    action: () => onDuplicate(id),\n    shortcut: 'Ctrl+D',\n    showFor: 'all'\n  }, {\n    icon: 'fas fa-trash-alt',\n    label: 'Xóa',\n    action: () => {\n      if (window.confirm('Xóa element này?')) onDelete(id);\n    },\n    shortcut: 'Del',\n    className: 'danger',\n    showFor: 'all'\n  }, {\n    icon: 'fas fa-layer-group',\n    label: 'Đưa lên trên',\n    action: () => onLayerChange === null || onLayerChange === void 0 ? void 0 : onLayerChange(id, 'up'),\n    showFor: 'all'\n  }, {\n    icon: 'fas fa-layer-group',\n    label: 'Đưa xuống dưới',\n    action: () => onLayerChange === null || onLayerChange === void 0 ? void 0 : onLayerChange(id, 'down'),\n    showFor: 'all'\n  }];\n\n  // Text editing tools\n  const textTools = [{\n    icon: 'fas fa-bold',\n    label: 'Bold',\n    action: () => onStyleChange === null || onStyleChange === void 0 ? void 0 : onStyleChange(id, 'fontWeight', styles.fontWeight === 'bold' ? 'normal' : 'bold'),\n    active: styles.fontWeight === 'bold',\n    showFor: ['heading', 'paragraph', 'button']\n  }, {\n    icon: 'fas fa-italic',\n    label: 'Italic',\n    action: () => onStyleChange === null || onStyleChange === void 0 ? void 0 : onStyleChange(id, 'fontStyle', styles.fontStyle === 'italic' ? 'normal' : 'italic'),\n    active: styles.fontStyle === 'italic',\n    showFor: ['heading', 'paragraph', 'button']\n  }, {\n    icon: 'fas fa-underline',\n    label: 'Underline',\n    action: () => onStyleChange === null || onStyleChange === void 0 ? void 0 : onStyleChange(id, 'textDecoration', styles.textDecoration === 'underline' ? 'none' : 'underline'),\n    active: styles.textDecoration === 'underline',\n    showFor: ['heading', 'paragraph', 'button']\n  }, {\n    type: 'dropdown',\n    icon: 'fas fa-text-height',\n    label: 'Kích thước',\n    showFor: ['heading', 'paragraph', 'button'],\n    render: () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolkit-dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"toolkit-btn\",\n        onClick: () => setShowFontSize(!showFontSize),\n        title: \"K\\xEDch th\\u01B0\\u1EDBc ch\\u1EEF\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-text-height\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"toolkit-value\",\n          children: styles.fontSize || '16px'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this), showFontSize && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toolkit-dropdown-menu\",\n        children: ['12px', '14px', '16px', '18px', '20px', '24px', '32px', '48px'].map(size => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolkit-dropdown-item\",\n          onClick: () => {\n            onStyleChange === null || onStyleChange === void 0 ? void 0 : onStyleChange(id, 'fontSize', size);\n            setShowFontSize(false);\n          },\n          children: size\n        }, size, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }, this)\n  }, {\n    type: 'dropdown',\n    icon: 'fas fa-palette',\n    label: 'Màu chữ',\n    showFor: ['heading', 'paragraph', 'button'],\n    render: () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolkit-dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"toolkit-btn\",\n        onClick: () => setShowColorPicker(!showColorPicker),\n        title: \"M\\xE0u ch\\u1EEF\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-palette\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolkit-color-preview\",\n          style: {\n            backgroundColor: styles.color || '#000000'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }, this), showColorPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toolkit-dropdown-menu color-picker\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"color\",\n          value: styles.color || '#000000',\n          onChange: e => onStyleChange === null || onStyleChange === void 0 ? void 0 : onStyleChange(id, 'color', e.target.value),\n          className: \"toolkit-color-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolkit-color-presets\",\n          children: ['#000000', '#ffffff', '#667eea', '#764ba2', '#ff6b6b', '#10b981', '#f59e0b', '#ef4444'].map(color => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toolkit-color-preset\",\n            style: {\n              backgroundColor: color\n            },\n            onClick: () => {\n              onStyleChange === null || onStyleChange === void 0 ? void 0 : onStyleChange(id, 'color', color);\n              setShowColorPicker(false);\n            }\n          }, color, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }, this)\n  }];\n\n  // Alignment tools\n  const alignmentTools = [{\n    icon: 'fas fa-align-left',\n    label: 'Căn trái',\n    action: () => onAlignChange === null || onAlignChange === void 0 ? void 0 : onAlignChange(id, 'left'),\n    active: styles.textAlign === 'left',\n    showFor: ['heading', 'paragraph', 'button', 'form']\n  }, {\n    icon: 'fas fa-align-center',\n    label: 'Căn giữa',\n    action: () => onAlignChange === null || onAlignChange === void 0 ? void 0 : onAlignChange(id, 'center'),\n    active: styles.textAlign === 'center',\n    showFor: ['heading', 'paragraph', 'button', 'form']\n  }, {\n    icon: 'fas fa-align-right',\n    label: 'Căn phải',\n    action: () => onAlignChange === null || onAlignChange === void 0 ? void 0 : onAlignChange(id, 'right'),\n    active: styles.textAlign === 'right',\n    showFor: ['heading', 'paragraph', 'button', 'form']\n  }, {\n    icon: 'fas fa-align-justify',\n    label: 'Căn đều',\n    action: () => onAlignChange === null || onAlignChange === void 0 ? void 0 : onAlignChange(id, 'justify'),\n    active: styles.textAlign === 'justify',\n    showFor: ['heading', 'paragraph']\n  }];\n\n  // Image tools\n  const imageTools = [{\n    icon: 'fas fa-image',\n    label: 'Thay ảnh',\n    action: () => {\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = 'image/*';\n      input.onchange = e => {\n        const file = e.target.files[0];\n        if (file) {\n          const reader = new FileReader();\n          reader.onloadend = () => {\n            onEdit(id, {\n              src: reader.result\n            });\n          };\n          reader.readAsDataURL(file);\n        }\n      };\n      input.click();\n    },\n    showFor: ['image']\n  }, {\n    icon: 'fas fa-crop',\n    label: 'Cắt ảnh',\n    action: () => onEdit(id, {\n      action: 'crop'\n    }),\n    showFor: ['image']\n  }, {\n    icon: 'fas fa-adjust',\n    label: 'Độ sáng',\n    action: () => onEdit(id, {\n      action: 'filter'\n    }),\n    showFor: ['image']\n  }];\n\n  // Section/Container tools\n  const layoutTools = [{\n    icon: 'fas fa-plus-circle',\n    label: 'Thêm element',\n    action: () => onEdit(id, {\n      action: 'addChild'\n    }),\n    showFor: ['section', 'container', 'form', 'popup', 'modal']\n  }, {\n    icon: 'fas fa-th',\n    label: 'Grid layout',\n    action: () => onStyleChange === null || onStyleChange === void 0 ? void 0 : onStyleChange(id, 'display', 'grid'),\n    active: styles.display === 'grid',\n    showFor: ['section', 'container']\n  }, {\n    icon: 'fas fa-bars',\n    label: 'Flex layout',\n    action: () => onStyleChange === null || onStyleChange === void 0 ? void 0 : onStyleChange(id, 'display', 'flex'),\n    active: styles.display === 'flex',\n    showFor: ['section', 'container']\n  }, {\n    icon: 'fas fa-paint-brush',\n    label: 'Background',\n    action: () => onEdit(id, {\n      action: 'editBackground'\n    }),\n    showFor: ['section', 'container', 'button', 'form', 'popup', 'modal']\n  }];\n\n  // Button tools\n  const buttonTools = [{\n    icon: 'fas fa-bolt',\n    label: 'Sự kiện',\n    action: () => onEdit(id, {\n      action: 'editEvents'\n    }),\n    showFor: ['button']\n  }, {\n    icon: 'fas fa-link',\n    label: 'Link',\n    action: () => {\n      const url = prompt('Nhập URL:', componentData.link || '');\n      if (url !== null) onEdit(id, {\n        link: url\n      });\n    },\n    showFor: ['button']\n  }];\n\n  // Form tools\n  const formTools = [{\n    icon: 'fas fa-plus-square',\n    label: 'Thêm field',\n    action: () => onEdit(id, {\n      action: 'addField'\n    }),\n    showFor: ['form']\n  }, {\n    icon: 'fas fa-cog',\n    label: 'Cấu hình form',\n    action: () => onEdit(id, {\n      action: 'configForm'\n    }),\n    showFor: ['form']\n  }, {\n    icon: 'fas fa-check-circle',\n    label: 'Validation',\n    action: () => onEdit(id, {\n      action: 'validation'\n    }),\n    showFor: ['form']\n  }];\n\n  // Get tools based on element type\n  const getToolsForType = () => {\n    const tools = {\n      basic: basicActions,\n      text: textTools.filter(t => {\n        var _t$showFor;\n        return (_t$showFor = t.showFor) === null || _t$showFor === void 0 ? void 0 : _t$showFor.includes(type);\n      }),\n      align: alignmentTools.filter(t => {\n        var _t$showFor2;\n        return (_t$showFor2 = t.showFor) === null || _t$showFor2 === void 0 ? void 0 : _t$showFor2.includes(type);\n      }),\n      image: imageTools.filter(t => {\n        var _t$showFor3;\n        return (_t$showFor3 = t.showFor) === null || _t$showFor3 === void 0 ? void 0 : _t$showFor3.includes(type);\n      }),\n      layout: layoutTools.filter(t => {\n        var _t$showFor4;\n        return (_t$showFor4 = t.showFor) === null || _t$showFor4 === void 0 ? void 0 : _t$showFor4.includes(type);\n      }),\n      button: buttonTools.filter(t => {\n        var _t$showFor5;\n        return (_t$showFor5 = t.showFor) === null || _t$showFor5 === void 0 ? void 0 : _t$showFor5.includes(type);\n      }),\n      form: formTools.filter(t => {\n        var _t$showFor6;\n        return (_t$showFor6 = t.showFor) === null || _t$showFor6 === void 0 ? void 0 : _t$showFor6.includes(type);\n      })\n    };\n    return Object.entries(tools).filter(([_, items]) => items.length > 0).reduce((acc, [key, items]) => {\n      acc[key] = items;\n      return acc;\n    }, {});\n  };\n  const availableTools = getToolsForType();\n  const tabs = Object.keys(availableTools);\n  const renderTool = (tool, index) => {\n    if (tool.type === 'dropdown' && tool.render) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: tool.render()\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `toolkit-btn ${tool.active ? 'active' : ''} ${tool.className || ''}`,\n      onClick: tool.action,\n      title: `${tool.label}${tool.shortcut ? ` (${tool.shortcut})` : ''}`,\n      \"aria-label\": tool.label,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: tool.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }, this), tool.label && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"toolkit-label\",\n        children: tool.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 32\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: toolkitRef,\n    className: \"lpb-quick-edit-toolkit\",\n    style: {\n      position: 'absolute',\n      top: position.y - 60,\n      left: position.x,\n      zIndex: 10000\n    },\n    onClick: e => e.stopPropagation(),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolkit-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toolkit-tabs\",\n        children: tabs.map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toolkit-tab ${activeTab === tab ? 'active' : ''}`,\n          onClick: () => setActiveTab(tab),\n          children: [tab === 'basic' && /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-magic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 49\n          }, this), tab === 'text' && /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-font\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 48\n          }, this), tab === 'align' && /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-align-center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 49\n          }, this), tab === 'image' && /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 49\n          }, this), tab === 'layout' && /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-th\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 50\n          }, this), tab === 'button' && /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-hand-pointer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 50\n          }, this), tab === 'form' && /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-wpforms\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 48\n          }, this)]\n        }, tab, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"toolkit-close\",\n        onClick: onClose,\n        title: \"\\u0110\\xF3ng (Esc)\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-times\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolkit-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toolkit-tools\",\n        children: (_availableTools$activ = availableTools[activeTab]) === null || _availableTools$activ === void 0 ? void 0 : _availableTools$activ.map((tool, index) => renderTool(tool, index))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolkit-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"toolkit-element-type\",\n        children: type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"toolkit-element-id\",\n        children: [\"#\", id.substring(0, 8)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 355,\n    columnNumber: 9\n  }, this);\n};\n_s(QuickEditToolkit, \"9l0EWmA2KwtJXbT+5OsWhvQuQ0I=\");\n_c = QuickEditToolkit;\nexport default QuickEditToolkit;\nvar _c;\n$RefreshReg$(_c, \"QuickEditToolkit\");","map":{"version":3,"names":["React","useState","useCallback","useRef","useEffect","jsxDEV","_jsxDEV","QuickEditToolkit","element","position","onEdit","onDuplicate","onDelete","onMoveUp","onMoveDown","onClose","onStyleChange","onAlignChange","onLayerChange","parentId","_s","_availableTools$activ","id","type","styles","componentData","showColorPicker","setShowColorPicker","showFontSize","setShowFontSize","activeTab","setActiveTab","toolkitRef","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","basicActions","icon","label","action","shortcut","showFor","window","confirm","className","textTools","fontWeight","active","fontStyle","textDecoration","render","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","map","size","style","backgroundColor","color","value","onChange","alignmentTools","textAlign","imageTools","input","createElement","accept","onchange","file","files","reader","FileReader","onloadend","src","result","readAsDataURL","click","layoutTools","display","buttonTools","url","prompt","link","formTools","getToolsForType","tools","basic","text","filter","t","_t$showFor","includes","align","_t$showFor2","image","_t$showFor3","layout","_t$showFor4","button","_t$showFor5","form","_t$showFor6","Object","entries","_","items","length","reduce","acc","key","availableTools","tabs","keys","renderTool","tool","index","ref","top","y","left","x","zIndex","stopPropagation","tab","substring","_c","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/QuickEditToolkit.js"],"sourcesContent":["import React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport '../../styles/QuickEditToolkit.css';\r\n\r\nconst QuickEditToolkit = ({\r\n                              element,\r\n                              position,\r\n                              onEdit,\r\n                              onDuplicate,\r\n                              onDelete,\r\n                              onMoveUp,\r\n                              onMoveDown,\r\n                              onClose,\r\n                              onStyleChange,\r\n                              onAlignChange,\r\n                              onLayerChange,\r\n                              parentId\r\n                          }) => {\r\n    const { id, type, styles = {}, componentData = {} } = element;\r\n    const [showColorPicker, setShowColorPicker] = useState(false);\r\n    const [showFontSize, setShowFontSize] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('basic');\r\n    const toolkitRef = useRef(null);\r\n\r\n    // Close dropdowns when clicking outside\r\n    useEffect(() => {\r\n        const handleClickOutside = (e) => {\r\n            if (toolkitRef.current && !toolkitRef.current.contains(e.target)) {\r\n                setShowColorPicker(false);\r\n                setShowFontSize(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    // Basic actions for all elements\r\n    const basicActions = [\r\n        {\r\n            icon: 'fas fa-copy',\r\n            label: 'Sao chép',\r\n            action: () => onDuplicate(id),\r\n            shortcut: 'Ctrl+D',\r\n            showFor: 'all'\r\n        },\r\n        {\r\n            icon: 'fas fa-trash-alt',\r\n            label: 'Xóa',\r\n            action: () => {\r\n                if (window.confirm('Xóa element này?')) onDelete(id);\r\n            },\r\n            shortcut: 'Del',\r\n            className: 'danger',\r\n            showFor: 'all'\r\n        },\r\n        {\r\n            icon: 'fas fa-layer-group',\r\n            label: 'Đưa lên trên',\r\n            action: () => onLayerChange?.(id, 'up'),\r\n            showFor: 'all'\r\n        },\r\n        {\r\n            icon: 'fas fa-layer-group',\r\n            label: 'Đưa xuống dưới',\r\n            action: () => onLayerChange?.(id, 'down'),\r\n            showFor: 'all'\r\n        }\r\n    ];\r\n\r\n    // Text editing tools\r\n    const textTools = [\r\n        {\r\n            icon: 'fas fa-bold',\r\n            label: 'Bold',\r\n            action: () => onStyleChange?.(id, 'fontWeight', styles.fontWeight === 'bold' ? 'normal' : 'bold'),\r\n            active: styles.fontWeight === 'bold',\r\n            showFor: ['heading', 'paragraph', 'button']\r\n        },\r\n        {\r\n            icon: 'fas fa-italic',\r\n            label: 'Italic',\r\n            action: () => onStyleChange?.(id, 'fontStyle', styles.fontStyle === 'italic' ? 'normal' : 'italic'),\r\n            active: styles.fontStyle === 'italic',\r\n            showFor: ['heading', 'paragraph', 'button']\r\n        },\r\n        {\r\n            icon: 'fas fa-underline',\r\n            label: 'Underline',\r\n            action: () => onStyleChange?.(id, 'textDecoration', styles.textDecoration === 'underline' ? 'none' : 'underline'),\r\n            active: styles.textDecoration === 'underline',\r\n            showFor: ['heading', 'paragraph', 'button']\r\n        },\r\n        {\r\n            type: 'dropdown',\r\n            icon: 'fas fa-text-height',\r\n            label: 'Kích thước',\r\n            showFor: ['heading', 'paragraph', 'button'],\r\n            render: () => (\r\n                <div className=\"toolkit-dropdown\">\r\n                    <button\r\n                        className=\"toolkit-btn\"\r\n                        onClick={() => setShowFontSize(!showFontSize)}\r\n                        title=\"Kích thước chữ\"\r\n                    >\r\n                        <i className=\"fas fa-text-height\"></i>\r\n                        <span className=\"toolkit-value\">{styles.fontSize || '16px'}</span>\r\n                    </button>\r\n                    {showFontSize && (\r\n                        <div className=\"toolkit-dropdown-menu\">\r\n                            {['12px', '14px', '16px', '18px', '20px', '24px', '32px', '48px'].map(size => (\r\n                                <div\r\n                                    key={size}\r\n                                    className=\"toolkit-dropdown-item\"\r\n                                    onClick={() => {\r\n                                        onStyleChange?.(id, 'fontSize', size);\r\n                                        setShowFontSize(false);\r\n                                    }}\r\n                                >\r\n                                    {size}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )\r\n        },\r\n        {\r\n            type: 'dropdown',\r\n            icon: 'fas fa-palette',\r\n            label: 'Màu chữ',\r\n            showFor: ['heading', 'paragraph', 'button'],\r\n            render: () => (\r\n                <div className=\"toolkit-dropdown\">\r\n                    <button\r\n                        className=\"toolkit-btn\"\r\n                        onClick={() => setShowColorPicker(!showColorPicker)}\r\n                        title=\"Màu chữ\"\r\n                    >\r\n                        <i className=\"fas fa-palette\"></i>\r\n                        <div\r\n                            className=\"toolkit-color-preview\"\r\n                            style={{ backgroundColor: styles.color || '#000000' }}\r\n                        />\r\n                    </button>\r\n                    {showColorPicker && (\r\n                        <div className=\"toolkit-dropdown-menu color-picker\">\r\n                            <input\r\n                                type=\"color\"\r\n                                value={styles.color || '#000000'}\r\n                                onChange={(e) => onStyleChange?.(id, 'color', e.target.value)}\r\n                                className=\"toolkit-color-input\"\r\n                            />\r\n                            <div className=\"toolkit-color-presets\">\r\n                                {['#000000', '#ffffff', '#667eea', '#764ba2', '#ff6b6b', '#10b981', '#f59e0b', '#ef4444'].map(color => (\r\n                                    <div\r\n                                        key={color}\r\n                                        className=\"toolkit-color-preset\"\r\n                                        style={{ backgroundColor: color }}\r\n                                        onClick={() => {\r\n                                            onStyleChange?.(id, 'color', color);\r\n                                            setShowColorPicker(false);\r\n                                        }}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )\r\n        }\r\n    ];\r\n\r\n    // Alignment tools\r\n    const alignmentTools = [\r\n        {\r\n            icon: 'fas fa-align-left',\r\n            label: 'Căn trái',\r\n            action: () => onAlignChange?.(id, 'left'),\r\n            active: styles.textAlign === 'left',\r\n            showFor: ['heading', 'paragraph', 'button', 'form']\r\n        },\r\n        {\r\n            icon: 'fas fa-align-center',\r\n            label: 'Căn giữa',\r\n            action: () => onAlignChange?.(id, 'center'),\r\n            active: styles.textAlign === 'center',\r\n            showFor: ['heading', 'paragraph', 'button', 'form']\r\n        },\r\n        {\r\n            icon: 'fas fa-align-right',\r\n            label: 'Căn phải',\r\n            action: () => onAlignChange?.(id, 'right'),\r\n            active: styles.textAlign === 'right',\r\n            showFor: ['heading', 'paragraph', 'button', 'form']\r\n        },\r\n        {\r\n            icon: 'fas fa-align-justify',\r\n            label: 'Căn đều',\r\n            action: () => onAlignChange?.(id, 'justify'),\r\n            active: styles.textAlign === 'justify',\r\n            showFor: ['heading', 'paragraph']\r\n        }\r\n    ];\r\n\r\n    // Image tools\r\n    const imageTools = [\r\n        {\r\n            icon: 'fas fa-image',\r\n            label: 'Thay ảnh',\r\n            action: () => {\r\n                const input = document.createElement('input');\r\n                input.type = 'file';\r\n                input.accept = 'image/*';\r\n                input.onchange = (e) => {\r\n                    const file = e.target.files[0];\r\n                    if (file) {\r\n                        const reader = new FileReader();\r\n                        reader.onloadend = () => {\r\n                            onEdit(id, { src: reader.result });\r\n                        };\r\n                        reader.readAsDataURL(file);\r\n                    }\r\n                };\r\n                input.click();\r\n            },\r\n            showFor: ['image']\r\n        },\r\n        {\r\n            icon: 'fas fa-crop',\r\n            label: 'Cắt ảnh',\r\n            action: () => onEdit(id, { action: 'crop' }),\r\n            showFor: ['image']\r\n        },\r\n        {\r\n            icon: 'fas fa-adjust',\r\n            label: 'Độ sáng',\r\n            action: () => onEdit(id, { action: 'filter' }),\r\n            showFor: ['image']\r\n        }\r\n    ];\r\n\r\n    // Section/Container tools\r\n    const layoutTools = [\r\n        {\r\n            icon: 'fas fa-plus-circle',\r\n            label: 'Thêm element',\r\n            action: () => onEdit(id, { action: 'addChild' }),\r\n            showFor: ['section', 'container', 'form', 'popup', 'modal']\r\n        },\r\n        {\r\n            icon: 'fas fa-th',\r\n            label: 'Grid layout',\r\n            action: () => onStyleChange?.(id, 'display', 'grid'),\r\n            active: styles.display === 'grid',\r\n            showFor: ['section', 'container']\r\n        },\r\n        {\r\n            icon: 'fas fa-bars',\r\n            label: 'Flex layout',\r\n            action: () => onStyleChange?.(id, 'display', 'flex'),\r\n            active: styles.display === 'flex',\r\n            showFor: ['section', 'container']\r\n        },\r\n        {\r\n            icon: 'fas fa-paint-brush',\r\n            label: 'Background',\r\n            action: () => onEdit(id, { action: 'editBackground' }),\r\n            showFor: ['section', 'container', 'button', 'form', 'popup', 'modal']\r\n        }\r\n    ];\r\n\r\n    // Button tools\r\n    const buttonTools = [\r\n        {\r\n            icon: 'fas fa-bolt',\r\n            label: 'Sự kiện',\r\n            action: () => onEdit(id, { action: 'editEvents' }),\r\n            showFor: ['button']\r\n        },\r\n        {\r\n            icon: 'fas fa-link',\r\n            label: 'Link',\r\n            action: () => {\r\n                const url = prompt('Nhập URL:', componentData.link || '');\r\n                if (url !== null) onEdit(id, { link: url });\r\n            },\r\n            showFor: ['button']\r\n        }\r\n    ];\r\n\r\n    // Form tools\r\n    const formTools = [\r\n        {\r\n            icon: 'fas fa-plus-square',\r\n            label: 'Thêm field',\r\n            action: () => onEdit(id, { action: 'addField' }),\r\n            showFor: ['form']\r\n        },\r\n        {\r\n            icon: 'fas fa-cog',\r\n            label: 'Cấu hình form',\r\n            action: () => onEdit(id, { action: 'configForm' }),\r\n            showFor: ['form']\r\n        },\r\n        {\r\n            icon: 'fas fa-check-circle',\r\n            label: 'Validation',\r\n            action: () => onEdit(id, { action: 'validation' }),\r\n            showFor: ['form']\r\n        }\r\n    ];\r\n\r\n    // Get tools based on element type\r\n    const getToolsForType = () => {\r\n        const tools = {\r\n            basic: basicActions,\r\n            text: textTools.filter(t => t.showFor?.includes(type)),\r\n            align: alignmentTools.filter(t => t.showFor?.includes(type)),\r\n            image: imageTools.filter(t => t.showFor?.includes(type)),\r\n            layout: layoutTools.filter(t => t.showFor?.includes(type)),\r\n            button: buttonTools.filter(t => t.showFor?.includes(type)),\r\n            form: formTools.filter(t => t.showFor?.includes(type))\r\n        };\r\n\r\n        return Object.entries(tools)\r\n            .filter(([_, items]) => items.length > 0)\r\n            .reduce((acc, [key, items]) => {\r\n                acc[key] = items;\r\n                return acc;\r\n            }, {});\r\n    };\r\n\r\n    const availableTools = getToolsForType();\r\n    const tabs = Object.keys(availableTools);\r\n\r\n    const renderTool = (tool, index) => {\r\n        if (tool.type === 'dropdown' && tool.render) {\r\n            return <div key={index}>{tool.render()}</div>;\r\n        }\r\n\r\n        return (\r\n            <button\r\n                key={index}\r\n                className={`toolkit-btn ${tool.active ? 'active' : ''} ${tool.className || ''}`}\r\n                onClick={tool.action}\r\n                title={`${tool.label}${tool.shortcut ? ` (${tool.shortcut})` : ''}`}\r\n                aria-label={tool.label}\r\n            >\r\n                <i className={tool.icon}></i>\r\n                {tool.label && <span className=\"toolkit-label\">{tool.label}</span>}\r\n            </button>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div\r\n            ref={toolkitRef}\r\n            className=\"lpb-quick-edit-toolkit\"\r\n            style={{\r\n                position: 'absolute',\r\n                top: position.y - 60,\r\n                left: position.x,\r\n                zIndex: 10000,\r\n            }}\r\n            onClick={(e) => e.stopPropagation()}\r\n        >\r\n            <div className=\"toolkit-header\">\r\n                <div className=\"toolkit-tabs\">\r\n                    {tabs.map(tab => (\r\n                        <button\r\n                            key={tab}\r\n                            className={`toolkit-tab ${activeTab === tab ? 'active' : ''}`}\r\n                            onClick={() => setActiveTab(tab)}\r\n                        >\r\n                            {tab === 'basic' && <i className=\"fas fa-magic\"></i>}\r\n                            {tab === 'text' && <i className=\"fas fa-font\"></i>}\r\n                            {tab === 'align' && <i className=\"fas fa-align-center\"></i>}\r\n                            {tab === 'image' && <i className=\"fas fa-image\"></i>}\r\n                            {tab === 'layout' && <i className=\"fas fa-th\"></i>}\r\n                            {tab === 'button' && <i className=\"fas fa-hand-pointer\"></i>}\r\n                            {tab === 'form' && <i className=\"fas fa-wpforms\"></i>}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n                <button className=\"toolkit-close\" onClick={onClose} title=\"Đóng (Esc)\">\r\n                    <i className=\"fas fa-times\"></i>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"toolkit-body\">\r\n                <div className=\"toolkit-tools\">\r\n                    {availableTools[activeTab]?.map((tool, index) => renderTool(tool, index))}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"toolkit-footer\">\r\n                <span className=\"toolkit-element-type\">{type}</span>\r\n                <span className=\"toolkit-element-id\">#{id.substring(0, 8)}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QuickEditToolkit;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}