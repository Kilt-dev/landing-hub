{"ast":null,"code":"const parseHTMLToPageData = (htmlString, CSS_VARIABLES) => {\n  console.log('Parsing HTML to pageData:', htmlString);\n  try {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(htmlString, 'text/html');\n    const pageContainer = doc.querySelector('.page-container');\n    if (!pageContainer) {\n      console.warn('No .page-container found in HTML');\n      return {\n        canvas: {\n          width: parseInt(CSS_VARIABLES['--canvas-desktop']) || 1200,\n          background: CSS_VARIABLES['--white'] || '#ffffff'\n        },\n        elements: []\n      };\n    }\n    const elements = [];\n    const directChildren = Array.from(pageContainer.querySelectorAll('.lpb-canvas-element'));\n    directChildren.forEach((child, index) => {\n      const element = parseElementFromDOM(child, index, CSS_VARIABLES);\n      if (element) {\n        elements.push(element);\n      }\n    });\n    return {\n      canvas: {\n        width: parseInt(CSS_VARIABLES['--canvas-desktop']) || 1200,\n        background: CSS_VARIABLES['--white'] || '#ffffff'\n      },\n      elements\n    };\n  } catch (error) {\n    console.error('Error parsing HTML:', error);\n    return {\n      canvas: {\n        width: parseInt(CSS_VARIABLES['--canvas-desktop']) || 1200,\n        background: CSS_VARIABLES['--white'] || '#ffffff'\n      },\n      elements: []\n    };\n  }\n};\nconst parseElementFromDOM = (domNode, index, CSS_VARIABLES) => {\n  if (!domNode || domNode.nodeType !== Node.ELEMENT_NODE || !domNode.classList.contains('lpb-canvas-element')) {\n    return null;\n  }\n  const styles = domNode.style;\n  const computedStyle = window.getComputedStyle ? window.getComputedStyle(domNode) : {};\n  const type = domNode.getAttribute('data-type') || 'container';\n  const position = extractPositionFromStyle(styles);\n  const size = extractSizeFromStyle(styles, domNode);\n  const {\n    componentData,\n    children\n  } = determineElementType(domNode, index, CSS_VARIABLES);\n  const id = `element-${Date.now()}-${index}`;\n  return {\n    id,\n    type,\n    componentData,\n    position: {\n      desktop: position,\n      tablet: position,\n      mobile: position\n    },\n    size,\n    styles: extractStylesFromDOM(styles, CSS_VARIABLES),\n    children: children || []\n  };\n};\nconst extractPositionFromStyle = styles => {\n  const transform = styles.transform || '';\n  const positionStyle = styles.position || '';\n  const translateMatch = transform.match(/translate\\(([^,]+),\\s*([^)]+)\\)/);\n  if (translateMatch) {\n    return {\n      x: parseFloat(translateMatch[1]) || 0,\n      y: parseFloat(translateMatch[2]) || 0\n    };\n  }\n  if (positionStyle === 'absolute') {\n    return {\n      x: parseFloat(styles.left) || 0,\n      y: parseFloat(styles.top) || 0\n    };\n  }\n  return {\n    x: 0,\n    y: 0\n  };\n};\nconst extractSizeFromStyle = (styles, domNode) => {\n  let width = parseFloat(styles.width) || domNode.offsetWidth || 200;\n  let height = parseFloat(styles.height) || domNode.offsetHeight || 50;\n  const tagName = domNode.tagName.toLowerCase();\n  if (tagName === 'button' && height < 40) height = 40;\n  if (['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(tagName)) {\n    if (height < 50) height = 50;\n    if (width < 200) width = 200;\n  }\n  if (tagName === 'p' && height < 30) height = 30;\n  if (tagName === 'div' && domNode.classList.contains('spacer')) height = parseFloat(styles.height) || 20;\n  return {\n    width,\n    height\n  };\n};\nconst determineElementType = (domNode, parentIndex, CSS_VARIABLES) => {\n  var _domNode$textContent, _domNode$querySelecto, _domNode$querySelecto7, _domNode$querySelecto8, _domNode$querySelecto9;\n  const tagName = domNode.tagName.toLowerCase();\n  const className = domNode.className || '';\n  const textContent = ((_domNode$textContent = domNode.textContent) === null || _domNode$textContent === void 0 ? void 0 : _domNode$textContent.trim()) || '';\n  const computedStyle = window.getComputedStyle ? window.getComputedStyle(domNode) : {};\n  const children = Array.from(domNode.querySelectorAll('.lpb-child-element')).map((child, index) => parseChildElement(child, `${parentIndex}-${index}`, CSS_VARIABLES)).filter(Boolean);\n  switch (tagName) {\n    case 'h1':\n    case 'h2':\n    case 'h3':\n    case 'h4':\n    case 'h5':\n    case 'h6':\n      return {\n        type: 'heading',\n        componentData: {\n          content: textContent,\n          fontSize: computedStyle.fontSize || '1.5rem',\n          color: computedStyle.color || CSS_VARIABLES['--text-primary'] || '#1f2937'\n        },\n        children: []\n      };\n    case 'p':\n      return {\n        type: 'paragraph',\n        componentData: {\n          content: textContent,\n          fontSize: computedStyle.fontSize || '1rem',\n          color: computedStyle.color || CSS_VARIABLES['--text-secondary'] || '#1f2937'\n        },\n        children: []\n      };\n    case 'button':\n      return {\n        type: 'button',\n        componentData: {\n          content: textContent,\n          background: computedStyle.backgroundColor || CSS_VARIABLES['--primary'] || '#2563eb',\n          color: computedStyle.color || CSS_VARIABLES['--text-inverse'] || '#fff'\n        },\n        children: []\n      };\n    case 'img':\n      return {\n        type: 'image',\n        componentData: {\n          src: domNode.src || 'https://via.placeholder.com/150',\n          alt: domNode.alt || 'Image'\n        },\n        children: []\n      };\n    case 'form':\n      const fields = Array.from(domNode.querySelectorAll('input')).map(input => input.placeholder || input.name || 'Input');\n      const submitButton = domNode.querySelector('button[type=\"submit\"]');\n      return {\n        type: 'form',\n        componentData: {\n          title: ((_domNode$querySelecto = domNode.querySelector('h3')) === null || _domNode$querySelecto === void 0 ? void 0 : _domNode$querySelecto.textContent) || '',\n          fields: fields.length > 0 ? fields : ['Input'],\n          buttonText: (submitButton === null || submitButton === void 0 ? void 0 : submitButton.textContent) || 'Submit'\n        },\n        children\n      };\n    case 'hr':\n      return {\n        type: 'divider',\n        componentData: {},\n        children: []\n      };\n    case 'div':\n      if (className.includes('popup')) {\n        var _domNode$querySelecto2, _domNode$querySelecto3, _domNode$querySelecto4;\n        return {\n          type: 'popup',\n          componentData: {\n            title: ((_domNode$querySelecto2 = domNode.querySelector('h3')) === null || _domNode$querySelecto2 === void 0 ? void 0 : _domNode$querySelecto2.textContent) || '',\n            content: ((_domNode$querySelecto3 = domNode.querySelector('p')) === null || _domNode$querySelecto3 === void 0 ? void 0 : _domNode$querySelecto3.textContent) || textContent,\n            buttonText: ((_domNode$querySelecto4 = domNode.querySelector('button')) === null || _domNode$querySelecto4 === void 0 ? void 0 : _domNode$querySelecto4.textContent) || ''\n          },\n          children\n        };\n      }\n      if (className.includes('modal')) {\n        var _domNode$querySelecto5, _domNode$querySelecto6;\n        return {\n          type: 'modal',\n          componentData: {\n            title: ((_domNode$querySelecto5 = domNode.querySelector('h3')) === null || _domNode$querySelecto5 === void 0 ? void 0 : _domNode$querySelecto5.textContent) || '',\n            content: ((_domNode$querySelecto6 = domNode.querySelector('p')) === null || _domNode$querySelecto6 === void 0 ? void 0 : _domNode$querySelecto6.textContent) || textContent,\n            closeButton: !!domNode.querySelector('button')\n          },\n          children\n        };\n      }\n      if (className.includes('spacer') || parseFloat(computedStyle.height) < 10) {\n        return {\n          type: 'spacer',\n          componentData: {},\n          children: []\n        };\n      }\n      return {\n        type: className.includes('section') ? 'section' : 'container',\n        componentData: {\n          title: ((_domNode$querySelecto7 = domNode.querySelector('h2, h3')) === null || _domNode$querySelecto7 === void 0 ? void 0 : _domNode$querySelecto7.textContent) || '',\n          subtitle: ((_domNode$querySelecto8 = domNode.querySelector('p:not(.lpb-child-element)')) === null || _domNode$querySelecto8 === void 0 ? void 0 : _domNode$querySelecto8.textContent) || '',\n          content: !domNode.querySelector('h2, h3, p, button') ? textContent : '',\n          features: Array.from(domNode.querySelectorAll('li')).map(li => li.textContent.trim()),\n          ctaText: ((_domNode$querySelecto9 = domNode.querySelector('button:not([type=\"submit\"])')) === null || _domNode$querySelecto9 === void 0 ? void 0 : _domNode$querySelecto9.textContent) || ''\n        },\n        children\n      };\n    default:\n      return {\n        type: 'container',\n        componentData: {\n          content: textContent\n        },\n        children\n      };\n  }\n};\nconst parseChildElement = (childNode, index, CSS_VARIABLES) => {\n  var _childNode$textConten;\n  if (!childNode || childNode.nodeType !== Node.ELEMENT_NODE || !childNode.classList.contains('lpb-child-element')) {\n    return null;\n  }\n  const tagName = childNode.tagName.toLowerCase();\n  const textContent = ((_childNode$textConten = childNode.textContent) === null || _childNode$textConten === void 0 ? void 0 : _childNode$textConten.trim()) || '';\n  const computedStyle = window.getComputedStyle ? window.getComputedStyle(childNode) : {};\n  const id = `child-${Date.now()}-${index}`;\n  switch (tagName) {\n    case 'h1':\n    case 'h2':\n    case 'h3':\n    case 'h4':\n    case 'h5':\n    case 'h6':\n      return {\n        id,\n        type: 'heading',\n        content: textContent,\n        componentData: {\n          fontSize: computedStyle.fontSize || '1.5rem',\n          color: computedStyle.color || CSS_VARIABLES['--text-primary'] || '#1f2937'\n        },\n        styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES)\n      };\n    case 'p':\n      return {\n        id,\n        type: 'paragraph',\n        content: textContent,\n        componentData: {\n          fontSize: computedStyle.fontSize || '1rem',\n          color: computedStyle.color || CSS_VARIABLES['--text-secondary'] || '#1f2937'\n        },\n        styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES)\n      };\n    case 'button':\n      return {\n        id,\n        type: 'button',\n        content: textContent,\n        componentData: {\n          background: computedStyle.backgroundColor || CSS_VARIABLES['--primary'] || '#2563eb',\n          color: computedStyle.color || CSS_VARIABLES['--text-inverse'] || '#fff'\n        },\n        styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES)\n      };\n    case 'input':\n      return {\n        id,\n        type: 'input',\n        content: childNode.placeholder || 'Input',\n        componentData: {\n          placeholder: childNode.placeholder || 'Input',\n          type: childNode.type || 'text'\n        },\n        styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES)\n      };\n    case 'li':\n      return {\n        id,\n        type: 'list-item',\n        content: textContent,\n        componentData: {},\n        styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES)\n      };\n    case 'img':\n      return {\n        id,\n        type: 'image',\n        content: childNode.src || 'https://via.placeholder.com/150',\n        componentData: {\n          src: childNode.src || 'https://via.placeholder.com/150',\n          alt: childNode.alt || 'Image'\n        },\n        styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES)\n      };\n    default:\n      return {\n        id,\n        type: 'text',\n        content: textContent,\n        componentData: {},\n        styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES)\n      };\n  }\n};\nconst extractStylesFromDOM = (styleObj, CSS_VARIABLES) => {\n  const cleanStyles = {};\n  const importantProps = ['backgroundColor', 'color', 'fontSize', 'fontWeight', 'fontFamily', 'textAlign', 'padding', 'margin', 'border', 'borderRadius', 'boxShadow', 'opacity', 'display', 'flexDirection', 'alignItems', 'justifyContent', 'gap', 'minHeight', 'maxWidth', 'width', 'height'];\n  importantProps.forEach(prop => {\n    if (styleObj[prop]) {\n      cleanStyles[prop] = styleObj[prop];\n    }\n  });\n\n  // Áp dụng giá trị mặc định từ CSS_VARIABLES\n  cleanStyles['border-radius'] = cleanStyles['border-radius'] || CSS_VARIABLES['--border-radius'] || '8px';\n  cleanStyles['background-color'] = cleanStyles['background-color'] || CSS_VARIABLES['--white'] || '#ffffff';\n  cleanStyles['box-shadow'] = cleanStyles['box-shadow'] || CSS_VARIABLES['--shadow'] || '0 4px 6px -1px rgba(0, 0, 0, 0.1)';\n  return cleanStyles;\n};\nconst renderStaticHTML = (pageData, CSS_VARIABLES) => {\n  var _pageData$canvas, _pageData$canvas2, _pageData$canvas3;\n  console.log('Rendering static HTML with pageData:', JSON.stringify(pageData, null, 2));\n  let html = `<!DOCTYPE html>\n<html lang=\"vi\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Landing Page</title>\n    <style>\n        :root {\n            --primary: ${CSS_VARIABLES['--primary'] || '#6366f1'};\n            --primary-dark: ${CSS_VARIABLES['--primary-dark'] || '#4f46e5'};\n            --primary-light: ${CSS_VARIABLES['--primary-light'] || '#a5b4fc'};\n            --secondary: ${CSS_VARIABLES['--secondary'] || '#f1f5f9'};\n            --accent: ${CSS_VARIABLES['--accent'] || '#06b6d4'};\n            --success: ${CSS_VARIABLES['--success'] || '#10b981'};\n            --warning: ${CSS_VARIABLES['--warning'] || '#f59e0b'};\n            --danger: ${CSS_VARIABLES['--danger'] || '#ef4444'};\n            --dark: ${CSS_VARIABLES['--dark'] || '#1e293b'};\n            --light: ${CSS_VARIABLES['--light'] || '#f8fafc'};\n            --white: ${CSS_VARIABLES['--white'] || '#ffffff'};\n            --text-primary: ${CSS_VARIABLES['--text-primary'] || '#334155'};\n            --text-secondary: ${CSS_VARIABLES['--text-secondary'] || '#64748b'};\n            --text-light: ${CSS_VARIABLES['--text-light'] || '#94a3b8'};\n            --text-inverse: ${CSS_VARIABLES['--text-inverse'] || '#ffffff'};\n            --border-color: ${CSS_VARIABLES['--border-color'] || '#e2e8f0'};\n            --border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'};\n            --border-radius-lg: ${CSS_VARIABLES['--border-radius-lg'] || '12px'};\n            --border-radius-xl: ${CSS_VARIABLES['--border-radius-xl'] || '16px'};\n            --shadow-sm: ${CSS_VARIABLES['--shadow-sm'] || '0 1px 2px 0 rgba(0, 0, 0, 0.05)'};\n            --shadow: ${CSS_VARIABLES['--shadow'] || '0 4px 6px -1px rgba(0, 0, 0, 0.1)'};\n            --shadow-lg: ${CSS_VARIABLES['--shadow-lg'] || '0 10px 15px -3px rgba(0, 0, 0, 0.1)'};\n            --shadow-xl: ${CSS_VARIABLES['--shadow-xl'] || '0 20px 25px -5px rgba(0, 0, 0, 0.1)'};\n            --canvas-desktop: ${CSS_VARIABLES['--canvas-desktop'] || '1200px'};\n            --canvas-tablet: ${CSS_VARIABLES['--canvas-tablet'] || '768px'};\n            --canvas-mobile: ${CSS_VARIABLES['--canvas-mobile'] || '375px'};\n        }\n        body { \n            font-family: 'Inter', Arial, sans-serif; \n            margin: 0; \n            padding: 0; \n            background: ${((_pageData$canvas = pageData.canvas) === null || _pageData$canvas === void 0 ? void 0 : _pageData$canvas.background) || CSS_VARIABLES['--white'] || '#ffffff'};\n        }\n        .page-container { \n            position: relative; \n            width: ${((_pageData$canvas2 = pageData.canvas) === null || _pageData$canvas2 === void 0 ? void 0 : _pageData$canvas2.width) || CSS_VARIABLES['--canvas-desktop'] || 1200}px; \n            min-height: 600px; \n            margin: 0 auto; \n            background: ${((_pageData$canvas3 = pageData.canvas) === null || _pageData$canvas3 === void 0 ? void 0 : _pageData$canvas3.background) || CSS_VARIABLES['--white'] || '#ffffff'};\n            border-radius: ${CSS_VARIABLES['--border-radius-xl'] || '16px'};\n            box-shadow: ${CSS_VARIABLES['--shadow-xl'] || '0 20px 25px -5px rgba(0, 0, 0, 0.1)'};\n        }\n        .lpb-canvas-element { position: absolute; }\n        .lpb-child-element { margin: 5px 0; padding: 5px; }\n        @media (max-width: 768px) {\n            .page-container { width: ${CSS_VARIABLES['--canvas-tablet'] || '768px'}; }\n        }\n        @media (max-width: 375px) {\n            .page-container { width: ${CSS_VARIABLES['--canvas-mobile'] || '375px'}; }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"page-container\">`;\n  pageData.elements.forEach(element => {\n    html += renderElementHTML(element, CSS_VARIABLES);\n  });\n  html += `\n    </div>\n</body>\n</html>`;\n  return html;\n};\nconst renderElementHTML = (element, CSS_VARIABLES) => {\n  const {\n    type,\n    componentData = {},\n    position = {},\n    size = {},\n    styles = {},\n    children = []\n  } = element;\n  const positionStyles = position !== null && position !== void 0 && position.desktop ? `position: absolute; left: ${position.desktop.x}px; top: ${position.desktop.y}px;` : '';\n  const sizeStyles = size ? `width: ${size.width}px; height: ${size.height}px;` : '';\n  const customStyles = styles ? Object.entries(styles).map(([key, value]) => `${key}: ${value};`).join(' ') : '';\n  const allStyles = `${positionStyles} ${sizeStyles} ${customStyles}`;\n  let elementHtml = `<div class=\"lpb-canvas-element\" style=\"${allStyles}\" data-type=\"${type}\" data-element-id=\"${element.id}\">`;\n  elementHtml += renderElementContent(type, componentData, children, CSS_VARIABLES);\n  elementHtml += `</div>`;\n  return elementHtml;\n};\nconst renderElementContent = (type, componentData, children = [], CSS_VARIABLES) => {\n  let content = '';\n  switch (type) {\n    case 'heading':\n      content = `<h2 class=\"lpb-child-element\" style=\"font-size: ${componentData.fontSize || '1.5rem'}; color: ${componentData.color || CSS_VARIABLES['--text-primary'] || '#1f2937'}; margin: 0; padding: 0;\">${componentData.content || 'Tiêu đề'}</h2>`;\n      break;\n    case 'paragraph':\n      content = `<p class=\"lpb-child-element\" style=\"font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || CSS_VARIABLES['--text-secondary'] || '#1f2937'}; margin: 0; padding: 0;\">${componentData.content || 'Đoạn văn'}</p>`;\n      break;\n    case 'button':\n      content = `<button class=\"lpb-child-element\" style=\"padding: 8px 16px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${componentData.background || CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${componentData.color || CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer;\">${componentData.content || 'Nút'}</button>`;\n      break;\n    case 'image':\n      content = `<img class=\"lpb-child-element\" src=\"${componentData.src || 'https://via.placeholder.com/150'}\" alt=\"${componentData.alt || 'Image'}\" style=\"max-width: 100%; height: auto;\" draggable=\"false\" />`;\n      break;\n    case 'form':\n      content = '<form class=\"lpb-child-element\" style=\"display: flex; flex-direction: column; gap: 10px;\">';\n      if (componentData.title) {\n        content += `<h3 style=\"margin: 0; font-size: 1.2rem;\">${componentData.title}</h3>`;\n      }\n      if (componentData.fields) {\n        componentData.fields.forEach(field => {\n          content += `<input type=\"text\" placeholder=\"${field}\" style=\"padding: 8px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; border: 1px solid ${CSS_VARIABLES['--border-color'] || '#ccc'};\" />`;\n        });\n      }\n      content += `<button type=\"submit\" style=\"background: ${CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${CSS_VARIABLES['--text-inverse'] || '#fff'}; padding: 8px 16px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; border: none; cursor: pointer;\">${componentData.buttonText || 'Submit'}</button>`;\n      content += '</form>';\n      break;\n    case 'section':\n    case 'container':\n    case 'group':\n      content = '<div class=\"lpb-child-element\" style=\"display: flex; flex-direction: column; gap: 10px; min-height: 100px; padding: 20px;\">';\n      if (componentData.title && !children.some(child => child.type === 'heading')) {\n        content += `<h2 style=\"font-size: 1.8rem; margin: 0;\">${componentData.title}</h2>`;\n      }\n      if (componentData.subtitle && !children.some(child => child.type === 'paragraph')) {\n        content += `<p style=\"font-size: 1.2rem; margin: 0;\">${componentData.subtitle}</p>`;\n      }\n      if (componentData.content && !children.some(child => child.type === 'paragraph')) {\n        content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\n      }\n      if (componentData.features && !children.some(child => child.type === 'list-item')) {\n        content += '<ul style=\"list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 8px;\">';\n        componentData.features.forEach(feature => {\n          content += `<li style=\"font-size: 1rem;\">${feature}</li>`;\n        });\n        content += '</ul>';\n      }\n      if (componentData.ctaText && !children.some(child => child.type === 'button')) {\n        content += `<button style=\"padding: 10px 20px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer;\">${componentData.ctaText}</button>`;\n      }\n      children.forEach(child => {\n        content += renderChildHTML(child, CSS_VARIABLES);\n      });\n      content += '</div>';\n      break;\n    case 'divider':\n      content = `<hr class=\"lpb-child-element\" style=\"border: none; background: ${CSS_VARIABLES['--border-color'] || '#e5e7eb'}; height: 2px;\" />`;\n      break;\n    case 'spacer':\n      content = `<div class=\"lpb-child-element\" style=\"background: transparent; height: ${componentData.height || '20px'};\"></div>`;\n      break;\n    case 'popup':\n      content = '<div class=\"lpb-child-element popup\" style=\"display: flex; flex-direction: column; gap: 10px; text-align: center;\">';\n      if (componentData.title) {\n        content += `<h3 style=\"font-size: 1.5rem; margin: 0;\">${componentData.title}</h3>`;\n      }\n      if (componentData.content) {\n        content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\n      }\n      if (componentData.buttonText) {\n        content += `<button style=\"padding: 10px 20px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer;\">${componentData.buttonText}</button>`;\n      }\n      children.forEach(child => {\n        content += renderChildHTML(child, CSS_VARIABLES);\n      });\n      content += '</div>';\n      break;\n    case 'modal':\n      content = '<div class=\"lpb-child-element modal\" style=\"display: flex; flex-direction: column; gap: 10px;\">';\n      if (componentData.title) {\n        content += `<h3 style=\"font-size: 1.5rem; margin: 0;\">${componentData.title}</h3>`;\n      }\n      if (componentData.content) {\n        content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\n      }\n      if (componentData.closeButton) {\n        content += `<button style=\"padding: 8px 16px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${CSS_VARIABLES['--dark'] || '#6b7280'}; color: ${CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer; align-self: flex-end;\">Close</button>`;\n      }\n      children.forEach(child => {\n        content += renderChildHTML(child, CSS_VARIABLES);\n      });\n      content += '</div>';\n      break;\n    default:\n      content = `<div class=\"lpb-child-element\" style=\"color: ${CSS_VARIABLES['--danger'] || '#ff0000'};\">Unknown Component: ${type}</div>`;\n  }\n  return content;\n};\nconst renderChildHTML = (child, CSS_VARIABLES) => {\n  const {\n    type,\n    content,\n    componentData = {},\n    styles = {}\n  } = child;\n  const styleStr = Object.entries(styles).map(([key, value]) => `${key}: ${value};`).join(' ');\n  switch (type) {\n    case 'heading':\n      return `<h2 class=\"lpb-child-element\" style=\"${styleStr} font-size: ${componentData.fontSize || '1.5rem'}; color: ${componentData.color || CSS_VARIABLES['--text-primary'] || '#1f2937'}; margin: 0; padding: 0;\">${content || 'Tiêu đề'}</h2>`;\n    case 'paragraph':\n      return `<p class=\"lpb-child-element\" style=\"${styleStr} font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || CSS_VARIABLES['--text-secondary'] || '#1f2937'}; margin: 0; padding: 0;\">${content || 'Đoạn văn'}</p>`;\n    case 'button':\n      return `<button class=\"lpb-child-element\" style=\"${styleStr} padding: 8px 16px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${componentData.background || CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${componentData.color || CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer;\">${content || 'Nút'}</button>`;\n    case 'input':\n      return `<input class=\"lpb-child-element\" type=\"${componentData.type || 'text'}\" placeholder=\"${componentData.placeholder || 'Input'}\" style=\"${styleStr} padding: 8px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; border: 1px solid ${CSS_VARIABLES['--border-color'] || '#ccc'};\" />`;\n    case 'list-item':\n      return `<li class=\"lpb-child-element\" style=\"${styleStr} font-size: 1rem;\">${content}</li>`;\n    case 'image':\n      return `<img class=\"lpb-child-element\" src=\"${componentData.src || content || 'https://via.placeholder.com/150'}\" alt=\"${componentData.alt || 'Image'}\" style=\"${styleStr} max-width: 100%; height: auto;\" />`;\n    default:\n      return `<span class=\"lpb-child-element\" style=\"${styleStr}\">${content}</span>`;\n  }\n};\nexport { parseHTMLToPageData, renderStaticHTML };","map":{"version":3,"names":["parseHTMLToPageData","htmlString","CSS_VARIABLES","console","log","parser","DOMParser","doc","parseFromString","pageContainer","querySelector","warn","canvas","width","parseInt","background","elements","directChildren","Array","from","querySelectorAll","forEach","child","index","element","parseElementFromDOM","push","error","domNode","nodeType","Node","ELEMENT_NODE","classList","contains","styles","style","computedStyle","window","getComputedStyle","type","getAttribute","position","extractPositionFromStyle","size","extractSizeFromStyle","componentData","children","determineElementType","id","Date","now","desktop","tablet","mobile","extractStylesFromDOM","transform","positionStyle","translateMatch","match","x","parseFloat","y","left","top","offsetWidth","height","offsetHeight","tagName","toLowerCase","includes","parentIndex","_domNode$textContent","_domNode$querySelecto","_domNode$querySelecto7","_domNode$querySelecto8","_domNode$querySelecto9","className","textContent","trim","map","parseChildElement","filter","Boolean","content","fontSize","color","backgroundColor","src","alt","fields","input","placeholder","name","submitButton","title","length","buttonText","_domNode$querySelecto2","_domNode$querySelecto3","_domNode$querySelecto4","_domNode$querySelecto5","_domNode$querySelecto6","closeButton","subtitle","features","li","ctaText","childNode","_childNode$textConten","styleObj","cleanStyles","importantProps","prop","renderStaticHTML","pageData","_pageData$canvas","_pageData$canvas2","_pageData$canvas3","JSON","stringify","html","renderElementHTML","positionStyles","sizeStyles","customStyles","Object","entries","key","value","join","allStyles","elementHtml","renderElementContent","field","some","feature","renderChildHTML","styleStr"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/parseHTMLToPageData.js"],"sourcesContent":["const parseHTMLToPageData = (htmlString, CSS_VARIABLES) => {\r\n    console.log('Parsing HTML to pageData:', htmlString);\r\n\r\n    try {\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(htmlString, 'text/html');\r\n        const pageContainer = doc.querySelector('.page-container');\r\n\r\n        if (!pageContainer) {\r\n            console.warn('No .page-container found in HTML');\r\n            return {\r\n                canvas: { width: parseInt(CSS_VARIABLES['--canvas-desktop']) || 1200, background: CSS_VARIABLES['--white'] || '#ffffff' },\r\n                elements: [],\r\n            };\r\n        }\r\n\r\n        const elements = [];\r\n        const directChildren = Array.from(pageContainer.querySelectorAll('.lpb-canvas-element'));\r\n\r\n        directChildren.forEach((child, index) => {\r\n            const element = parseElementFromDOM(child, index, CSS_VARIABLES);\r\n            if (element) {\r\n                elements.push(element);\r\n            }\r\n        });\r\n\r\n        return {\r\n            canvas: { width: parseInt(CSS_VARIABLES['--canvas-desktop']) || 1200, background: CSS_VARIABLES['--white'] || '#ffffff' },\r\n            elements,\r\n        };\r\n    } catch (error) {\r\n        console.error('Error parsing HTML:', error);\r\n        return {\r\n            canvas: { width: parseInt(CSS_VARIABLES['--canvas-desktop']) || 1200, background: CSS_VARIABLES['--white'] || '#ffffff' },\r\n            elements: [],\r\n        };\r\n    }\r\n};\r\n\r\nconst parseElementFromDOM = (domNode, index, CSS_VARIABLES) => {\r\n    if (!domNode || domNode.nodeType !== Node.ELEMENT_NODE || !domNode.classList.contains('lpb-canvas-element')) {\r\n        return null;\r\n    }\r\n\r\n    const styles = domNode.style;\r\n    const computedStyle = window.getComputedStyle ? window.getComputedStyle(domNode) : {};\r\n    const type = domNode.getAttribute('data-type') || 'container';\r\n\r\n    const position = extractPositionFromStyle(styles);\r\n    const size = extractSizeFromStyle(styles, domNode);\r\n    const { componentData, children } = determineElementType(domNode, index, CSS_VARIABLES);\r\n\r\n    const id = `element-${Date.now()}-${index}`;\r\n\r\n    return {\r\n        id,\r\n        type,\r\n        componentData,\r\n        position: {\r\n            desktop: position,\r\n            tablet: position,\r\n            mobile: position,\r\n        },\r\n        size,\r\n        styles: extractStylesFromDOM(styles, CSS_VARIABLES),\r\n        children: children || [],\r\n    };\r\n};\r\n\r\nconst extractPositionFromStyle = (styles) => {\r\n    const transform = styles.transform || '';\r\n    const positionStyle = styles.position || '';\r\n\r\n    const translateMatch = transform.match(/translate\\(([^,]+),\\s*([^)]+)\\)/);\r\n    if (translateMatch) {\r\n        return {\r\n            x: parseFloat(translateMatch[1]) || 0,\r\n            y: parseFloat(translateMatch[2]) || 0,\r\n        };\r\n    }\r\n\r\n    if (positionStyle === 'absolute') {\r\n        return {\r\n            x: parseFloat(styles.left) || 0,\r\n            y: parseFloat(styles.top) || 0,\r\n        };\r\n    }\r\n\r\n    return { x: 0, y: 0 };\r\n};\r\n\r\nconst extractSizeFromStyle = (styles, domNode) => {\r\n    let width = parseFloat(styles.width) || domNode.offsetWidth || 200;\r\n    let height = parseFloat(styles.height) || domNode.offsetHeight || 50;\r\n\r\n    const tagName = domNode.tagName.toLowerCase();\r\n    if (tagName === 'button' && height < 40) height = 40;\r\n    if (['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(tagName)) {\r\n        if (height < 50) height = 50;\r\n        if (width < 200) width = 200;\r\n    }\r\n    if (tagName === 'p' && height < 30) height = 30;\r\n    if (tagName === 'div' && domNode.classList.contains('spacer')) height = parseFloat(styles.height) || 20;\r\n\r\n    return { width, height };\r\n};\r\n\r\nconst determineElementType = (domNode, parentIndex, CSS_VARIABLES) => {\r\n    const tagName = domNode.tagName.toLowerCase();\r\n    const className = domNode.className || '';\r\n    const textContent = domNode.textContent?.trim() || '';\r\n    const computedStyle = window.getComputedStyle ? window.getComputedStyle(domNode) : {};\r\n\r\n    const children = Array.from(domNode.querySelectorAll('.lpb-child-element')).map((child, index) =>\r\n        parseChildElement(child, `${parentIndex}-${index}`, CSS_VARIABLES)\r\n    ).filter(Boolean);\r\n\r\n    switch (tagName) {\r\n        case 'h1':\r\n        case 'h2':\r\n        case 'h3':\r\n        case 'h4':\r\n        case 'h5':\r\n        case 'h6':\r\n            return {\r\n                type: 'heading',\r\n                componentData: {\r\n                    content: textContent,\r\n                    fontSize: computedStyle.fontSize || '1.5rem',\r\n                    color: computedStyle.color || CSS_VARIABLES['--text-primary'] || '#1f2937',\r\n                },\r\n                children: [],\r\n            };\r\n        case 'p':\r\n            return {\r\n                type: 'paragraph',\r\n                componentData: {\r\n                    content: textContent,\r\n                    fontSize: computedStyle.fontSize || '1rem',\r\n                    color: computedStyle.color || CSS_VARIABLES['--text-secondary'] || '#1f2937',\r\n                },\r\n                children: [],\r\n            };\r\n        case 'button':\r\n            return {\r\n                type: 'button',\r\n                componentData: {\r\n                    content: textContent,\r\n                    background: computedStyle.backgroundColor || CSS_VARIABLES['--primary'] || '#2563eb',\r\n                    color: computedStyle.color || CSS_VARIABLES['--text-inverse'] || '#fff',\r\n                },\r\n                children: [],\r\n            };\r\n        case 'img':\r\n            return {\r\n                type: 'image',\r\n                componentData: {\r\n                    src: domNode.src || 'https://via.placeholder.com/150',\r\n                    alt: domNode.alt || 'Image',\r\n                },\r\n                children: [],\r\n            };\r\n        case 'form':\r\n            const fields = Array.from(domNode.querySelectorAll('input')).map(input =>\r\n                input.placeholder || input.name || 'Input'\r\n            );\r\n            const submitButton = domNode.querySelector('button[type=\"submit\"]');\r\n            return {\r\n                type: 'form',\r\n                componentData: {\r\n                    title: domNode.querySelector('h3')?.textContent || '',\r\n                    fields: fields.length > 0 ? fields : ['Input'],\r\n                    buttonText: submitButton?.textContent || 'Submit',\r\n                },\r\n                children,\r\n            };\r\n        case 'hr':\r\n            return {\r\n                type: 'divider',\r\n                componentData: {},\r\n                children: [],\r\n            };\r\n        case 'div':\r\n            if (className.includes('popup')) {\r\n                return {\r\n                    type: 'popup',\r\n                    componentData: {\r\n                        title: domNode.querySelector('h3')?.textContent || '',\r\n                        content: domNode.querySelector('p')?.textContent || textContent,\r\n                        buttonText: domNode.querySelector('button')?.textContent || '',\r\n                    },\r\n                    children,\r\n                };\r\n            }\r\n            if (className.includes('modal')) {\r\n                return {\r\n                    type: 'modal',\r\n                    componentData: {\r\n                        title: domNode.querySelector('h3')?.textContent || '',\r\n                        content: domNode.querySelector('p')?.textContent || textContent,\r\n                        closeButton: !!domNode.querySelector('button'),\r\n                    },\r\n                    children,\r\n                };\r\n            }\r\n            if (className.includes('spacer') || parseFloat(computedStyle.height) < 10) {\r\n                return {\r\n                    type: 'spacer',\r\n                    componentData: {},\r\n                    children: [],\r\n                };\r\n            }\r\n            return {\r\n                type: className.includes('section') ? 'section' : 'container',\r\n                componentData: {\r\n                    title: domNode.querySelector('h2, h3')?.textContent || '',\r\n                    subtitle: domNode.querySelector('p:not(.lpb-child-element)')?.textContent || '',\r\n                    content: !domNode.querySelector('h2, h3, p, button') ? textContent : '',\r\n                    features: Array.from(domNode.querySelectorAll('li')).map(li => li.textContent.trim()),\r\n                    ctaText: domNode.querySelector('button:not([type=\"submit\"])')?.textContent || '',\r\n                },\r\n                children,\r\n            };\r\n        default:\r\n            return {\r\n                type: 'container',\r\n                componentData: { content: textContent },\r\n                children,\r\n            };\r\n    }\r\n};\r\n\r\nconst parseChildElement = (childNode, index, CSS_VARIABLES) => {\r\n    if (!childNode || childNode.nodeType !== Node.ELEMENT_NODE || !childNode.classList.contains('lpb-child-element')) {\r\n        return null;\r\n    }\r\n\r\n    const tagName = childNode.tagName.toLowerCase();\r\n    const textContent = childNode.textContent?.trim() || '';\r\n    const computedStyle = window.getComputedStyle ? window.getComputedStyle(childNode) : {};\r\n    const id = `child-${Date.now()}-${index}`;\r\n\r\n    switch (tagName) {\r\n        case 'h1':\r\n        case 'h2':\r\n        case 'h3':\r\n        case 'h4':\r\n        case 'h5':\r\n        case 'h6':\r\n            return {\r\n                id,\r\n                type: 'heading',\r\n                content: textContent,\r\n                componentData: {\r\n                    fontSize: computedStyle.fontSize || '1.5rem',\r\n                    color: computedStyle.color || CSS_VARIABLES['--text-primary'] || '#1f2937',\r\n                },\r\n                styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES),\r\n            };\r\n        case 'p':\r\n            return {\r\n                id,\r\n                type: 'paragraph',\r\n                content: textContent,\r\n                componentData: {\r\n                    fontSize: computedStyle.fontSize || '1rem',\r\n                    color: computedStyle.color || CSS_VARIABLES['--text-secondary'] || '#1f2937',\r\n                },\r\n                styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES),\r\n            };\r\n        case 'button':\r\n            return {\r\n                id,\r\n                type: 'button',\r\n                content: textContent,\r\n                componentData: {\r\n                    background: computedStyle.backgroundColor || CSS_VARIABLES['--primary'] || '#2563eb',\r\n                    color: computedStyle.color || CSS_VARIABLES['--text-inverse'] || '#fff',\r\n                },\r\n                styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES),\r\n            };\r\n        case 'input':\r\n            return {\r\n                id,\r\n                type: 'input',\r\n                content: childNode.placeholder || 'Input',\r\n                componentData: {\r\n                    placeholder: childNode.placeholder || 'Input',\r\n                    type: childNode.type || 'text',\r\n                },\r\n                styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES),\r\n            };\r\n        case 'li':\r\n            return {\r\n                id,\r\n                type: 'list-item',\r\n                content: textContent,\r\n                componentData: {},\r\n                styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES),\r\n            };\r\n        case 'img':\r\n            return {\r\n                id,\r\n                type: 'image',\r\n                content: childNode.src || 'https://via.placeholder.com/150',\r\n                componentData: {\r\n                    src: childNode.src || 'https://via.placeholder.com/150',\r\n                    alt: childNode.alt || 'Image',\r\n                },\r\n                styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES),\r\n            };\r\n        default:\r\n            return {\r\n                id,\r\n                type: 'text',\r\n                content: textContent,\r\n                componentData: {},\r\n                styles: extractStylesFromDOM(childNode.style, CSS_VARIABLES),\r\n            };\r\n    }\r\n};\r\n\r\nconst extractStylesFromDOM = (styleObj, CSS_VARIABLES) => {\r\n    const cleanStyles = {};\r\n    const importantProps = [\r\n        'backgroundColor', 'color', 'fontSize', 'fontWeight', 'fontFamily',\r\n        'textAlign', 'padding', 'margin', 'border', 'borderRadius',\r\n        'boxShadow', 'opacity', 'display', 'flexDirection', 'alignItems',\r\n        'justifyContent', 'gap', 'minHeight', 'maxWidth', 'width', 'height'\r\n    ];\r\n\r\n    importantProps.forEach(prop => {\r\n        if (styleObj[prop]) {\r\n            cleanStyles[prop] = styleObj[prop];\r\n        }\r\n    });\r\n\r\n    // Áp dụng giá trị mặc định từ CSS_VARIABLES\r\n    cleanStyles['border-radius'] = cleanStyles['border-radius'] || CSS_VARIABLES['--border-radius'] || '8px';\r\n    cleanStyles['background-color'] = cleanStyles['background-color'] || CSS_VARIABLES['--white'] || '#ffffff';\r\n    cleanStyles['box-shadow'] = cleanStyles['box-shadow'] || CSS_VARIABLES['--shadow'] || '0 4px 6px -1px rgba(0, 0, 0, 0.1)';\r\n\r\n    return cleanStyles;\r\n};\r\n\r\nconst renderStaticHTML = (pageData, CSS_VARIABLES) => {\r\n    console.log('Rendering static HTML with pageData:', JSON.stringify(pageData, null, 2));\r\n\r\n    let html = `<!DOCTYPE html>\r\n<html lang=\"vi\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Landing Page</title>\r\n    <style>\r\n        :root {\r\n            --primary: ${CSS_VARIABLES['--primary'] || '#6366f1'};\r\n            --primary-dark: ${CSS_VARIABLES['--primary-dark'] || '#4f46e5'};\r\n            --primary-light: ${CSS_VARIABLES['--primary-light'] || '#a5b4fc'};\r\n            --secondary: ${CSS_VARIABLES['--secondary'] || '#f1f5f9'};\r\n            --accent: ${CSS_VARIABLES['--accent'] || '#06b6d4'};\r\n            --success: ${CSS_VARIABLES['--success'] || '#10b981'};\r\n            --warning: ${CSS_VARIABLES['--warning'] || '#f59e0b'};\r\n            --danger: ${CSS_VARIABLES['--danger'] || '#ef4444'};\r\n            --dark: ${CSS_VARIABLES['--dark'] || '#1e293b'};\r\n            --light: ${CSS_VARIABLES['--light'] || '#f8fafc'};\r\n            --white: ${CSS_VARIABLES['--white'] || '#ffffff'};\r\n            --text-primary: ${CSS_VARIABLES['--text-primary'] || '#334155'};\r\n            --text-secondary: ${CSS_VARIABLES['--text-secondary'] || '#64748b'};\r\n            --text-light: ${CSS_VARIABLES['--text-light'] || '#94a3b8'};\r\n            --text-inverse: ${CSS_VARIABLES['--text-inverse'] || '#ffffff'};\r\n            --border-color: ${CSS_VARIABLES['--border-color'] || '#e2e8f0'};\r\n            --border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'};\r\n            --border-radius-lg: ${CSS_VARIABLES['--border-radius-lg'] || '12px'};\r\n            --border-radius-xl: ${CSS_VARIABLES['--border-radius-xl'] || '16px'};\r\n            --shadow-sm: ${CSS_VARIABLES['--shadow-sm'] || '0 1px 2px 0 rgba(0, 0, 0, 0.05)'};\r\n            --shadow: ${CSS_VARIABLES['--shadow'] || '0 4px 6px -1px rgba(0, 0, 0, 0.1)'};\r\n            --shadow-lg: ${CSS_VARIABLES['--shadow-lg'] || '0 10px 15px -3px rgba(0, 0, 0, 0.1)'};\r\n            --shadow-xl: ${CSS_VARIABLES['--shadow-xl'] || '0 20px 25px -5px rgba(0, 0, 0, 0.1)'};\r\n            --canvas-desktop: ${CSS_VARIABLES['--canvas-desktop'] || '1200px'};\r\n            --canvas-tablet: ${CSS_VARIABLES['--canvas-tablet'] || '768px'};\r\n            --canvas-mobile: ${CSS_VARIABLES['--canvas-mobile'] || '375px'};\r\n        }\r\n        body { \r\n            font-family: 'Inter', Arial, sans-serif; \r\n            margin: 0; \r\n            padding: 0; \r\n            background: ${pageData.canvas?.background || CSS_VARIABLES['--white'] || '#ffffff'};\r\n        }\r\n        .page-container { \r\n            position: relative; \r\n            width: ${pageData.canvas?.width || CSS_VARIABLES['--canvas-desktop'] || 1200}px; \r\n            min-height: 600px; \r\n            margin: 0 auto; \r\n            background: ${pageData.canvas?.background || CSS_VARIABLES['--white'] || '#ffffff'};\r\n            border-radius: ${CSS_VARIABLES['--border-radius-xl'] || '16px'};\r\n            box-shadow: ${CSS_VARIABLES['--shadow-xl'] || '0 20px 25px -5px rgba(0, 0, 0, 0.1)'};\r\n        }\r\n        .lpb-canvas-element { position: absolute; }\r\n        .lpb-child-element { margin: 5px 0; padding: 5px; }\r\n        @media (max-width: 768px) {\r\n            .page-container { width: ${CSS_VARIABLES['--canvas-tablet'] || '768px'}; }\r\n        }\r\n        @media (max-width: 375px) {\r\n            .page-container { width: ${CSS_VARIABLES['--canvas-mobile'] || '375px'}; }\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"page-container\">`;\r\n\r\n    pageData.elements.forEach((element) => {\r\n        html += renderElementHTML(element, CSS_VARIABLES);\r\n    });\r\n\r\n    html += `\r\n    </div>\r\n</body>\r\n</html>`;\r\n\r\n    return html;\r\n};\r\n\r\nconst renderElementHTML = (element, CSS_VARIABLES) => {\r\n    const { type, componentData = {}, position = {}, size = {}, styles = {}, children = [] } = element;\r\n\r\n    const positionStyles = position?.desktop\r\n        ? `position: absolute; left: ${position.desktop.x}px; top: ${position.desktop.y}px;`\r\n        : '';\r\n    const sizeStyles = size\r\n        ? `width: ${size.width}px; height: ${size.height}px;`\r\n        : '';\r\n    const customStyles = styles\r\n        ? Object.entries(styles).map(([key, value]) => `${key}: ${value};`).join(' ')\r\n        : '';\r\n    const allStyles = `${positionStyles} ${sizeStyles} ${customStyles}`;\r\n\r\n    let elementHtml = `<div class=\"lpb-canvas-element\" style=\"${allStyles}\" data-type=\"${type}\" data-element-id=\"${element.id}\">`;\r\n\r\n    elementHtml += renderElementContent(type, componentData, children, CSS_VARIABLES);\r\n\r\n    elementHtml += `</div>`;\r\n\r\n    return elementHtml;\r\n};\r\n\r\nconst renderElementContent = (type, componentData, children = [], CSS_VARIABLES) => {\r\n    let content = '';\r\n\r\n    switch (type) {\r\n        case 'heading':\r\n            content = `<h2 class=\"lpb-child-element\" style=\"font-size: ${componentData.fontSize || '1.5rem'}; color: ${componentData.color || CSS_VARIABLES['--text-primary'] || '#1f2937'}; margin: 0; padding: 0;\">${componentData.content || 'Tiêu đề'}</h2>`;\r\n            break;\r\n        case 'paragraph':\r\n            content = `<p class=\"lpb-child-element\" style=\"font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || CSS_VARIABLES['--text-secondary'] || '#1f2937'}; margin: 0; padding: 0;\">${componentData.content || 'Đoạn văn'}</p>`;\r\n            break;\r\n        case 'button':\r\n            content = `<button class=\"lpb-child-element\" style=\"padding: 8px 16px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${componentData.background || CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${componentData.color || CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer;\">${componentData.content || 'Nút'}</button>`;\r\n            break;\r\n        case 'image':\r\n            content = `<img class=\"lpb-child-element\" src=\"${componentData.src || 'https://via.placeholder.com/150'}\" alt=\"${componentData.alt || 'Image'}\" style=\"max-width: 100%; height: auto;\" draggable=\"false\" />`;\r\n            break;\r\n        case 'form':\r\n            content = '<form class=\"lpb-child-element\" style=\"display: flex; flex-direction: column; gap: 10px;\">';\r\n            if (componentData.title) {\r\n                content += `<h3 style=\"margin: 0; font-size: 1.2rem;\">${componentData.title}</h3>`;\r\n            }\r\n            if (componentData.fields) {\r\n                componentData.fields.forEach(field => {\r\n                    content += `<input type=\"text\" placeholder=\"${field}\" style=\"padding: 8px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; border: 1px solid ${CSS_VARIABLES['--border-color'] || '#ccc'};\" />`;\r\n                });\r\n            }\r\n            content += `<button type=\"submit\" style=\"background: ${CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${CSS_VARIABLES['--text-inverse'] || '#fff'}; padding: 8px 16px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; border: none; cursor: pointer;\">${componentData.buttonText || 'Submit'}</button>`;\r\n            content += '</form>';\r\n            break;\r\n        case 'section':\r\n        case 'container':\r\n        case 'group':\r\n            content = '<div class=\"lpb-child-element\" style=\"display: flex; flex-direction: column; gap: 10px; min-height: 100px; padding: 20px;\">';\r\n            if (componentData.title && !children.some(child => child.type === 'heading')) {\r\n                content += `<h2 style=\"font-size: 1.8rem; margin: 0;\">${componentData.title}</h2>`;\r\n            }\r\n            if (componentData.subtitle && !children.some(child => child.type === 'paragraph')) {\r\n                content += `<p style=\"font-size: 1.2rem; margin: 0;\">${componentData.subtitle}</p>`;\r\n            }\r\n            if (componentData.content && !children.some(child => child.type === 'paragraph')) {\r\n                content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\r\n            }\r\n            if (componentData.features && !children.some(child => child.type === 'list-item')) {\r\n                content += '<ul style=\"list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 8px;\">';\r\n                componentData.features.forEach(feature => {\r\n                    content += `<li style=\"font-size: 1rem;\">${feature}</li>`;\r\n                });\r\n                content += '</ul>';\r\n            }\r\n            if (componentData.ctaText && !children.some(child => child.type === 'button')) {\r\n                content += `<button style=\"padding: 10px 20px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer;\">${componentData.ctaText}</button>`;\r\n            }\r\n            children.forEach(child => {\r\n                content += renderChildHTML(child, CSS_VARIABLES);\r\n            });\r\n            content += '</div>';\r\n            break;\r\n        case 'divider':\r\n            content = `<hr class=\"lpb-child-element\" style=\"border: none; background: ${CSS_VARIABLES['--border-color'] || '#e5e7eb'}; height: 2px;\" />`;\r\n            break;\r\n        case 'spacer':\r\n            content = `<div class=\"lpb-child-element\" style=\"background: transparent; height: ${componentData.height || '20px'};\"></div>`;\r\n            break;\r\n        case 'popup':\r\n            content = '<div class=\"lpb-child-element popup\" style=\"display: flex; flex-direction: column; gap: 10px; text-align: center;\">';\r\n            if (componentData.title) {\r\n                content += `<h3 style=\"font-size: 1.5rem; margin: 0;\">${componentData.title}</h3>`;\r\n            }\r\n            if (componentData.content) {\r\n                content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\r\n            }\r\n            if (componentData.buttonText) {\r\n                content += `<button style=\"padding: 10px 20px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer;\">${componentData.buttonText}</button>`;\r\n            }\r\n            children.forEach(child => {\r\n                content += renderChildHTML(child, CSS_VARIABLES);\r\n            });\r\n            content += '</div>';\r\n            break;\r\n        case 'modal':\r\n            content = '<div class=\"lpb-child-element modal\" style=\"display: flex; flex-direction: column; gap: 10px;\">';\r\n            if (componentData.title) {\r\n                content += `<h3 style=\"font-size: 1.5rem; margin: 0;\">${componentData.title}</h3>`;\r\n            }\r\n            if (componentData.content) {\r\n                content += `<p style=\"font-size: 1rem; margin: 0;\">${componentData.content}</p>`;\r\n            }\r\n            if (componentData.closeButton) {\r\n                content += `<button style=\"padding: 8px 16px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${CSS_VARIABLES['--dark'] || '#6b7280'}; color: ${CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer; align-self: flex-end;\">Close</button>`;\r\n            }\r\n            children.forEach(child => {\r\n                content += renderChildHTML(child, CSS_VARIABLES);\r\n            });\r\n            content += '</div>';\r\n            break;\r\n        default:\r\n            content = `<div class=\"lpb-child-element\" style=\"color: ${CSS_VARIABLES['--danger'] || '#ff0000'};\">Unknown Component: ${type}</div>`;\r\n    }\r\n\r\n    return content;\r\n};\r\n\r\nconst renderChildHTML = (child, CSS_VARIABLES) => {\r\n    const { type, content, componentData = {}, styles = {} } = child;\r\n    const styleStr = Object.entries(styles).map(([key, value]) => `${key}: ${value};`).join(' ');\r\n\r\n    switch (type) {\r\n        case 'heading':\r\n            return `<h2 class=\"lpb-child-element\" style=\"${styleStr} font-size: ${componentData.fontSize || '1.5rem'}; color: ${componentData.color || CSS_VARIABLES['--text-primary'] || '#1f2937'}; margin: 0; padding: 0;\">${content || 'Tiêu đề'}</h2>`;\r\n        case 'paragraph':\r\n            return `<p class=\"lpb-child-element\" style=\"${styleStr} font-size: ${componentData.fontSize || '1rem'}; color: ${componentData.color || CSS_VARIABLES['--text-secondary'] || '#1f2937'}; margin: 0; padding: 0;\">${content || 'Đoạn văn'}</p>`;\r\n        case 'button':\r\n            return `<button class=\"lpb-child-element\" style=\"${styleStr} padding: 8px 16px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; background: ${componentData.background || CSS_VARIABLES['--primary'] || '#2563eb'}; color: ${componentData.color || CSS_VARIABLES['--text-inverse'] || '#fff'}; border: none; cursor: pointer;\">${content || 'Nút'}</button>`;\r\n        case 'input':\r\n            return `<input class=\"lpb-child-element\" type=\"${componentData.type || 'text'}\" placeholder=\"${componentData.placeholder || 'Input'}\" style=\"${styleStr} padding: 8px; border-radius: ${CSS_VARIABLES['--border-radius'] || '8px'}; border: 1px solid ${CSS_VARIABLES['--border-color'] || '#ccc'};\" />`;\r\n        case 'list-item':\r\n            return `<li class=\"lpb-child-element\" style=\"${styleStr} font-size: 1rem;\">${content}</li>`;\r\n        case 'image':\r\n            return `<img class=\"lpb-child-element\" src=\"${componentData.src || content || 'https://via.placeholder.com/150'}\" alt=\"${componentData.alt || 'Image'}\" style=\"${styleStr} max-width: 100%; height: auto;\" />`;\r\n        default:\r\n            return `<span class=\"lpb-child-element\" style=\"${styleStr}\">${content}</span>`;\r\n    }\r\n};\r\n\r\nexport { parseHTMLToPageData, renderStaticHTML };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}