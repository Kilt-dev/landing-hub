{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\Canvas.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useRef, useMemo, useCallback, useState } from 'react';\nimport { useDrop, useDrag } from 'react-dnd';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { toast } from 'react-toastify';\nimport QuickEditToolkit from './QuickEditToolkit';\nimport '../../styles/CanvasStyles.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ItemTypes = {\n  SECTION: 'section',\n  ELEMENT: 'element',\n  EXISTING_ELEMENT: 'existingElement'\n};\nconst Element = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c = _s(({\n  component,\n  index,\n  isSelected,\n  hasQuickEdit,\n  onSelectElement,\n  handleElementHover,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  updatePosition,\n  canvasRef,\n  sectionId\n}) => {\n  _s();\n  const [{\n    isDragging\n  }, drag] = useDrag(() => ({\n    type: ItemTypes.EXISTING_ELEMENT,\n    item: {\n      id: component.id\n    },\n    end: (item, monitor) => {\n      const delta = monitor.getDifferenceFromInitialOffset();\n      if (delta && canvasRef.current && sectionId) {\n        // Cập nhật position trong JSON cho grid (sử dụng grid-column/row thay vì x/y)\n        const newGridPos = {\n          gridColumn: component.json.styles.gridColumn || '1',\n          gridRow: component.json.styles.gridRow || '1'\n        };\n        // Điều chỉnh dựa trên delta (có thể map delta sang grid index)\n        updatePosition(component.id, sectionId, {\n          ...component.json.styles,\n          gridColumn: newGridPos.gridColumn,\n          gridRow: newGridPos.gridRow\n        });\n      }\n    },\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging()\n    })\n  }));\n  const handleMouseDown = e => {\n    e.stopPropagation();\n    onSelectElement(component);\n  };\n  const renderContent = () => {\n    const {\n      type,\n      content,\n      styles\n    } = component.json;\n    const styleProps = {\n      ...styles,\n      maxWidth: '100%',\n      boxSizing: 'border-box',\n      // Áp dụng grid position từ JSON\n      gridColumn: styles.gridColumn || 'auto',\n      gridRow: styles.gridRow || 'auto'\n    };\n    switch (type) {\n      case 'heading':\n        return /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styleProps,\n          children: content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 28\n        }, this);\n      case 'paragraph':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styleProps,\n          children: content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 28\n        }, this);\n      case 'button':\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styleProps,\n          children: content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 28\n        }, this);\n      case 'button-group':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: content.map((btn, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...styles,\n              marginRight: idx < content.length - 1 ? '10px' : 0\n            },\n            children: btn\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this);\n      case 'form':\n        return /*#__PURE__*/_jsxDEV(\"form\", {\n          style: styleProps,\n          children: [content.fields.map((field, idx) => /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: field,\n            style: {\n              marginBottom: '8px',\n              width: '100%',\n              ...styles\n            }\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              ...styles,\n              marginTop: '8px'\n            },\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: content || 'https://via.placeholder.com/400x300',\n          alt: \"Image\",\n          style: {\n            ...styleProps,\n            maxWidth: '100%',\n            height: 'auto'\n          },\n          onError: e => e.target.src = '/fallback-image.jpg'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 28\n        }, this);\n      case 'gallery':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: content.map((src, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: src || 'https://via.placeholder.com/200x150',\n            alt: `Gallery ${idx}`,\n            style: {\n              width: '100px',\n              marginRight: '8px',\n              ...styles\n            },\n            onError: e => e.target.src = '/fallback-image.jpg'\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this);\n      case 'product-list':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: content.map((prod, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '10px',\n              ...styles\n            },\n            children: prod.title\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this);\n      case 'popup':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 28\n        }, this);\n      case 'hero':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: content.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this), content.subtitle && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: content.subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 50\n          }, this), content.image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: content.image || 'https://via.placeholder.com/600x400',\n            alt: \"Hero\",\n            style: {\n              width: '100%',\n              height: 'auto'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this);\n      case 'testimonials':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: content.map((testimonial, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: '1px solid #ddd',\n              padding: '10px',\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: testimonial.quote\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: testimonial.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 37\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this);\n      case 'pricing':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: content.map((plan, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: '15px',\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: plan.plan\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: plan.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: {\n                listStyle: 'none',\n                padding: 0\n              },\n              children: plan.features.map((feature, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: feature\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 45\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 37\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this);\n      case 'faq':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: content.map((item, idx) => /*#__PURE__*/_jsxDEV(\"details\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n              style: {\n                cursor: 'pointer',\n                fontWeight: 'bold'\n              },\n              children: item.question\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.answer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 37\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }, this);\n      case 'video':\n        return /*#__PURE__*/_jsxDEV(\"iframe\", {\n          src: content,\n          style: {\n            ...styleProps,\n            width: '100%',\n            height: '300px',\n            border: 'none'\n          },\n          title: \"Embedded Video\",\n          allowFullScreen: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this);\n      case 'features':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: content.map((feature, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: feature.icon,\n              style: {\n                marginRight: '10px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: feature.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: feature.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 37\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }, this);\n      case 'social-proof':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: [content.stats && content.stats.map((stat, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginRight: '20px'\n            },\n            children: stat\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 33\n          }, this)), content.logos && content.logos.map((logo, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo || 'https://via.placeholder.com/100x50',\n            alt: `Logo ${idx}`,\n            style: {\n              height: '50px'\n            }\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this);\n      case 'benefits':\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            ...styleProps,\n            listStyle: 'none',\n            padding: 0\n          },\n          children: content.map((benefit, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: benefit\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 25\n        }, this);\n      case 'footer':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: [content.links && content.links.map((link, idx) => /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            style: {\n              marginRight: '10px'\n            },\n            children: link\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 33\n          }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: content.copyright\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styleProps,\n          children: component.name || 'Unknown'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 28\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: drag,\n    className: `landing-page-builder-element-item ${isSelected ? 'landing-page-builder-element-item-selected' : ''} ${isDragging ? 'landing-page-builder-element-item-dragging' : ''}`,\n    onMouseEnter: e => handleElementHover(e, component),\n    onMouseDown: handleMouseDown,\n    children: renderContent()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 13\n  }, this);\n}, \"wuumsFp4qAni9XRJfRhQAZjuD/k=\", false, function () {\n  return [useDrag];\n})), \"wuumsFp4qAni9XRJfRhQAZjuD/k=\", false, function () {\n  return [useDrag];\n});\n_c2 = Element;\nconst Section = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c3 = _s2(({\n  section,\n  index,\n  selectedElement,\n  onSelectElement,\n  handleElementHover,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  updatePosition,\n  addElement,\n  canvasRef,\n  moveElement\n}) => {\n  var _section$json$content;\n  _s2();\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: [ItemTypes.ELEMENT, ItemTypes.EXISTING_ELEMENT],\n    hover: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      if (clientOffset && canvasRef.current) {\n        const rect = canvasRef.current.getBoundingClientRect();\n        const y = clientOffset.y - rect.top;\n        // Logic để xác định index drop trong section grid\n      }\n    },\n    drop: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      if (!clientOffset || !canvasRef.current) {\n        toast.error('Không thể xác định vị trí thả. Vui lòng thử lại!');\n        return;\n      }\n      const rect = canvasRef.current.getBoundingClientRect();\n      const position = {\n        gridColumn: '1',\n        // Mặc định grid position\n        gridRow: section.elements.length + 1\n      };\n      if (item.componentData) {\n        addElement(section.id, {\n          ...item.componentData,\n          json: {\n            ...item.componentData.json,\n            styles: {\n              ...item.componentData.json.styles,\n              ...position\n            }\n          }\n        }, section.elements.length);\n      } else {\n        moveElement(section.id, item.id, section.elements.length);\n      }\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: drop,\n    className: `landing-page-builder-section-container ${isOver ? 'landing-page-builder-section-container-over' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"landing-page-builder-section-title\",\n      children: ((_section$json$content = section.json.content) === null || _section$json$content === void 0 ? void 0 : _section$json$content.title) || 'Section'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"landing-page-builder-section-grid-content\",\n      children: section.elements.map((element, idx) => /*#__PURE__*/_jsxDEV(Element, {\n        component: element,\n        index: idx,\n        isSelected: (selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === element.id,\n        hasQuickEdit: false,\n        onSelectElement: onSelectElement,\n        handleElementHover: handleElementHover,\n        onDuplicateElement: onDuplicateElement,\n        onDeleteElement: onDeleteElement,\n        onMoveElement: onMoveElement,\n        updatePosition: updatePosition,\n        canvasRef: canvasRef,\n        sectionId: section.id\n      }, element.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 13\n  }, this);\n}, \"9166pYLrZ/JzF75YDim8ZjfICTM=\", false, function () {\n  return [useDrop];\n})), \"9166pYLrZ/JzF75YDim8ZjfICTM=\", false, function () {\n  return [useDrop];\n});\n_c4 = Section;\nconst Canvas = /*#__PURE__*/_s3(/*#__PURE__*/React.memo(_c5 = _s3(({\n  pageStructure,\n  selectedElement,\n  onSelectElement,\n  quickEditElement,\n  quickEditPosition,\n  onQuickEdit,\n  onCloseQuickEdit,\n  onDuplicateElement,\n  onDeleteElement,\n  onMoveElement,\n  viewMode,\n  addSection,\n  addElement,\n  moveElement,\n  ItemTypes,\n  zoomLevel,\n  setPageStructure,\n  updatePosition // Thêm prop này để sửa lỗi\n}) => {\n  _s3();\n  const canvasRef = useRef(null);\n  const [dropIndex, setDropIndex] = useState(null);\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: [ItemTypes.SECTION],\n    hover: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      if (clientOffset && canvasRef.current) {\n        const rect = canvasRef.current.getBoundingClientRect();\n        const y = clientOffset.y - rect.top;\n        const index = Math.min(pageStructure.length, Math.floor(y / 200));\n        setDropIndex(index);\n        if (item.componentData) {\n          item.componentData.json.styles = {\n            ...item.componentData.json.styles,\n            gridRow: index + 1 // Sử dụng grid row cho sections\n          };\n        }\n      }\n    },\n    drop: (item, monitor) => {\n      const clientOffset = monitor.getClientOffset();\n      if (!clientOffset || !canvasRef.current) {\n        toast.error('Không thể xác định vị trí thả. Vui lòng thử lại!');\n        return;\n      }\n      const rect = canvasRef.current.getBoundingClientRect();\n      const position = {\n        gridRow: Math.min(pageStructure.length, Math.floor((clientOffset.y - rect.top) / 200)) + 1\n      };\n      const index = Math.min(pageStructure.length, Math.floor((clientOffset.y - rect.top) / 200));\n      addSection({\n        ...item.componentData,\n        json: {\n          ...item.componentData.json,\n          styles: {\n            ...item.componentData.json.styles,\n            ...position\n          }\n        }\n      }, index);\n      setDropIndex(null);\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }));\n  const handleElementHover = useCallback((e, component) => {\n    var _canvasRef$current;\n    if ((quickEditElement === null || quickEditElement === void 0 ? void 0 : quickEditElement.id) === component.id) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const canvasRect = ((_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.getBoundingClientRect()) || {\n      left: 0,\n      top: 0\n    };\n    onQuickEdit(component, {\n      x: rect.left - canvasRect.left,\n      y: rect.top - canvasRect.top + 20\n    });\n  }, [quickEditElement, onQuickEdit]);\n  useHotkeys('delete', () => {\n    if (selectedElement) {\n      onDeleteElement(selectedElement);\n    }\n  }, [selectedElement, onDeleteElement]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"landing-page-builder-canvas-main-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: node => {\n        canvasRef.current = node;\n        drop(node);\n      },\n      className: `landing-page-builder-canvas-core-container ${viewMode === 'mobile' ? 'landing-page-builder-canvas-core-container-mobile' : viewMode === 'tablet' ? 'landing-page-builder-canvas-core-container-tablet' : 'landing-page-builder-canvas-core-container-desktop'}`,\n      onMouseLeave: onCloseQuickEdit,\n      style: {\n        transform: `scale(${zoomLevel / 100})`\n      } // Sử dụng transform thay zoom để tránh reflow\n      ,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"landing-page-builder-canvas-overall-grid-wrapper\",\n        children: pageStructure.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"landing-page-builder-canvas-empty-grid-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-layer-group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"K\\xE9o th\\u1EA3 section \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [pageStructure.map((section, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [dropIndex === index && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"landing-page-builder-canvas-section-drop-indicator\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(Section, {\n              section: section,\n              index: index,\n              selectedElement: selectedElement,\n              onSelectElement: onSelectElement,\n              handleElementHover: handleElementHover,\n              onDuplicateElement: onDuplicateElement,\n              onDeleteElement: onDeleteElement,\n              onMoveElement: onMoveElement,\n              updatePosition: updatePosition,\n              addElement: addElement,\n              canvasRef: canvasRef,\n              moveElement: moveElement\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 41\n            }, this)]\n          }, section.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 37\n          }, this)), dropIndex === pageStructure.length && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"landing-page-builder-canvas-section-drop-indicator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 72\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(QuickEditToolkit, {\n        element: quickEditElement,\n        position: quickEditPosition,\n        onEdit: () => onSelectElement(quickEditElement),\n        onDuplicate: () => onDuplicateElement(quickEditElement),\n        onDelete: () => onDeleteElement(quickEditElement),\n        onMoveUp: () => onMoveElement(quickEditElement, 'up'),\n        onMoveDown: () => onMoveElement(quickEditElement, 'down'),\n        onClose: onCloseQuickEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 370,\n    columnNumber: 13\n  }, this);\n}, \"Ln2p0LjsxM69h+68q9rI3/RiQ1c=\", false, function () {\n  return [useDrop, useHotkeys];\n})), \"Ln2p0LjsxM69h+68q9rI3/RiQ1c=\", false, function () {\n  return [useDrop, useHotkeys];\n});\n_c6 = Canvas;\nexport default Canvas;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Element$React.memo\");\n$RefreshReg$(_c2, \"Element\");\n$RefreshReg$(_c3, \"Section$React.memo\");\n$RefreshReg$(_c4, \"Section\");\n$RefreshReg$(_c5, \"Canvas$React.memo\");\n$RefreshReg$(_c6, \"Canvas\");","map":{"version":3,"names":["React","useRef","useMemo","useCallback","useState","useDrop","useDrag","useHotkeys","toast","QuickEditToolkit","jsxDEV","_jsxDEV","Fragment","_Fragment","ItemTypes","SECTION","ELEMENT","EXISTING_ELEMENT","Element","_s","memo","_c","component","index","isSelected","hasQuickEdit","onSelectElement","handleElementHover","onDuplicateElement","onDeleteElement","onMoveElement","updatePosition","canvasRef","sectionId","isDragging","drag","type","item","id","end","monitor","delta","getDifferenceFromInitialOffset","current","newGridPos","gridColumn","json","styles","gridRow","collect","handleMouseDown","e","stopPropagation","renderContent","content","styleProps","maxWidth","boxSizing","style","children","fileName","_jsxFileName","lineNumber","columnNumber","map","btn","idx","marginRight","length","fields","field","placeholder","marginBottom","width","marginTop","src","alt","height","onError","target","prod","title","subtitle","image","testimonial","border","padding","quote","author","plan","textAlign","price","listStyle","features","feature","i","cursor","fontWeight","question","answer","allowFullScreen","display","alignItems","className","icon","description","stats","stat","logos","logo","benefit","links","link","href","copyright","name","ref","onMouseEnter","onMouseDown","_c2","Section","_s2","_c3","section","selectedElement","addElement","moveElement","_section$json$content","isOver","drop","accept","hover","clientOffset","getClientOffset","rect","getBoundingClientRect","y","top","error","position","elements","componentData","element","_c4","Canvas","_s3","_c5","pageStructure","quickEditElement","quickEditPosition","onQuickEdit","onCloseQuickEdit","viewMode","addSection","zoomLevel","setPageStructure","dropIndex","setDropIndex","Math","min","floor","_canvasRef$current","currentTarget","canvasRect","left","x","node","onMouseLeave","transform","onEdit","onDuplicate","onDelete","onMoveUp","onMoveDown","onClose","_c6","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/Canvas.js"],"sourcesContent":["import React, { useRef, useMemo, useCallback, useState } from 'react';\r\nimport { useDrop, useDrag } from 'react-dnd';\r\nimport { useHotkeys } from 'react-hotkeys-hook';\r\nimport { toast } from 'react-toastify';\r\nimport QuickEditToolkit from './QuickEditToolkit';\r\nimport '../../styles/CanvasStyles.css';\r\n\r\nconst ItemTypes = {\r\n    SECTION: 'section',\r\n    ELEMENT: 'element',\r\n    EXISTING_ELEMENT: 'existingElement',\r\n};\r\n\r\nconst Element = React.memo(\r\n    ({ component, index, isSelected, hasQuickEdit, onSelectElement, handleElementHover, onDuplicateElement, onDeleteElement, onMoveElement, updatePosition, canvasRef, sectionId }) => {\r\n        const [{ isDragging }, drag] = useDrag(() => ({\r\n            type: ItemTypes.EXISTING_ELEMENT,\r\n            item: { id: component.id },\r\n            end: (item, monitor) => {\r\n                const delta = monitor.getDifferenceFromInitialOffset();\r\n                if (delta && canvasRef.current && sectionId) {\r\n                    // Cập nhật position trong JSON cho grid (sử dụng grid-column/row thay vì x/y)\r\n                    const newGridPos = {\r\n                        gridColumn: component.json.styles.gridColumn || '1',\r\n                        gridRow: component.json.styles.gridRow || '1',\r\n                    };\r\n                    // Điều chỉnh dựa trên delta (có thể map delta sang grid index)\r\n                    updatePosition(component.id, sectionId, { ...component.json.styles, gridColumn: newGridPos.gridColumn, gridRow: newGridPos.gridRow });\r\n                }\r\n            },\r\n            collect: (monitor) => ({\r\n                isDragging: !!monitor.isDragging(),\r\n            }),\r\n        }));\r\n\r\n        const handleMouseDown = (e) => {\r\n            e.stopPropagation();\r\n            onSelectElement(component);\r\n        };\r\n\r\n        const renderContent = () => {\r\n            const { type, content, styles } = component.json;\r\n            const styleProps = {\r\n                ...styles,\r\n                maxWidth: '100%',\r\n                boxSizing: 'border-box',\r\n                // Áp dụng grid position từ JSON\r\n                gridColumn: styles.gridColumn || 'auto',\r\n                gridRow: styles.gridRow || 'auto',\r\n            };\r\n            switch (type) {\r\n                case 'heading':\r\n                    return <h2 style={styleProps}>{content}</h2>;\r\n                case 'paragraph':\r\n                    return <p style={styleProps}>{content}</p>;\r\n                case 'button':\r\n                    return <button style={styleProps}>{content}</button>;\r\n                case 'button-group':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            {content.map((btn, idx) => (\r\n                                <button key={idx} style={{ ...styles, marginRight: idx < content.length - 1 ? '10px' : 0 }}>\r\n                                    {btn}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    );\r\n                case 'form':\r\n                    return (\r\n                        <form style={styleProps}>\r\n                            {content.fields.map((field, idx) => (\r\n                                <input\r\n                                    key={idx}\r\n                                    type=\"text\"\r\n                                    placeholder={field}\r\n                                    style={{ marginBottom: '8px', width: '100%', ...styles }}\r\n                                />\r\n                            ))}\r\n                            <button type=\"submit\" style={{ ...styles, marginTop: '8px' }}>Submit</button>\r\n                        </form>\r\n                    );\r\n                case 'image':\r\n                    return <img src={content || 'https://via.placeholder.com/400x300'} alt=\"Image\" style={{ ...styleProps, maxWidth: '100%', height: 'auto' }} onError={(e) => (e.target.src = '/fallback-image.jpg')} />;\r\n                case 'gallery':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            {content.map((src, idx) => (\r\n                                <img\r\n                                    key={idx}\r\n                                    src={src || 'https://via.placeholder.com/200x150'}\r\n                                    alt={`Gallery ${idx}`}\r\n                                    style={{ width: '100px', marginRight: '8px', ...styles }}\r\n                                    onError={(e) => (e.target.src = '/fallback-image.jpg')}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    );\r\n                case 'product-list':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            {content.map((prod, idx) => (\r\n                                <div key={idx} style={{ marginBottom: '10px', ...styles }}>\r\n                                    {prod.title}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    );\r\n                case 'popup':\r\n                    return <div style={styleProps}>{content}</div>;\r\n                case 'hero':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            <h1>{content.title}</h1>\r\n                            {content.subtitle && <p>{content.subtitle}</p>}\r\n                            {content.image && <img src={content.image || 'https://via.placeholder.com/600x400'} alt=\"Hero\" style={{ width: '100%', height: 'auto' }} />}\r\n                        </div>\r\n                    );\r\n                case 'testimonials':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            {content.map((testimonial, idx) => (\r\n                                <div key={idx} style={{ border: '1px solid #ddd', padding: '10px', marginBottom: '10px' }}>\r\n                                    <p>{testimonial.quote}</p>\r\n                                    <small>{testimonial.author}</small>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    );\r\n                case 'pricing':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            {content.map((plan, idx) => (\r\n                                <div key={idx} style={{ border: '1px solid #ccc', padding: '15px', textAlign: 'center' }}>\r\n                                    <h3>{plan.plan}</h3>\r\n                                    <p>{plan.price}</p>\r\n                                    <ul style={{ listStyle: 'none', padding: 0 }}>\r\n                                        {plan.features.map((feature, i) => (\r\n                                            <li key={i}>{feature}</li>\r\n                                        ))}\r\n                                    </ul>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    );\r\n                case 'faq':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            {content.map((item, idx) => (\r\n                                <details key={idx} style={{ marginBottom: '10px' }}>\r\n                                    <summary style={{ cursor: 'pointer', fontWeight: 'bold' }}>{item.question}</summary>\r\n                                    <p>{item.answer}</p>\r\n                                </details>\r\n                            ))}\r\n                        </div>\r\n                    );\r\n                case 'video':\r\n                    return (\r\n                        <iframe\r\n                            src={content}\r\n                            style={{ ...styleProps, width: '100%', height: '300px', border: 'none' }}\r\n                            title=\"Embedded Video\"\r\n                            allowFullScreen\r\n                        />\r\n                    );\r\n                case 'features':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            {content.map((feature, idx) => (\r\n                                <div key={idx} style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\r\n                                    <i className={feature.icon} style={{ marginRight: '10px' }} />\r\n                                    <div>\r\n                                        <h4>{feature.title}</h4>\r\n                                        <p>{feature.description}</p>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    );\r\n                case 'social-proof':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            {content.stats && content.stats.map((stat, idx) => (\r\n                                <span key={idx} style={{ marginRight: '20px' }}>{stat}</span>\r\n                            ))}\r\n                            {content.logos && content.logos.map((logo, idx) => (\r\n                                <img key={idx} src={logo || 'https://via.placeholder.com/100x50'} alt={`Logo ${idx}`} style={{ height: '50px' }} />\r\n                            ))}\r\n                        </div>\r\n                    );\r\n                case 'benefits':\r\n                    return (\r\n                        <ul style={{ ...styleProps, listStyle: 'none', padding: 0 }}>\r\n                            {content.map((benefit, idx) => (\r\n                                <li key={idx} style={{ marginBottom: '10px' }}>{benefit}</li>\r\n                            ))}\r\n                        </ul>\r\n                    );\r\n                case 'footer':\r\n                    return (\r\n                        <div style={styleProps}>\r\n                            {content.links && content.links.map((link, idx) => (\r\n                                <a key={idx} href=\"#\" style={{ marginRight: '10px' }}>{link}</a>\r\n                            ))}\r\n                            <p>{content.copyright}</p>\r\n                        </div>\r\n                    );\r\n                default:\r\n                    return <div style={styleProps}>{component.name || 'Unknown'}</div>;\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div\r\n                ref={drag}\r\n                className={`landing-page-builder-element-item ${isSelected ? 'landing-page-builder-element-item-selected' : ''} ${isDragging ? 'landing-page-builder-element-item-dragging' : ''}`}\r\n                onMouseEnter={(e) => handleElementHover(e, component)}\r\n                onMouseDown={handleMouseDown}\r\n            >\r\n                {renderContent()}\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nconst Section = React.memo(\r\n    ({ section, index, selectedElement, onSelectElement, handleElementHover, onDuplicateElement, onDeleteElement, onMoveElement, updatePosition, addElement, canvasRef, moveElement }) => {\r\n        const [{ isOver }, drop] = useDrop(() => ({\r\n            accept: [ItemTypes.ELEMENT, ItemTypes.EXISTING_ELEMENT],\r\n            hover: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                if (clientOffset && canvasRef.current) {\r\n                    const rect = canvasRef.current.getBoundingClientRect();\r\n                    const y = clientOffset.y - rect.top;\r\n                    // Logic để xác định index drop trong section grid\r\n                }\r\n            },\r\n            drop: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                if (!clientOffset || !canvasRef.current) {\r\n                    toast.error('Không thể xác định vị trí thả. Vui lòng thử lại!');\r\n                    return;\r\n                }\r\n                const rect = canvasRef.current.getBoundingClientRect();\r\n                const position = {\r\n                    gridColumn: '1', // Mặc định grid position\r\n                    gridRow: section.elements.length + 1,\r\n                };\r\n                if (item.componentData) {\r\n                    addElement(section.id, { ...item.componentData, json: { ...item.componentData.json, styles: { ...item.componentData.json.styles, ...position } } }, section.elements.length);\r\n                } else {\r\n                    moveElement(section.id, item.id, section.elements.length);\r\n                }\r\n            },\r\n            collect: (monitor) => ({\r\n                isOver: !!monitor.isOver(),\r\n            }),\r\n        }));\r\n\r\n        return (\r\n            <div ref={drop} className={`landing-page-builder-section-container ${isOver ? 'landing-page-builder-section-container-over' : ''}`}>\r\n                <h3 className=\"landing-page-builder-section-title\">{section.json.content?.title || 'Section'}</h3>\r\n                <div className=\"landing-page-builder-section-grid-content\">\r\n                    {section.elements.map((element, idx) => (\r\n                        <Element\r\n                            key={element.id}\r\n                            component={element}\r\n                            index={idx}\r\n                            isSelected={selectedElement?.id === element.id}\r\n                            hasQuickEdit={false}\r\n                            onSelectElement={onSelectElement}\r\n                            handleElementHover={handleElementHover}\r\n                            onDuplicateElement={onDuplicateElement}\r\n                            onDeleteElement={onDeleteElement}\r\n                            onMoveElement={onMoveElement}\r\n                            updatePosition={updatePosition}\r\n                            canvasRef={canvasRef}\r\n                            sectionId={section.id}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nconst Canvas = React.memo(\r\n    ({\r\n         pageStructure,\r\n         selectedElement,\r\n         onSelectElement,\r\n         quickEditElement,\r\n         quickEditPosition,\r\n         onQuickEdit,\r\n         onCloseQuickEdit,\r\n         onDuplicateElement,\r\n         onDeleteElement,\r\n         onMoveElement,\r\n         viewMode,\r\n         addSection,\r\n         addElement,\r\n         moveElement,\r\n         ItemTypes,\r\n         zoomLevel,\r\n         setPageStructure,\r\n         updatePosition, // Thêm prop này để sửa lỗi\r\n     }) => {\r\n        const canvasRef = useRef(null);\r\n        const [dropIndex, setDropIndex] = useState(null);\r\n\r\n        const [{ isOver }, drop] = useDrop(() => ({\r\n            accept: [ItemTypes.SECTION],\r\n            hover: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                if (clientOffset && canvasRef.current) {\r\n                    const rect = canvasRef.current.getBoundingClientRect();\r\n                    const y = clientOffset.y - rect.top;\r\n                    const index = Math.min(pageStructure.length, Math.floor(y / 200));\r\n                    setDropIndex(index);\r\n                    if (item.componentData) {\r\n                        item.componentData.json.styles = {\r\n                            ...item.componentData.json.styles,\r\n                            gridRow: index + 1, // Sử dụng grid row cho sections\r\n                        };\r\n                    }\r\n                }\r\n            },\r\n            drop: (item, monitor) => {\r\n                const clientOffset = monitor.getClientOffset();\r\n                if (!clientOffset || !canvasRef.current) {\r\n                    toast.error('Không thể xác định vị trí thả. Vui lòng thử lại!');\r\n                    return;\r\n                }\r\n                const rect = canvasRef.current.getBoundingClientRect();\r\n                const position = {\r\n                    gridRow: Math.min(pageStructure.length, Math.floor((clientOffset.y - rect.top) / 200)) + 1,\r\n                };\r\n                const index = Math.min(pageStructure.length, Math.floor((clientOffset.y - rect.top) / 200));\r\n                addSection({ ...item.componentData, json: { ...item.componentData.json, styles: { ...item.componentData.json.styles, ...position } } }, index);\r\n                setDropIndex(null);\r\n            },\r\n            collect: (monitor) => ({\r\n                isOver: !!monitor.isOver(),\r\n            }),\r\n        }));\r\n\r\n        const handleElementHover = useCallback(\r\n            (e, component) => {\r\n                if (quickEditElement?.id === component.id) return;\r\n                const rect = e.currentTarget.getBoundingClientRect();\r\n                const canvasRect = canvasRef.current?.getBoundingClientRect() || { left: 0, top: 0 };\r\n                onQuickEdit(component, {\r\n                    x: rect.left - canvasRect.left,\r\n                    y: rect.top - canvasRect.top + 20,\r\n                });\r\n            },\r\n            [quickEditElement, onQuickEdit]\r\n        );\r\n\r\n        useHotkeys(\r\n            'delete',\r\n            () => {\r\n                if (selectedElement) {\r\n                    onDeleteElement(selectedElement);\r\n                }\r\n            },\r\n            [selectedElement, onDeleteElement]\r\n        );\r\n\r\n        return (\r\n            <div className=\"landing-page-builder-canvas-main-wrapper\">\r\n                <div\r\n                    ref={(node) => {\r\n                        canvasRef.current = node;\r\n                        drop(node);\r\n                    }}\r\n                    className={`landing-page-builder-canvas-core-container ${viewMode === 'mobile' ? 'landing-page-builder-canvas-core-container-mobile' : viewMode === 'tablet' ? 'landing-page-builder-canvas-core-container-tablet' : 'landing-page-builder-canvas-core-container-desktop'}`}\r\n                    onMouseLeave={onCloseQuickEdit}\r\n                    style={{ transform: `scale(${zoomLevel / 100})` }} // Sử dụng transform thay zoom để tránh reflow\r\n                >\r\n                    <div className=\"landing-page-builder-canvas-overall-grid-wrapper\">\r\n                        {pageStructure.length === 0 ? (\r\n                            <div className=\"landing-page-builder-canvas-empty-grid-state\">\r\n                                <i className=\"fas fa-layer-group\"></i>\r\n                                <p>Kéo thả section để bắt đầu</p>\r\n                            </div>\r\n                        ) : (\r\n                            <>\r\n                                {pageStructure.map((section, index) => (\r\n                                    <React.Fragment key={section.id}>\r\n                                        {dropIndex === index && <div className=\"landing-page-builder-canvas-section-drop-indicator\" />}\r\n                                        <Section\r\n                                            section={section}\r\n                                            index={index}\r\n                                            selectedElement={selectedElement}\r\n                                            onSelectElement={onSelectElement}\r\n                                            handleElementHover={handleElementHover}\r\n                                            onDuplicateElement={onDuplicateElement}\r\n                                            onDeleteElement={onDeleteElement}\r\n                                            onMoveElement={onMoveElement}\r\n                                            updatePosition={updatePosition}\r\n                                            addElement={addElement}\r\n                                            canvasRef={canvasRef}\r\n                                            moveElement={moveElement}\r\n                                        />\r\n                                    </React.Fragment>\r\n                                ))}\r\n                                {dropIndex === pageStructure.length && <div className=\"landing-page-builder-canvas-section-drop-indicator\" />}\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                    <QuickEditToolkit\r\n                        element={quickEditElement}\r\n                        position={quickEditPosition}\r\n                        onEdit={() => onSelectElement(quickEditElement)}\r\n                        onDuplicate={() => onDuplicateElement(quickEditElement)}\r\n                        onDelete={() => onDeleteElement(quickEditElement)}\r\n                        onMoveUp={() => onMoveElement(quickEditElement, 'up')}\r\n                        onMoveDown={() => onMoveElement(quickEditElement, 'down')}\r\n                        onClose={onCloseQuickEdit}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n);\r\n\r\nexport default Canvas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}