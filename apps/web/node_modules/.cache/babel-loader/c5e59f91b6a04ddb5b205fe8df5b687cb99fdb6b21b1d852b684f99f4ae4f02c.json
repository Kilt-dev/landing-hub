{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\CreateLanding.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Toolbar from './create-page/Toolbar';\nimport ComponentLibrary from './create-page/ComponentLibrary';\nimport Canvas from './create-page/Canvas';\nimport PropertiesPanel from './create-page/PropertiesPanel';\nimport '../styles/CreateLanding.css';\nimport { categoryColors } from \"../assets/color\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemTypes = {\n  COMPONENT: 'component',\n  EXISTING_ELEMENT: 'existingElement'\n};\n\n// Memoize components to prevent unnecessary re-renders\nconst MemoizedCanvas = /*#__PURE__*/React.memo(Canvas);\n_c = MemoizedCanvas;\nconst MemoizedComponentLibrary = /*#__PURE__*/React.memo(ComponentLibrary);\n_c2 = MemoizedComponentLibrary;\nconst MemoizedPropertiesPanel = /*#__PURE__*/React.memo(PropertiesPanel);\n_c3 = MemoizedPropertiesPanel;\nconst CreateLandingPage = () => {\n  _s();\n  var _selectedElement$json;\n  const [pageStructure, setPageStructure] = useState([]);\n  const [selectedElement, setSelectedElement] = useState(null);\n  const [leftSidebarCollapsed, setLeftSidebarCollapsed] = useState(false);\n  const [rightSidebarCollapsed, setRightSidebarCollapsed] = useState(false);\n  const [quickEditElement, setQuickEditElement] = useState(null);\n  const [quickEditPosition, setQuickEditPosition] = useState(null);\n  const [viewMode, setViewMode] = useState('desktop'); // desktop, tablet, mobile, adaptive\n  const [zoomLevel, setZoomLevel] = useState(100);\n  const [history, setHistory] = useState([[]]); // Undo/redo history\n  const [historyIndex, setHistoryIndex] = useState(0);\n\n  // Memoized page structure to prevent unnecessary re-renders\n  const memoizedPageStructure = useMemo(() => pageStructure, [pageStructure]);\n\n  // Function to add a new component to the page structure\n  const addComponent = useCallback((componentData, index) => {\n    const newComponent = {\n      ...componentData,\n      id: `${componentData.id}-${Date.now()}`,\n      json: {\n        ...componentData.json,\n        styles: {\n          ...componentData.json.styles,\n          position: {\n            x: 50,\n            y: 50\n          } // Default position\n        }\n      }\n    };\n    setPageStructure(prev => {\n      const newStructure = [...prev];\n      newStructure.splice(index, 0, newComponent);\n      setHistory(prevHist => [...prevHist.slice(0, historyIndex + 1), newStructure]);\n      setHistoryIndex(prev => prev + 1);\n      return newStructure;\n    });\n    setQuickEditElement(null);\n    setQuickEditPosition(null);\n    toast.success('Đã thêm thành phần!');\n  }, [historyIndex]);\n\n  // Function to move an existing element\n  const moveElement = useCallback((id, newIndex) => {\n    const currentIndex = pageStructure.findIndex(el => el.id === id);\n    if (currentIndex === -1 || currentIndex === newIndex) return;\n    setPageStructure(prev => {\n      const newStructure = [...prev];\n      const [movedElement] = newStructure.splice(currentIndex, 1);\n      newStructure.splice(newIndex, 0, movedElement);\n      setHistory(prevHist => [...prevHist.slice(0, historyIndex + 1), newStructure]);\n      setHistoryIndex(prev => prev + 1);\n      return newStructure;\n    });\n    toast.info('Đã di chuyển thành phần!');\n  }, [pageStructure, historyIndex]);\n\n  // Undo and Redo functions\n  const undo = useCallback(() => {\n    if (historyIndex > 0) {\n      setHistoryIndex(prev => prev - 1);\n      setPageStructure([...history[historyIndex - 1]]);\n      toast.info('Đã hoàn tác!');\n    }\n  }, [history, historyIndex]);\n  const redo = useCallback(() => {\n    if (historyIndex < history.length - 1) {\n      setHistoryIndex(prev => prev + 1);\n      setPageStructure([...history[historyIndex + 1]]);\n      toast.info('Đã khôi phục!');\n    }\n  }, [history, historyIndex]);\n\n  // Handle select element\n  const handleSelectElement = useCallback(element => {\n    setSelectedElement(element);\n    setQuickEditElement(null);\n    setQuickEditPosition(null);\n  }, []);\n\n  // Handle update element\n  const handleUpdateElement = useCallback(updatedElement => {\n    setPageStructure(prev => {\n      const newStructure = prev.map(el => el.id === updatedElement.id ? updatedElement : el);\n      setHistory(prevHist => [...prevHist.slice(0, historyIndex + 1), newStructure]);\n      setHistoryIndex(prev => prev + 1);\n      return newStructure;\n    });\n    setSelectedElement(updatedElement);\n    toast.success('Đã cập nhật thành phần!');\n  }, [historyIndex]);\n\n  // Handle quick edit\n  const handleQuickEdit = useCallback((element, position) => {\n    setQuickEditElement(element);\n    setQuickEditPosition(position);\n  }, []);\n  const handleCloseQuickEdit = useCallback(() => {\n    setQuickEditElement(null);\n    setQuickEditPosition(null);\n  }, []);\n\n  // Handle duplicate and delete\n  const handleDuplicateElement = useCallback(element => {\n    if (!element) return;\n    const duplicated = {\n      ...element,\n      id: `${element.id}-copy-${Date.now()}`\n    };\n    setPageStructure(prev => {\n      const newStructure = [...prev, duplicated];\n      setHistory(prevHist => [...prevHist.slice(0, historyIndex + 1), newStructure]);\n      setHistoryIndex(prev => prev + 1);\n      return newStructure;\n    });\n    setQuickEditElement(null);\n    setQuickEditPosition(null);\n    toast.success('Đã sao chép thành phần!');\n  }, [historyIndex]);\n  const handleDeleteElement = useCallback(element => {\n    if (!element) return;\n    setPageStructure(prev => {\n      const newStructure = prev.filter(el => el.id !== element.id);\n      setHistory(prevHist => [...prevHist.slice(0, historyIndex + 1), newStructure]);\n      setHistoryIndex(prev => prev + 1);\n      return newStructure;\n    });\n    if ((selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === element.id) {\n      setSelectedElement(null);\n    }\n    setQuickEditElement(null);\n    setQuickEditPosition(null);\n    toast.success('Đã xóa thành phần!');\n  }, [selectedElement, historyIndex]);\n\n  // Handle move element up/down\n  const handleMoveElement = useCallback((element, direction) => {\n    if (!element) return;\n    const currentIndex = pageStructure.findIndex(el => el.id === element.id);\n    if (currentIndex === -1) return;\n    const newIndex = direction === 'up' ? Math.max(0, currentIndex - 1) : Math.min(pageStructure.length - 1, currentIndex + 1);\n    if (newIndex === currentIndex) return;\n    moveElement(element.id, newIndex);\n  }, [pageStructure, moveElement]);\n\n  // Handle zoom\n  const handleZoom = useCallback(direction => {\n    const newZoom = direction === 'in' ? Math.min(200, zoomLevel + 10) : Math.max(50, zoomLevel - 10);\n    setZoomLevel(newZoom);\n  }, [zoomLevel]);\n\n  // Handle generate code\n  const handleGenerateCode = useCallback(() => {\n    const pageConfig = {\n      components: pageStructure.map(comp => comp.json),\n      meta: {\n        title: 'Generated Landing Page',\n        description: 'Page generated from JSON'\n      },\n      viewMode,\n      zoomLevel\n    };\n    console.log('Generated page config:', pageConfig);\n    toast.success('Đã tạo mã! Kiểm tra console để xem chi tiết.');\n  }, [pageStructure, viewMode, zoomLevel]);\n\n  // Handle preview\n  const handlePreview = useCallback(() => {\n    const previewData = encodeURIComponent(JSON.stringify({\n      pageStructure,\n      viewMode\n    }));\n    window.open(`/preview?data=${previewData}`, '_blank');\n  }, [pageStructure, viewMode]);\n\n  // Handle save\n  const handleSave = useCallback(() => {\n    try {\n      const saveData = {\n        pageStructure,\n        viewMode,\n        zoomLevel,\n        savedAt: new Date().toISOString()\n      };\n      localStorage.setItem('landing-page-builder', JSON.stringify(saveData));\n      toast.success('Đã lưu trang thành công!');\n    } catch (error) {\n      console.error('Lỗi khi lưu:', error);\n      toast.error('Lỗi khi lưu trang. Vui lòng thử lại.');\n    }\n  }, [pageStructure, viewMode, zoomLevel]);\n\n  // Auto-save functionality\n  useEffect(() => {\n    const autoSave = setTimeout(() => {\n      if (pageStructure.length > 0) {\n        const autoSaveData = {\n          pageStructure,\n          viewMode,\n          zoomLevel,\n          autoSavedAt: new Date().toISOString()\n        };\n        try {\n          localStorage.setItem('landing-page-builder-autosave', JSON.stringify(autoSaveData));\n          toast.info('Đã tự động lưu!');\n        } catch (error) {\n          console.error('Lỗi khi tự động lưu:', error);\n        }\n      }\n    }, 30000); // Auto-save every 30 seconds\n\n    return () => clearTimeout(autoSave);\n  }, [pageStructure, viewMode, zoomLevel]);\n\n  // Keyboard shortcuts\n  useHotkeys('ctrl+s', handleSave, [handleSave]);\n  useHotkeys('ctrl+z', undo, [undo]);\n  useHotkeys('ctrl+shift+z', redo, [redo]);\n  return /*#__PURE__*/_jsxDEV(DndProvider, {\n    backend: HTML5Backend,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-landing-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\",\n        integrity: \"sha512-xxx\" // Replace with actual integrity hash if needed\n        ,\n        crossOrigin: \"anonymous\",\n        referrerPolicy: \"no-referrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n        position: \"top-right\",\n        autoClose: 3000,\n        hideProgressBar: true,\n        className: \"text-sm create-landing-font-inter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n        onSave: handleSave,\n        onPreview: handlePreview,\n        onGenerateCode: handleGenerateCode,\n        viewMode: viewMode,\n        onViewModeChange: setViewMode,\n        onUndo: undo,\n        onRedo: redo,\n        canUndo: historyIndex > 0,\n        canRedo: historyIndex < history.length - 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-landing-main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `create-landing-sidebar-left ${leftSidebarCollapsed ? 'collapsed' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(MemoizedComponentLibrary, {\n            isCollapsed: leftSidebarCollapsed,\n            onToggle: () => setLeftSidebarCollapsed(!leftSidebarCollapsed)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-landing-canvas-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"create-landing-canvas-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(MemoizedCanvas, {\n              pageStructure: memoizedPageStructure,\n              selectedElement: selectedElement,\n              onSelectElement: handleSelectElement,\n              quickEditElement: quickEditElement,\n              quickEditPosition: quickEditPosition,\n              onQuickEdit: handleQuickEdit,\n              onCloseQuickEdit: handleCloseQuickEdit,\n              onDuplicateElement: handleDuplicateElement,\n              onDeleteElement: handleDeleteElement,\n              onMoveElement: handleMoveElement,\n              viewMode: viewMode,\n              addComponent: addComponent,\n              moveElement: moveElement,\n              ItemTypes: ItemTypes,\n              zoomLevel: zoomLevel,\n              setPageStructure: setPageStructure\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `create-landing-sidebar-right ${rightSidebarCollapsed ? 'collapsed' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(MemoizedPropertiesPanel, {\n            selectedElement: selectedElement,\n            onUpdateElement: handleUpdateElement,\n            isCollapsed: rightSidebarCollapsed,\n            onToggle: () => setRightSidebarCollapsed(!rightSidebarCollapsed)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-landing-status-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-landing-status-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Elements: \", pageStructure.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"|\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Selected: \", selectedElement ? ((_selectedElement$json = selectedElement.json) === null || _selectedElement$json === void 0 ? void 0 : _selectedElement$json.type) || 'None' : 'None']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-landing-status-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"create-landing-view-mode\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"View:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"create-landing-view-buttons\",\n              children: ['desktop', 'tablet', 'mobile', 'adaptive'].map(mode => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setViewMode(mode),\n                className: `create-landing-view-button ${viewMode === mode ? 'active' : ''}`,\n                children: mode.charAt(0).toUpperCase() + mode.slice(1)\n              }, mode, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"create-landing-zoom-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"create-landing-zoom-button\",\n              title: \"Zoom Out\",\n              onClick: () => handleZoom('out'),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-search-minus fa-xs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"50\",\n              max: \"200\",\n              value: zoomLevel,\n              onChange: e => setZoomLevel(Number(e.target.value)),\n              className: \"create-landing-zoom-slider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"create-landing-zoom-value\",\n              children: [zoomLevel, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"create-landing-zoom-button\",\n              title: \"Zoom In\",\n              onClick: () => handleZoom('in'),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-search-plus fa-xs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 9\n  }, this);\n};\n_s(CreateLandingPage, \"S/QHZmT92tZX0Rp1NgtEsigiO0g=\", false, function () {\n  return [useHotkeys, useHotkeys, useHotkeys];\n});\n_c4 = CreateLandingPage;\nexport default CreateLandingPage;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"MemoizedCanvas\");\n$RefreshReg$(_c2, \"MemoizedComponentLibrary\");\n$RefreshReg$(_c3, \"MemoizedPropertiesPanel\");\n$RefreshReg$(_c4, \"CreateLandingPage\");","map":{"version":3,"names":["React","useState","useMemo","useCallback","useEffect","DndProvider","HTML5Backend","useHotkeys","ToastContainer","toast","Toolbar","ComponentLibrary","Canvas","PropertiesPanel","categoryColors","jsxDEV","_jsxDEV","ItemTypes","COMPONENT","EXISTING_ELEMENT","MemoizedCanvas","memo","_c","MemoizedComponentLibrary","_c2","MemoizedPropertiesPanel","_c3","CreateLandingPage","_s","_selectedElement$json","pageStructure","setPageStructure","selectedElement","setSelectedElement","leftSidebarCollapsed","setLeftSidebarCollapsed","rightSidebarCollapsed","setRightSidebarCollapsed","quickEditElement","setQuickEditElement","quickEditPosition","setQuickEditPosition","viewMode","setViewMode","zoomLevel","setZoomLevel","history","setHistory","historyIndex","setHistoryIndex","memoizedPageStructure","addComponent","componentData","index","newComponent","id","Date","now","json","styles","position","x","y","prev","newStructure","splice","prevHist","slice","success","moveElement","newIndex","currentIndex","findIndex","el","movedElement","info","undo","redo","length","handleSelectElement","element","handleUpdateElement","updatedElement","map","handleQuickEdit","handleCloseQuickEdit","handleDuplicateElement","duplicated","handleDeleteElement","filter","handleMoveElement","direction","Math","max","min","handleZoom","newZoom","handleGenerateCode","pageConfig","components","comp","meta","title","description","console","log","handlePreview","previewData","encodeURIComponent","JSON","stringify","window","open","handleSave","saveData","savedAt","toISOString","localStorage","setItem","error","autoSave","setTimeout","autoSaveData","autoSavedAt","clearTimeout","backend","children","className","rel","href","integrity","crossOrigin","referrerPolicy","fileName","_jsxFileName","lineNumber","columnNumber","autoClose","hideProgressBar","onSave","onPreview","onGenerateCode","onViewModeChange","onUndo","onRedo","canUndo","canRedo","isCollapsed","onToggle","onSelectElement","onQuickEdit","onCloseQuickEdit","onDuplicateElement","onDeleteElement","onMoveElement","onUpdateElement","type","mode","onClick","charAt","toUpperCase","value","onChange","e","Number","target","_c4","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/CreateLanding.js"],"sourcesContent":["import React, { useState, useMemo, useCallback, useEffect } from 'react';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport { useHotkeys } from 'react-hotkeys-hook';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Toolbar from './create-page/Toolbar';\r\nimport ComponentLibrary from './create-page/ComponentLibrary';\r\nimport Canvas from './create-page/Canvas';\r\nimport PropertiesPanel from './create-page/PropertiesPanel';\r\nimport '../styles/CreateLanding.css';\r\nimport {categoryColors} from \"../assets/color\";\r\n\r\nconst ItemTypes = {\r\n    COMPONENT: 'component',\r\n    EXISTING_ELEMENT: 'existingElement',\r\n};\r\n\r\n// Memoize components to prevent unnecessary re-renders\r\nconst MemoizedCanvas = React.memo(Canvas);\r\nconst MemoizedComponentLibrary = React.memo(ComponentLibrary);\r\nconst MemoizedPropertiesPanel = React.memo(PropertiesPanel);\r\n\r\nconst CreateLandingPage = () => {\r\n    const [pageStructure, setPageStructure] = useState([]);\r\n    const [selectedElement, setSelectedElement] = useState(null);\r\n    const [leftSidebarCollapsed, setLeftSidebarCollapsed] = useState(false);\r\n    const [rightSidebarCollapsed, setRightSidebarCollapsed] = useState(false);\r\n    const [quickEditElement, setQuickEditElement] = useState(null);\r\n    const [quickEditPosition, setQuickEditPosition] = useState(null);\r\n    const [viewMode, setViewMode] = useState('desktop'); // desktop, tablet, mobile, adaptive\r\n    const [zoomLevel, setZoomLevel] = useState(100);\r\n    const [history, setHistory] = useState([[]]); // Undo/redo history\r\n    const [historyIndex, setHistoryIndex] = useState(0);\r\n\r\n    // Memoized page structure to prevent unnecessary re-renders\r\n    const memoizedPageStructure = useMemo(() => pageStructure, [pageStructure]);\r\n\r\n    // Function to add a new component to the page structure\r\n    const addComponent = useCallback(\r\n        (componentData, index) => {\r\n            const newComponent = {\r\n                ...componentData,\r\n                id: `${componentData.id}-${Date.now()}`,\r\n                json: {\r\n                    ...componentData.json,\r\n                    styles: {\r\n                        ...componentData.json.styles,\r\n                        position: { x: 50, y: 50 }, // Default position\r\n                    },\r\n                },\r\n            };\r\n            setPageStructure((prev) => {\r\n                const newStructure = [...prev];\r\n                newStructure.splice(index, 0, newComponent);\r\n                setHistory((prevHist) => [...prevHist.slice(0, historyIndex + 1), newStructure]);\r\n                setHistoryIndex((prev) => prev + 1);\r\n                return newStructure;\r\n            });\r\n            setQuickEditElement(null);\r\n            setQuickEditPosition(null);\r\n            toast.success('Đã thêm thành phần!');\r\n        },\r\n        [historyIndex]\r\n    );\r\n\r\n    // Function to move an existing element\r\n    const moveElement = useCallback(\r\n        (id, newIndex) => {\r\n            const currentIndex = pageStructure.findIndex((el) => el.id === id);\r\n            if (currentIndex === -1 || currentIndex === newIndex) return;\r\n\r\n            setPageStructure((prev) => {\r\n                const newStructure = [...prev];\r\n                const [movedElement] = newStructure.splice(currentIndex, 1);\r\n                newStructure.splice(newIndex, 0, movedElement);\r\n                setHistory((prevHist) => [...prevHist.slice(0, historyIndex + 1), newStructure]);\r\n                setHistoryIndex((prev) => prev + 1);\r\n                return newStructure;\r\n            });\r\n            toast.info('Đã di chuyển thành phần!');\r\n        },\r\n        [pageStructure, historyIndex]\r\n    );\r\n\r\n    // Undo and Redo functions\r\n    const undo = useCallback(() => {\r\n        if (historyIndex > 0) {\r\n            setHistoryIndex((prev) => prev - 1);\r\n            setPageStructure([...history[historyIndex - 1]]);\r\n            toast.info('Đã hoàn tác!');\r\n        }\r\n    }, [history, historyIndex]);\r\n\r\n    const redo = useCallback(() => {\r\n        if (historyIndex < history.length - 1) {\r\n            setHistoryIndex((prev) => prev + 1);\r\n            setPageStructure([...history[historyIndex + 1]]);\r\n            toast.info('Đã khôi phục!');\r\n        }\r\n    }, [history, historyIndex]);\r\n\r\n    // Handle select element\r\n    const handleSelectElement = useCallback((element) => {\r\n        setSelectedElement(element);\r\n        setQuickEditElement(null);\r\n        setQuickEditPosition(null);\r\n    }, []);\r\n\r\n    // Handle update element\r\n    const handleUpdateElement = useCallback(\r\n        (updatedElement) => {\r\n            setPageStructure((prev) => {\r\n                const newStructure = prev.map((el) => (el.id === updatedElement.id ? updatedElement : el));\r\n                setHistory((prevHist) => [...prevHist.slice(0, historyIndex + 1), newStructure]);\r\n                setHistoryIndex((prev) => prev + 1);\r\n                return newStructure;\r\n            });\r\n            setSelectedElement(updatedElement);\r\n            toast.success('Đã cập nhật thành phần!');\r\n        },\r\n        [historyIndex]\r\n    );\r\n\r\n    // Handle quick edit\r\n    const handleQuickEdit = useCallback((element, position) => {\r\n        setQuickEditElement(element);\r\n        setQuickEditPosition(position);\r\n    }, []);\r\n\r\n    const handleCloseQuickEdit = useCallback(() => {\r\n        setQuickEditElement(null);\r\n        setQuickEditPosition(null);\r\n    }, []);\r\n\r\n    // Handle duplicate and delete\r\n    const handleDuplicateElement = useCallback(\r\n        (element) => {\r\n            if (!element) return;\r\n            const duplicated = {\r\n                ...element,\r\n                id: `${element.id}-copy-${Date.now()}`,\r\n            };\r\n            setPageStructure((prev) => {\r\n                const newStructure = [...prev, duplicated];\r\n                setHistory((prevHist) => [...prevHist.slice(0, historyIndex + 1), newStructure]);\r\n                setHistoryIndex((prev) => prev + 1);\r\n                return newStructure;\r\n            });\r\n            setQuickEditElement(null);\r\n            setQuickEditPosition(null);\r\n            toast.success('Đã sao chép thành phần!');\r\n        },\r\n        [historyIndex]\r\n    );\r\n\r\n    const handleDeleteElement = useCallback(\r\n        (element) => {\r\n            if (!element) return;\r\n            setPageStructure((prev) => {\r\n                const newStructure = prev.filter((el) => el.id !== element.id);\r\n                setHistory((prevHist) => [...prevHist.slice(0, historyIndex + 1), newStructure]);\r\n                setHistoryIndex((prev) => prev + 1);\r\n                return newStructure;\r\n            });\r\n            if (selectedElement?.id === element.id) {\r\n                setSelectedElement(null);\r\n            }\r\n            setQuickEditElement(null);\r\n            setQuickEditPosition(null);\r\n            toast.success('Đã xóa thành phần!');\r\n        },\r\n        [selectedElement, historyIndex]\r\n    );\r\n\r\n    // Handle move element up/down\r\n    const handleMoveElement = useCallback(\r\n        (element, direction) => {\r\n            if (!element) return;\r\n            const currentIndex = pageStructure.findIndex((el) => el.id === element.id);\r\n            if (currentIndex === -1) return;\r\n\r\n            const newIndex =\r\n                direction === 'up' ? Math.max(0, currentIndex - 1) : Math.min(pageStructure.length - 1, currentIndex + 1);\r\n\r\n            if (newIndex === currentIndex) return;\r\n            moveElement(element.id, newIndex);\r\n        },\r\n        [pageStructure, moveElement]\r\n    );\r\n\r\n    // Handle zoom\r\n    const handleZoom = useCallback(\r\n        (direction) => {\r\n            const newZoom = direction === 'in' ? Math.min(200, zoomLevel + 10) : Math.max(50, zoomLevel - 10);\r\n            setZoomLevel(newZoom);\r\n        },\r\n        [zoomLevel]\r\n    );\r\n\r\n    // Handle generate code\r\n    const handleGenerateCode = useCallback(() => {\r\n        const pageConfig = {\r\n            components: pageStructure.map((comp) => comp.json),\r\n            meta: {\r\n                title: 'Generated Landing Page',\r\n                description: 'Page generated from JSON',\r\n            },\r\n            viewMode,\r\n            zoomLevel,\r\n        };\r\n        console.log('Generated page config:', pageConfig);\r\n        toast.success('Đã tạo mã! Kiểm tra console để xem chi tiết.');\r\n    }, [pageStructure, viewMode, zoomLevel]);\r\n\r\n    // Handle preview\r\n    const handlePreview = useCallback(() => {\r\n        const previewData = encodeURIComponent(\r\n            JSON.stringify({\r\n                pageStructure,\r\n                viewMode,\r\n            })\r\n        );\r\n        window.open(`/preview?data=${previewData}`, '_blank');\r\n    }, [pageStructure, viewMode]);\r\n\r\n    // Handle save\r\n    const handleSave = useCallback(() => {\r\n        try {\r\n            const saveData = {\r\n                pageStructure,\r\n                viewMode,\r\n                zoomLevel,\r\n                savedAt: new Date().toISOString(),\r\n            };\r\n            localStorage.setItem('landing-page-builder', JSON.stringify(saveData));\r\n            toast.success('Đã lưu trang thành công!');\r\n        } catch (error) {\r\n            console.error('Lỗi khi lưu:', error);\r\n            toast.error('Lỗi khi lưu trang. Vui lòng thử lại.');\r\n        }\r\n    }, [pageStructure, viewMode, zoomLevel]);\r\n\r\n    // Auto-save functionality\r\n    useEffect(() => {\r\n        const autoSave = setTimeout(() => {\r\n            if (pageStructure.length > 0) {\r\n                const autoSaveData = {\r\n                    pageStructure,\r\n                    viewMode,\r\n                    zoomLevel,\r\n                    autoSavedAt: new Date().toISOString(),\r\n                };\r\n                try {\r\n                    localStorage.setItem('landing-page-builder-autosave', JSON.stringify(autoSaveData));\r\n                    toast.info('Đã tự động lưu!');\r\n                } catch (error) {\r\n                    console.error('Lỗi khi tự động lưu:', error);\r\n                }\r\n            }\r\n        }, 30000); // Auto-save every 30 seconds\r\n\r\n        return () => clearTimeout(autoSave);\r\n    }, [pageStructure, viewMode, zoomLevel]);\r\n\r\n    // Keyboard shortcuts\r\n    useHotkeys('ctrl+s', handleSave, [handleSave]);\r\n    useHotkeys('ctrl+z', undo, [undo]);\r\n    useHotkeys('ctrl+shift+z', redo, [redo]);\r\n\r\n    return (\r\n        <DndProvider backend={HTML5Backend}>\r\n            <div className=\"create-landing-container\">\r\n                <link\r\n                    rel=\"stylesheet\"\r\n                    href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\"\r\n                    integrity=\"sha512-xxx\" // Replace with actual integrity hash if needed\r\n                    crossOrigin=\"anonymous\"\r\n                    referrerPolicy=\"no-referrer\"\r\n                />\r\n                <ToastContainer\r\n                    position=\"top-right\"\r\n                    autoClose={3000}\r\n                    hideProgressBar\r\n                    className=\"text-sm create-landing-font-inter\"\r\n                />\r\n\r\n                <Toolbar\r\n                    onSave={handleSave}\r\n                    onPreview={handlePreview}\r\n                    onGenerateCode={handleGenerateCode}\r\n                    viewMode={viewMode}\r\n                    onViewModeChange={setViewMode}\r\n                    onUndo={undo}\r\n                    onRedo={redo}\r\n                    canUndo={historyIndex > 0}\r\n                    canRedo={historyIndex < history.length - 1}\r\n                />\r\n\r\n                <div className=\"create-landing-main-content\">\r\n                    <div\r\n                        className={`create-landing-sidebar-left ${leftSidebarCollapsed ? 'collapsed' : ''}`}\r\n                    >\r\n                        <MemoizedComponentLibrary\r\n                            isCollapsed={leftSidebarCollapsed}\r\n                            onToggle={() => setLeftSidebarCollapsed(!leftSidebarCollapsed)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"create-landing-canvas-container\">\r\n                        <div className=\"create-landing-canvas-wrapper\">\r\n                            <MemoizedCanvas\r\n                                pageStructure={memoizedPageStructure}\r\n                                selectedElement={selectedElement}\r\n                                onSelectElement={handleSelectElement}\r\n                                quickEditElement={quickEditElement}\r\n                                quickEditPosition={quickEditPosition}\r\n                                onQuickEdit={handleQuickEdit}\r\n                                onCloseQuickEdit={handleCloseQuickEdit}\r\n                                onDuplicateElement={handleDuplicateElement}\r\n                                onDeleteElement={handleDeleteElement}\r\n                                onMoveElement={handleMoveElement}\r\n                                viewMode={viewMode}\r\n                                addComponent={addComponent}\r\n                                moveElement={moveElement}\r\n                                ItemTypes={ItemTypes}\r\n                                zoomLevel={zoomLevel}\r\n                                setPageStructure={setPageStructure}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        className={`create-landing-sidebar-right ${rightSidebarCollapsed ? 'collapsed' : ''}`}\r\n                    >\r\n                        <MemoizedPropertiesPanel\r\n                            selectedElement={selectedElement}\r\n                            onUpdateElement={handleUpdateElement}\r\n                            isCollapsed={rightSidebarCollapsed}\r\n                            onToggle={() => setRightSidebarCollapsed(!rightSidebarCollapsed)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"create-landing-status-bar\">\r\n                    <div className=\"create-landing-status-info\">\r\n                        <span>Elements: {pageStructure.length}</span>\r\n                        <span>|</span>\r\n                        <span>\r\n              Selected: {selectedElement ? selectedElement.json?.type || 'None' : 'None'}\r\n            </span>\r\n                    </div>\r\n                    <div className=\"create-landing-status-controls\">\r\n                        <div className=\"create-landing-view-mode\">\r\n                            <span>View:</span>\r\n                            <div className=\"create-landing-view-buttons\">\r\n                                {['desktop', 'tablet', 'mobile', 'adaptive'].map((mode) => (\r\n                                    <button\r\n                                        key={mode}\r\n                                        onClick={() => setViewMode(mode)}\r\n                                        className={`create-landing-view-button ${viewMode === mode ? 'active' : ''}`}\r\n                                    >\r\n                                        {mode.charAt(0).toUpperCase() + mode.slice(1)}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"create-landing-zoom-controls\">\r\n                            <button\r\n                                className=\"create-landing-zoom-button\"\r\n                                title=\"Zoom Out\"\r\n                                onClick={() => handleZoom('out')}\r\n                            >\r\n                                <i className=\"far fa-search-minus fa-xs\"></i>\r\n                            </button>\r\n                            <input\r\n                                type=\"range\"\r\n                                min=\"50\"\r\n                                max=\"200\"\r\n                                value={zoomLevel}\r\n                                onChange={(e) => setZoomLevel(Number(e.target.value))}\r\n                                className=\"create-landing-zoom-slider\"\r\n                            />\r\n                            <span className=\"create-landing-zoom-value\">{zoomLevel}%</span>\r\n                            <button\r\n                                className=\"create-landing-zoom-button\"\r\n                                title=\"Zoom In\"\r\n                                onClick={() => handleZoom('in')}\r\n                            >\r\n                                <i className=\"far fa-search-plus fa-xs\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </DndProvider>\r\n    );\r\n};\r\n\r\nexport default CreateLandingPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}