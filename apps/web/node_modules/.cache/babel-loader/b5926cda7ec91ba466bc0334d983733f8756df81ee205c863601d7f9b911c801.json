{"ast":null,"code":"// [responsiveSync.js] - NỘI DUNG MỚI THAY THẾ HOÀN TOÀN\n\n/**\r\n * Lấy các giá trị (size, position, styles) cho viewMode hiện tại\r\n * bằng cách merge chúng theo thứ tự Desktop -> Tablet -> Mobile (Cascading).\r\n *\r\n * Đây là hàm QUAN TRỌNG NHẤT, dùng để ĐỌC dữ liệu và hiển thị lên Canvas.\r\n */\nexport const getResponsiveValues = (element, viewMode) => {\n  var _element$size, _element$position, _element$styles, _element$componentDat;\n  // 1. Lấy giá trị Desktop làm nền tảng (luôn luôn)\n  // Các '|| element.size' là để tương thích ngược với data cũ\n  const baseSize = ((_element$size = element.size) === null || _element$size === void 0 ? void 0 : _element$size.desktop) || element.size || {\n    width: 200,\n    height: 50\n  };\n  const basePosition = ((_element$position = element.position) === null || _element$position === void 0 ? void 0 : _element$position.desktop) || element.position || {\n    x: 0,\n    y: 0,\n    z: 1\n  };\n  const baseStyles = ((_element$styles = element.styles) === null || _element$styles === void 0 ? void 0 : _element$styles.desktop) || element.styles || {};\n  const baseComponentData = ((_element$componentDat = element.componentData) === null || _element$componentDat === void 0 ? void 0 : _element$componentDat.desktop) || element.componentData || {};\n\n  // 2. Tạo các giá trị responsive\n  let responsiveSize = {\n    ...baseSize\n  };\n  let responsivePosition = {\n    ...basePosition\n  };\n  let responsiveStyles = {\n    ...baseStyles\n  };\n  let responsiveComponentData = {\n    ...baseComponentData\n  };\n\n  // 3. Nếu là Tablet, đè giá trị Tablet lên Desktop\n  if (viewMode === 'tablet') {\n    var _element$size2, _element$position2, _element$styles2, _element$componentDat2;\n    responsiveSize = {\n      ...responsiveSize,\n      ...(((_element$size2 = element.size) === null || _element$size2 === void 0 ? void 0 : _element$size2.tablet) || {})\n    };\n    responsivePosition = {\n      ...responsivePosition,\n      ...(((_element$position2 = element.position) === null || _element$position2 === void 0 ? void 0 : _element$position2.tablet) || {})\n    };\n    responsiveStyles = {\n      ...responsiveStyles,\n      ...(((_element$styles2 = element.styles) === null || _element$styles2 === void 0 ? void 0 : _element$styles2.tablet) || {})\n    };\n    responsiveComponentData = {\n      ...responsiveComponentData,\n      ...(((_element$componentDat2 = element.componentData) === null || _element$componentDat2 === void 0 ? void 0 : _element$componentDat2.tablet) || {})\n    };\n  }\n\n  // 4. Nếu là Mobile, đè giá trị Mobile lên (Desktop -> Tablet)\n  if (viewMode === 'mobile') {\n    var _element$size3, _element$size4, _element$position3, _element$position4, _element$styles3, _element$styles4, _element$componentDat3, _element$componentDat4;\n    // Merge cả tablet VÀ mobile\n    responsiveSize = {\n      ...responsiveSize,\n      ...(((_element$size3 = element.size) === null || _element$size3 === void 0 ? void 0 : _element$size3.tablet) || {}),\n      ...(((_element$size4 = element.size) === null || _element$size4 === void 0 ? void 0 : _element$size4.mobile) || {})\n    };\n    responsivePosition = {\n      ...responsivePosition,\n      ...(((_element$position3 = element.position) === null || _element$position3 === void 0 ? void 0 : _element$position3.tablet) || {}),\n      ...(((_element$position4 = element.position) === null || _element$position4 === void 0 ? void 0 : _element$position4.mobile) || {})\n    };\n    responsiveStyles = {\n      ...responsiveStyles,\n      ...(((_element$styles3 = element.styles) === null || _element$styles3 === void 0 ? void 0 : _element$styles3.tablet) || {}),\n      ...(((_element$styles4 = element.styles) === null || _element$styles4 === void 0 ? void 0 : _element$styles4.mobile) || {})\n    };\n    responsiveComponentData = {\n      ...responsiveComponentData,\n      ...(((_element$componentDat3 = element.componentData) === null || _element$componentDat3 === void 0 ? void 0 : _element$componentDat3.tablet) || {}),\n      ...(((_element$componentDat4 = element.componentData) === null || _element$componentDat4 === void 0 ? void 0 : _element$componentDat4.mobile) || {})\n    };\n  }\n\n  // 5. Trả về bộ giá trị cuối cùng cho viewMode này\n  return {\n    size: responsiveSize,\n    position: responsivePosition,\n    styles: responsiveStyles,\n    componentData: responsiveComponentData\n  };\n};\n\n/**\r\n * Dùng hàm này khi TẠO MỚI một element, hoặc khi import.\r\n * Nó đảm bảo element có cấu trúc data responsive.\r\n * Nó KHÔNG scale, chỉ tạo các \"bucket\" rỗng để kế thừa.\r\n */\nexport const initializeResponsiveData = element => {\n  var _element$size5, _element$position5, _element$styles5, _element$componentDat5, _element$size6, _element$position6, _element$styles6, _element$size7, _element$size8, _element$position7, _element$position8, _element$styles7, _element$styles8, _element$componentDat6, _element$componentDat7;\n  // Lấy data gốc (coi như là desktop)\n  const baseSize = ((_element$size5 = element.size) === null || _element$size5 === void 0 ? void 0 : _element$size5.desktop) || element.size || {\n    width: 200,\n    height: 50\n  };\n  const basePosition = ((_element$position5 = element.position) === null || _element$position5 === void 0 ? void 0 : _element$position5.desktop) || element.position || {\n    x: 0,\n    y: 0,\n    z: 1\n  };\n  const baseStyles = ((_element$styles5 = element.styles) === null || _element$styles5 === void 0 ? void 0 : _element$styles5.desktop) || element.styles || {};\n  const baseComponentData = ((_element$componentDat5 = element.componentData) === null || _element$componentDat5 === void 0 ? void 0 : _element$componentDat5.desktop) || element.componentData || {};\n\n  // Nếu element đã có cấu trúc responsive chuẩn rồi thì thôi\n  if ((_element$size6 = element.size) !== null && _element$size6 !== void 0 && _element$size6.desktop && (_element$position6 = element.position) !== null && _element$position6 !== void 0 && _element$position6.desktop && (_element$styles6 = element.styles) !== null && _element$styles6 !== void 0 && _element$styles6.desktop) {\n    return element;\n  }\n\n  // Tạo cấu trúc mới\n  return {\n    ...element,\n    size: {\n      desktop: baseSize,\n      tablet: ((_element$size7 = element.size) === null || _element$size7 === void 0 ? void 0 : _element$size7.tablet) || {},\n      // Để trống, sẽ kế thừa từ desktop\n      mobile: ((_element$size8 = element.size) === null || _element$size8 === void 0 ? void 0 : _element$size8.mobile) || {} // Để trống, sẽ kế thừa\n    },\n    position: {\n      desktop: basePosition,\n      tablet: ((_element$position7 = element.position) === null || _element$position7 === void 0 ? void 0 : _element$position7.tablet) || {},\n      mobile: ((_element$position8 = element.position) === null || _element$position8 === void 0 ? void 0 : _element$position8.mobile) || {}\n    },\n    styles: {\n      desktop: baseStyles,\n      tablet: ((_element$styles7 = element.styles) === null || _element$styles7 === void 0 ? void 0 : _element$styles7.tablet) || {},\n      mobile: ((_element$styles8 = element.styles) === null || _element$styles8 === void 0 ? void 0 : _element$styles8.mobile) || {}\n    },\n    componentData: {\n      desktop: baseComponentData,\n      tablet: ((_element$componentDat6 = element.componentData) === null || _element$componentDat6 === void 0 ? void 0 : _element$componentDat6.tablet) || {},\n      mobile: ((_element$componentDat7 = element.componentData) === null || _element$componentDat7 === void 0 ? void 0 : _element$componentDat7.mobile) || {}\n    }\n  };\n};\n\n/**\r\n * Hàm này dùng khi load trang LẦN ĐẦU\r\n * Nó sẽ quét qua toàn bộ pageData và đảm bảo\r\n * tất cả elements đều có cấu trúc responsive chuẩn.\r\n */\nexport const syncAllElements = pageData => {\n  if (!pageData || !pageData.elements) return pageData;\n  return {\n    ...pageData,\n    elements: pageData.elements.map(element => {\n      const newElement = initializeResponsiveData(element);\n      if (newElement.children && newElement.children.length > 0) {\n        newElement.children = newElement.children.map(child => initializeResponsiveData(child));\n      }\n      return newElement;\n    })\n  };\n};\nexport default {\n  getResponsiveValues,\n  initializeResponsiveData,\n  syncAllElements\n};","map":{"version":3,"names":["getResponsiveValues","element","viewMode","_element$size","_element$position","_element$styles","_element$componentDat","baseSize","size","desktop","width","height","basePosition","position","x","y","z","baseStyles","styles","baseComponentData","componentData","responsiveSize","responsivePosition","responsiveStyles","responsiveComponentData","_element$size2","_element$position2","_element$styles2","_element$componentDat2","tablet","_element$size3","_element$size4","_element$position3","_element$position4","_element$styles3","_element$styles4","_element$componentDat3","_element$componentDat4","mobile","initializeResponsiveData","_element$size5","_element$position5","_element$styles5","_element$componentDat5","_element$size6","_element$position6","_element$styles6","_element$size7","_element$size8","_element$position7","_element$position8","_element$styles7","_element$styles8","_element$componentDat6","_element$componentDat7","syncAllElements","pageData","elements","map","newElement","children","length","child"],"sources":["D:/landing-hub/apps/web/src/utils/responsiveSync.js"],"sourcesContent":["// [responsiveSync.js] - NỘI DUNG MỚI THAY THẾ HOÀN TOÀN\r\n\r\n/**\r\n * Lấy các giá trị (size, position, styles) cho viewMode hiện tại\r\n * bằng cách merge chúng theo thứ tự Desktop -> Tablet -> Mobile (Cascading).\r\n *\r\n * Đây là hàm QUAN TRỌNG NHẤT, dùng để ĐỌC dữ liệu và hiển thị lên Canvas.\r\n */\r\nexport const getResponsiveValues = (element, viewMode) => {\r\n    // 1. Lấy giá trị Desktop làm nền tảng (luôn luôn)\r\n    // Các '|| element.size' là để tương thích ngược với data cũ\r\n    const baseSize = element.size?.desktop || element.size || { width: 200, height: 50 };\r\n    const basePosition = element.position?.desktop || element.position || { x: 0, y: 0, z: 1 };\r\n    const baseStyles = element.styles?.desktop || element.styles || {};\r\n    const baseComponentData = element.componentData?.desktop || element.componentData || {};\r\n\r\n    // 2. Tạo các giá trị responsive\r\n    let responsiveSize = { ...baseSize };\r\n    let responsivePosition = { ...basePosition };\r\n    let responsiveStyles = { ...baseStyles };\r\n    let responsiveComponentData = { ...baseComponentData };\r\n\r\n    // 3. Nếu là Tablet, đè giá trị Tablet lên Desktop\r\n    if (viewMode === 'tablet') {\r\n        responsiveSize = { ...responsiveSize, ...(element.size?.tablet || {}) };\r\n        responsivePosition = { ...responsivePosition, ...(element.position?.tablet || {}) };\r\n        responsiveStyles = { ...responsiveStyles, ...(element.styles?.tablet || {}) };\r\n        responsiveComponentData = { ...responsiveComponentData, ...(element.componentData?.tablet || {}) };\r\n    }\r\n\r\n    // 4. Nếu là Mobile, đè giá trị Mobile lên (Desktop -> Tablet)\r\n    if (viewMode === 'mobile') {\r\n        // Merge cả tablet VÀ mobile\r\n        responsiveSize = { ...responsiveSize, ...(element.size?.tablet || {}), ...(element.size?.mobile || {}) };\r\n        responsivePosition = { ...responsivePosition, ...(element.position?.tablet || {}), ...(element.position?.mobile || {}) };\r\n        responsiveStyles = { ...responsiveStyles, ...(element.styles?.tablet || {}), ...(element.styles?.mobile || {}) };\r\n        responsiveComponentData = { ...responsiveComponentData, ...(element.componentData?.tablet || {}), ...(element.componentData?.mobile || {}) };\r\n    }\r\n\r\n    // 5. Trả về bộ giá trị cuối cùng cho viewMode này\r\n    return {\r\n        size: responsiveSize,\r\n        position: responsivePosition,\r\n        styles: responsiveStyles,\r\n        componentData: responsiveComponentData,\r\n    };\r\n};\r\n\r\n/**\r\n * Dùng hàm này khi TẠO MỚI một element, hoặc khi import.\r\n * Nó đảm bảo element có cấu trúc data responsive.\r\n * Nó KHÔNG scale, chỉ tạo các \"bucket\" rỗng để kế thừa.\r\n */\r\nexport const initializeResponsiveData = (element) => {\r\n    // Lấy data gốc (coi như là desktop)\r\n    const baseSize = element.size?.desktop || element.size || { width: 200, height: 50 };\r\n    const basePosition = element.position?.desktop || element.position || { x: 0, y: 0, z: 1 };\r\n    const baseStyles = element.styles?.desktop || element.styles || {};\r\n    const baseComponentData = element.componentData?.desktop || element.componentData || {};\r\n\r\n    // Nếu element đã có cấu trúc responsive chuẩn rồi thì thôi\r\n    if (element.size?.desktop && element.position?.desktop && element.styles?.desktop) {\r\n        return element;\r\n    }\r\n\r\n    // Tạo cấu trúc mới\r\n    return {\r\n        ...element,\r\n        size: {\r\n            desktop: baseSize,\r\n            tablet: element.size?.tablet || {}, // Để trống, sẽ kế thừa từ desktop\r\n            mobile: element.size?.mobile || {}, // Để trống, sẽ kế thừa\r\n        },\r\n        position: {\r\n            desktop: basePosition,\r\n            tablet: element.position?.tablet || {},\r\n            mobile: element.position?.mobile || {},\r\n        },\r\n        styles: {\r\n            desktop: baseStyles,\r\n            tablet: element.styles?.tablet || {},\r\n            mobile: element.styles?.mobile || {},\r\n        },\r\n        componentData: {\r\n            desktop: baseComponentData,\r\n            tablet: element.componentData?.tablet || {},\r\n            mobile: element.componentData?.mobile || {},\r\n        }\r\n    };\r\n};\r\n\r\n/**\r\n * Hàm này dùng khi load trang LẦN ĐẦU\r\n * Nó sẽ quét qua toàn bộ pageData và đảm bảo\r\n * tất cả elements đều có cấu trúc responsive chuẩn.\r\n */\r\nexport const syncAllElements = (pageData) => {\r\n    if (!pageData || !pageData.elements) return pageData;\r\n    return {\r\n        ...pageData,\r\n        elements: pageData.elements.map(element => {\r\n            const newElement = initializeResponsiveData(element);\r\n            if (newElement.children && newElement.children.length > 0) {\r\n                newElement.children = newElement.children.map(child => initializeResponsiveData(child));\r\n            }\r\n            return newElement;\r\n        })\r\n    };\r\n};\r\n\r\nexport default {\r\n    getResponsiveValues,\r\n    initializeResponsiveData,\r\n    syncAllElements\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}