{"ast":null,"code":"var _s = $RefreshSig$();\n// src/components/CozeChat.js\n\nimport React, { useEffect } from 'react';\n\n// --- VIỆC CẦN LÀM: Dán thông tin của bạn vào đây ---\nconst COZE_BOT_ID = '7564406577911463952';\nconst YOUR_COZE_PAT_TOKEN = 'pat_*****************'; // <-- !!! THAY THẾ TOKEN CỦA BẠN VÀO ĐÂY\n\nconst CozeChat = () => {\n  _s();\n  useEffect(() => {\n    // --- Bước 1: Tạo và tải script SDK của Coze ---\n    const script = document.createElement('script');\n    script.src = \"https://sf-cdn.coze.com/obj/unpkg-va/flow-platform/chat-app-sdk/1.2.0-beta.6/libs/oversea/index.js\";\n    script.async = true;\n\n    // --- Bước 2: Khởi tạo chat widget SAU KHI script đã tải xong ---\n    // 'onload' đảm bảo rằng code `new CozeWebSDK.WebChatClient` chỉ chạy\n    // khi thư viện Coze đã sẵn sàng.\n    script.onload = () => {\n      if (window.CozeWebSDK) {\n        new window.CozeWebSDK.WebChatClient({\n          config: {\n            bot_id: COZE_BOT_ID\n          },\n          componentProps: {\n            title: 'LandingHub Assistant',\n            description: 'Trợ lý AI của bạn'\n          },\n          // Sử dụng token trực tiếp như Coze hướng dẫn\n          auth: {\n            type: 'token',\n            token: YOUR_COZE_PAT_TOKEN\n          }\n        });\n      }\n    };\n\n    // --- Bước 3: Gắn script vào trang để bắt đầu tải ---\n    document.body.appendChild(script);\n\n    // --- Bước 4: Dọn dẹp khi component bị \"unmount\" (chuyển trang khác) ---\n    // Điều này rất quan trọng để tránh lỗi và rò rỉ bộ nhớ trong ứng dụng React\n    return () => {\n      // Xóa script đã thêm\n      if (document.body.contains(script)) {\n        document.body.removeChild(script);\n      }\n      // Xóa widget chat do script tạo ra\n      const chatWidget = document.querySelector('.web-chat-sdk-container');\n      if (chatWidget) {\n        chatWidget.remove();\n      }\n    };\n  }, []); // Mảng rỗng `[]` đảm bảo useEffect chỉ chạy 1 lần duy nhất\n\n  // Component này không cần render ra HTML gì cả, vì Coze sẽ tự chèn khung chat vào trang\n  return null;\n};\n_s(CozeChat, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = CozeChat;\nexport default CozeChat;\nvar _c;\n$RefreshReg$(_c, \"CozeChat\");","map":{"version":3,"names":["React","useEffect","COZE_BOT_ID","YOUR_COZE_PAT_TOKEN","CozeChat","_s","script","document","createElement","src","async","onload","window","CozeWebSDK","WebChatClient","config","bot_id","componentProps","title","description","auth","type","token","body","appendChild","contains","removeChild","chatWidget","querySelector","remove","_c","$RefreshReg$"],"sources":["D:/landing-hub/apps/web/src/components/CozeChat.js"],"sourcesContent":["// src/components/CozeChat.js\r\n\r\nimport React, { useEffect } from 'react';\r\n\r\n// --- VIỆC CẦN LÀM: Dán thông tin của bạn vào đây ---\r\nconst COZE_BOT_ID = '7564406577911463952';\r\nconst YOUR_COZE_PAT_TOKEN = 'pat_*****************'; // <-- !!! THAY THẾ TOKEN CỦA BẠN VÀO ĐÂY\r\n\r\nconst CozeChat = () => {\r\n    useEffect(() => {\r\n        // --- Bước 1: Tạo và tải script SDK của Coze ---\r\n        const script = document.createElement('script');\r\n        script.src = \"https://sf-cdn.coze.com/obj/unpkg-va/flow-platform/chat-app-sdk/1.2.0-beta.6/libs/oversea/index.js\";\r\n        script.async = true;\r\n\r\n        // --- Bước 2: Khởi tạo chat widget SAU KHI script đã tải xong ---\r\n        // 'onload' đảm bảo rằng code `new CozeWebSDK.WebChatClient` chỉ chạy\r\n        // khi thư viện Coze đã sẵn sàng.\r\n        script.onload = () => {\r\n            if (window.CozeWebSDK) {\r\n                new window.CozeWebSDK.WebChatClient({\r\n                    config: {\r\n                        bot_id: COZE_BOT_ID,\r\n                    },\r\n                    componentProps: {\r\n                        title: 'LandingHub Assistant',\r\n                        description: 'Trợ lý AI của bạn',\r\n                    },\r\n                    // Sử dụng token trực tiếp như Coze hướng dẫn\r\n                    auth: {\r\n                        type: 'token',\r\n                        token: YOUR_COZE_PAT_TOKEN,\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        // --- Bước 3: Gắn script vào trang để bắt đầu tải ---\r\n        document.body.appendChild(script);\r\n\r\n        // --- Bước 4: Dọn dẹp khi component bị \"unmount\" (chuyển trang khác) ---\r\n        // Điều này rất quan trọng để tránh lỗi và rò rỉ bộ nhớ trong ứng dụng React\r\n        return () => {\r\n            // Xóa script đã thêm\r\n            if (document.body.contains(script)) {\r\n                document.body.removeChild(script);\r\n            }\r\n            // Xóa widget chat do script tạo ra\r\n            const chatWidget = document.querySelector('.web-chat-sdk-container');\r\n            if (chatWidget) {\r\n                chatWidget.remove();\r\n            }\r\n        };\r\n    }, []); // Mảng rỗng `[]` đảm bảo useEffect chỉ chạy 1 lần duy nhất\r\n\r\n    // Component này không cần render ra HTML gì cả, vì Coze sẽ tự chèn khung chat vào trang\r\n    return null;\r\n};\r\n\r\nexport default CozeChat;"],"mappings":";AAAA;;AAEA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;;AAExC;AACA,MAAMC,WAAW,GAAG,qBAAqB;AACzC,MAAMC,mBAAmB,GAAG,uBAAuB,CAAC,CAAC;;AAErD,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnBJ,SAAS,CAAC,MAAM;IACZ;IACA,MAAMK,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAACG,GAAG,GAAG,oGAAoG;IACjHH,MAAM,CAACI,KAAK,GAAG,IAAI;;IAEnB;IACA;IACA;IACAJ,MAAM,CAACK,MAAM,GAAG,MAAM;MAClB,IAAIC,MAAM,CAACC,UAAU,EAAE;QACnB,IAAID,MAAM,CAACC,UAAU,CAACC,aAAa,CAAC;UAChCC,MAAM,EAAE;YACJC,MAAM,EAAEd;UACZ,CAAC;UACDe,cAAc,EAAE;YACZC,KAAK,EAAE,sBAAsB;YAC7BC,WAAW,EAAE;UACjB,CAAC;UACD;UACAC,IAAI,EAAE;YACFC,IAAI,EAAE,OAAO;YACbC,KAAK,EAAEnB;UACX;QACJ,CAAC,CAAC;MACN;IACJ,CAAC;;IAED;IACAI,QAAQ,CAACgB,IAAI,CAACC,WAAW,CAAClB,MAAM,CAAC;;IAEjC;IACA;IACA,OAAO,MAAM;MACT;MACA,IAAIC,QAAQ,CAACgB,IAAI,CAACE,QAAQ,CAACnB,MAAM,CAAC,EAAE;QAChCC,QAAQ,CAACgB,IAAI,CAACG,WAAW,CAACpB,MAAM,CAAC;MACrC;MACA;MACA,MAAMqB,UAAU,GAAGpB,QAAQ,CAACqB,aAAa,CAAC,yBAAyB,CAAC;MACpE,IAAID,UAAU,EAAE;QACZA,UAAU,CAACE,MAAM,CAAC,CAAC;MACvB;IACJ,CAAC;EACL,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER;EACA,OAAO,IAAI;AACf,CAAC;AAACxB,EAAA,CAjDID,QAAQ;AAAA0B,EAAA,GAAR1B,QAAQ;AAmDd,eAAeA,QAAQ;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}