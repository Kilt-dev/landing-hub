{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\CreateLanding.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useCallback, useEffect, useRef } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Toolbar from './create-page/Toolbar';\nimport ComponentLibrary from './create-page/ComponentLibrary';\nimport Canvas from './create-page/Canvas';\nimport PropertiesPanel from './create-page/PropertiesPanel';\nimport '../styles/CreateLanding.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemTypes = {\n  SECTION: 'section',\n  ELEMENT: 'element',\n  EXISTING_ELEMENT: 'existingElement'\n};\nconst CreateLandingPage = () => {\n  _s();\n  const [pageStructure, setPageStructure] = useState([]);\n  const [selectedElement, setSelectedElement] = useState(null);\n  const [leftSidebarCollapsed, setLeftSidebarCollapsed] = useState(false);\n  const [rightSidebarCollapsed, setRightSidebarCollapsed] = useState(false);\n  const [quickEditElement, setQuickEditElement] = useState(null);\n  const [quickEditPosition, setQuickEditPosition] = useState(null);\n  const [viewMode, setViewMode] = useState('desktop');\n  const [zoomLevel, setZoomLevel] = useState(100);\n  const [history, setHistory] = useState([[]]);\n  const [historyIndex, setHistoryIndex] = useState(0);\n  const [copiedElement, setCopiedElement] = useState(null);\n  const fileInputRef = useRef(null);\n  const canvasRef = useRef(null);\n  const memoizedPageStructure = useMemo(() => pageStructure, [pageStructure]);\n  const updatePosition = useCallback((elementId, sectionId, newPosition) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const rect = canvas.getBoundingClientRect();\n    const scrollX = canvas.scrollLeft;\n    const scrollY = canvas.scrollTop;\n    const adjustedX = (newPosition.x - rect.left + scrollX) / (zoomLevel / 100);\n    const adjustedY = (newPosition.y - rect.top + scrollY) / (zoomLevel / 100);\n    setPageStructure(prev => {\n      const newStructure = prev.map(section => {\n        if (section.id === sectionId) {\n          return {\n            ...section,\n            elements: section.elements.map(el => el.id === elementId ? {\n              ...el,\n              json: {\n                ...el.json,\n                styles: {\n                  ...el.json.styles,\n                  position: {\n                    x: Math.round(adjustedX),\n                    y: Math.round(adjustedY)\n                  }\n                }\n              }\n            } : el)\n          };\n        }\n        return section;\n      });\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    toast.success('Đã cập nhật vị trí phần tử!');\n  }, [zoomLevel]);\n  const addSection = useCallback((sectionData, index) => {\n    const newSection = {\n      ...sectionData,\n      id: `${sectionData.id}-${Date.now()}`,\n      elements: [],\n      json: {\n        ...sectionData.json,\n        styles: {\n          ...sectionData.json.styles,\n          width: '1200px',\n          height: 'auto'\n        }\n      }\n    };\n    setPageStructure(prev => {\n      const newStructure = [...prev];\n      newStructure.splice(index, 0, newSection);\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    toast.success('Đã thêm section!');\n  }, []);\n  const addElementToSection = useCallback((sectionId, elementData, index) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const rect = canvas.getBoundingClientRect();\n    const adjustedX = (50 - rect.left) / (zoomLevel / 100);\n    const adjustedY = (index * 100 + 50 - rect.top) / (zoomLevel / 100);\n    const newElement = {\n      ...elementData,\n      id: `${elementData.id}-${Date.now()}`,\n      json: {\n        ...elementData.json,\n        styles: {\n          ...elementData.json.styles,\n          position: {\n            x: Math.round(adjustedX),\n            y: Math.round(adjustedY)\n          },\n          width: elementData.json.styles.width || 'auto',\n          height: elementData.json.styles.height || 'auto'\n        }\n      }\n    };\n    setPageStructure(prev => {\n      const newStructure = prev.map(section => section.id === sectionId ? {\n        ...section,\n        elements: [...section.elements.slice(0, index), newElement, ...section.elements.slice(index)]\n      } : section);\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    toast.success('Đã thêm phần tử vào section!');\n  }, [zoomLevel]);\n  const moveElement = useCallback((sectionId, elementId, newIndex) => {\n    setPageStructure(prev => {\n      const newStructure = prev.map(section => {\n        if (section.id === sectionId) {\n          const currentIndex = section.elements.findIndex(el => el.id === elementId);\n          if (currentIndex === -1 || currentIndex === newIndex) return section;\n          const newElements = [...section.elements];\n          const [movedElement] = newElements.splice(currentIndex, 1);\n          newElements.splice(newIndex, 0, {\n            ...movedElement,\n            json: {\n              ...movedElement.json,\n              styles: {\n                ...movedElement.json.styles,\n                position: {\n                  x: movedElement.json.styles.position.x,\n                  y: newIndex * 100 + 50\n                }\n              }\n            }\n          });\n          return {\n            ...section,\n            elements: newElements\n          };\n        }\n        return section;\n      });\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    toast.info('Đã di chuyển phần tử!');\n  }, []);\n  const updateElement = useCallback((elementId, sectionId, updates) => {\n    setPageStructure(prev => {\n      const newStructure = prev.map(section => {\n        if (section.id === sectionId) {\n          return {\n            ...section,\n            elements: section.elements.map(el => el.id === elementId ? {\n              ...el,\n              json: {\n                ...el.json,\n                ...updates\n              }\n            } : el)\n          };\n        }\n        return section;\n      });\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    toast.success('Đã cập nhật phần tử!');\n  }, []);\n  const handleInlineEdit = useCallback((elementId, sectionId, newContent) => {\n    setPageStructure(prev => {\n      const newStructure = prev.map(section => {\n        if (section.id === sectionId) {\n          return {\n            ...section,\n            elements: section.elements.map(el => el.id === elementId ? {\n              ...el,\n              json: {\n                ...el.json,\n                content: newContent\n              }\n            } : el)\n          };\n        }\n        return section;\n      });\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    toast.success('Đã cập nhật nội dung!');\n  }, []);\n  const handleCopyElement = useCallback(element => {\n    if (!element) return;\n    setCopiedElement({\n      ...element,\n      id: `${element.id}-copy-${Date.now()}`\n    });\n    toast.success('Đã sao chép phần tử!');\n  }, []);\n  const handlePasteElement = useCallback((sectionId, index) => {\n    var _copiedElement$json$s, _copiedElement$json$s2;\n    if (!copiedElement) {\n      toast.error('Không có phần tử nào được sao chép!');\n      return;\n    }\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const rect = canvas.getBoundingClientRect();\n    const adjustedX = ((((_copiedElement$json$s = copiedElement.json.styles.position) === null || _copiedElement$json$s === void 0 ? void 0 : _copiedElement$json$s.x) || 0) + 10 - rect.left) / (zoomLevel / 100);\n    const adjustedY = ((((_copiedElement$json$s2 = copiedElement.json.styles.position) === null || _copiedElement$json$s2 === void 0 ? void 0 : _copiedElement$json$s2.y) || 0) + 10 - rect.top) / (zoomLevel / 100);\n    setPageStructure(prev => {\n      const newStructure = prev.map(section => section.id === sectionId ? {\n        ...section,\n        elements: [...section.elements.slice(0, index), {\n          ...copiedElement,\n          id: `${copiedElement.id}-paste-${Date.now()}`,\n          json: {\n            ...copiedElement.json,\n            styles: {\n              ...copiedElement.json.styles,\n              position: {\n                x: Math.round(adjustedX),\n                y: Math.round(adjustedY)\n              }\n            }\n          }\n        }, ...section.elements.slice(index)]\n      } : section);\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    toast.success('Đã dán phần tử!');\n  }, [copiedElement, zoomLevel]);\n  const handleExportPage = useCallback(() => {\n    const exportData = {\n      pageStructure,\n      viewMode,\n      zoomLevel,\n      exportedAt: new Date().toISOString()\n    };\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `landing-page-${Date.now()}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n    toast.success('Đã xuất trang thành công!');\n  }, [pageStructure, viewMode, zoomLevel]);\n  const handleImportPage = useCallback(event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      try {\n        const data = JSON.parse(e.target.result);\n        setPageStructure(data.pageStructure || []);\n        setViewMode(data.viewMode || 'desktop');\n        setZoomLevel(data.zoomLevel || 100);\n        updateHistory(data.pageStructure || []);\n        toast.success('Đã nhập trang thành công!');\n      } catch (error) {\n        toast.error('Lỗi khi nhập trang: ' + error.message);\n      }\n    };\n    reader.readAsText(file);\n    event.target.value = null;\n  }, []);\n  const undo = useCallback(() => {\n    if (historyIndex > 0) {\n      setHistoryIndex(prev => prev - 1);\n      setPageStructure([...history[historyIndex - 1]]);\n      toast.info('Đã hoàn tác!');\n    }\n  }, [history, historyIndex]);\n  const redo = useCallback(() => {\n    if (historyIndex < history.length - 1) {\n      setHistoryIndex(prev => prev + 1);\n      setPageStructure([...history[historyIndex + 1]]);\n      toast.info('Đã khôi phục!');\n    }\n  }, [history, historyIndex]);\n  const handleSelectElement = useCallback(element => {\n    setSelectedElement(element);\n    setQuickEditElement(null);\n    setQuickEditPosition(null);\n  }, []);\n  const handleQuickEdit = useCallback((element, position) => {\n    setQuickEditElement(element);\n    setQuickEditPosition(position);\n  }, []);\n  const handleCloseQuickEdit = useCallback(() => {\n    setQuickEditElement(null);\n    setQuickEditPosition(null);\n  }, []);\n  const handleDuplicateElement = useCallback(element => {\n    var _element$json$styles$, _element$json$styles$2;\n    if (!element) return;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const rect = canvas.getBoundingClientRect();\n    const adjustedX = ((((_element$json$styles$ = element.json.styles.position) === null || _element$json$styles$ === void 0 ? void 0 : _element$json$styles$.x) || 0) + 10 - rect.left) / (zoomLevel / 100);\n    const adjustedY = ((((_element$json$styles$2 = element.json.styles.position) === null || _element$json$styles$2 === void 0 ? void 0 : _element$json$styles$2.y) || 0) + 10 - rect.top) / (zoomLevel / 100);\n    const duplicated = {\n      ...element,\n      id: `${element.id}-copy-${Date.now()}`,\n      json: {\n        ...element.json,\n        styles: {\n          ...element.json.styles,\n          position: {\n            x: Math.round(adjustedX),\n            y: Math.round(adjustedY)\n          }\n        }\n      }\n    };\n    setPageStructure(prev => {\n      const newStructure = prev.map(section => {\n        if (section.elements.some(el => el.id === element.id)) {\n          const index = section.elements.findIndex(el => el.id === element.id);\n          return {\n            ...section,\n            elements: [...section.elements.slice(0, index + 1), duplicated, ...section.elements.slice(index + 1)]\n          };\n        }\n        return section;\n      });\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    toast.success('Đã sao chép phần tử!');\n  }, [zoomLevel]);\n  const handleDeleteElement = useCallback(element => {\n    if (!element) return;\n    setPageStructure(prev => {\n      const newStructure = prev.map(section => section.id === (element.id.split('-')[0] === 'section' ? element.id : element.sectionId) ? {\n        ...section,\n        elements: section.elements.filter(el => el.id !== element.id)\n      } : section).filter(section => section.elements.length > 0 || section.id === element.id);\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    if ((selectedElement === null || selectedElement === void 0 ? void 0 : selectedElement.id) === element.id) {\n      setSelectedElement(null);\n    }\n    setQuickEditElement(null);\n    setQuickEditPosition(null);\n    toast.success('Đã xóa phần tử!');\n  }, [selectedElement]);\n  const handleMoveElement = useCallback((element, direction) => {\n    if (!element) return;\n    setPageStructure(prev => {\n      const newStructure = prev.map(section => {\n        if (section.elements.some(el => el.id === element.id)) {\n          const currentIndex = section.elements.findIndex(el => el.id === element.id);\n          if (currentIndex === -1) return section;\n          const newIndex = direction === 'up' ? Math.max(0, currentIndex - 1) : Math.min(section.elements.length - 1, currentIndex + 1);\n          if (newIndex === currentIndex) return section;\n          const newElements = [...section.elements];\n          const [movedElement] = newElements.splice(currentIndex, 1);\n          newElements.splice(newIndex, 0, {\n            ...movedElement,\n            json: {\n              ...movedElement.json,\n              styles: {\n                ...movedElement.json.styles,\n                position: {\n                  x: movedElement.json.styles.position.x,\n                  y: newIndex * 100 + 50\n                }\n              }\n            }\n          });\n          return {\n            ...section,\n            elements: newElements\n          };\n        }\n        return section;\n      });\n      updateHistory(newStructure);\n      return newStructure;\n    });\n    toast.info('Đã di chuyển phần tử!');\n  }, []);\n  const updateHistory = useCallback(newStructure => {\n    setHistory(prevHist => [...prevHist.slice(0, historyIndex + 1), newStructure]);\n    setHistoryIndex(prev => prev + 1);\n  }, [historyIndex]);\n  useHotkeys('ctrl+z', undo, [undo], {\n    preventDefault: true\n  });\n  useHotkeys('ctrl+y', redo, [redo], {\n    preventDefault: true\n  });\n  useHotkeys('ctrl+c', () => selectedElement && handleCopyElement(selectedElement), [selectedElement, handleCopyElement], {\n    preventDefault: true\n  });\n  useHotkeys('ctrl+v', () => selectedElement && handlePasteElement(selectedElement.sectionId, selectedElement.index + 1), [selectedElement, handlePasteElement], {\n    preventDefault: true\n  });\n  useHotkeys('delete', () => selectedElement && handleDeleteElement(selectedElement), [selectedElement, handleDeleteElement], {\n    preventDefault: true\n  });\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.key === 'Escape') {\n        setSelectedElement(null);\n        setQuickEditElement(null);\n        setQuickEditPosition(null);\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DndProvider, {\n    backend: HTML5Backend,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lpb-container\",\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n        viewMode: viewMode,\n        setViewMode: setViewMode,\n        zoomLevel: zoomLevel,\n        setZoomLevel: setZoomLevel,\n        onExport: handleExportPage,\n        onImport: () => fileInputRef.current.click(),\n        fileInputRef: fileInputRef,\n        onImportPage: handleImportPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lpb-main-content\",\n        children: [/*#__PURE__*/_jsxDEV(ComponentLibrary, {\n          collapsed: leftSidebarCollapsed,\n          onToggleCollapse: () => setLeftSidebarCollapsed(!leftSidebarCollapsed),\n          onDragEnd: () => setLeftSidebarCollapsed(true),\n          addSection: addSection,\n          addElement: addElementToSection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lpb-canvas-wrapper\",\n          ref: canvasRef,\n          children: /*#__PURE__*/_jsxDEV(Canvas, {\n            pageStructure: memoizedPageStructure,\n            selectedElement: selectedElement,\n            onSelectElement: handleSelectElement,\n            quickEditElement: quickEditElement,\n            quickEditPosition: quickEditPosition,\n            onQuickEdit: handleQuickEdit,\n            onCloseQuickEdit: handleCloseQuickEdit,\n            onDuplicateElement: handleDuplicateElement,\n            onDeleteElement: handleDeleteElement,\n            onMoveElement: handleMoveElement,\n            viewMode: viewMode,\n            addSection: addSection,\n            addElement: addElementToSection,\n            moveElement: moveElement,\n            ItemTypes: ItemTypes,\n            zoomLevel: zoomLevel,\n            setPageStructure: setPageStructure,\n            updatePosition: updatePosition,\n            onInlineEdit: handleInlineEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(PropertiesPanel, {\n          collapsed: rightSidebarCollapsed,\n          onToggleCollapse: () => setRightSidebarCollapsed(!rightSidebarCollapsed),\n          selectedElement: selectedElement,\n          onUpdateElement: updateElement,\n          onDeleteElement: handleDeleteElement,\n          onDuplicateElement: handleDuplicateElement,\n          onMoveElement: handleMoveElement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        ref: fileInputRef,\n        style: {\n          display: 'none'\n        },\n        accept: \".json\",\n        onChange: handleImportPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n        position: \"top-right\",\n        autoClose: 3000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 459,\n    columnNumber: 9\n  }, this);\n};\n_s(CreateLandingPage, \"ZoKljHuCOH+FKP6l/J4pZawQH/g=\", false, function () {\n  return [useHotkeys, useHotkeys, useHotkeys, useHotkeys, useHotkeys];\n});\n_c = CreateLandingPage;\nexport default CreateLandingPage;\nvar _c;\n$RefreshReg$(_c, \"CreateLandingPage\");","map":{"version":3,"names":["React","useState","useMemo","useCallback","useEffect","useRef","DndProvider","HTML5Backend","useHotkeys","ToastContainer","toast","Toolbar","ComponentLibrary","Canvas","PropertiesPanel","jsxDEV","_jsxDEV","ItemTypes","SECTION","ELEMENT","EXISTING_ELEMENT","CreateLandingPage","_s","pageStructure","setPageStructure","selectedElement","setSelectedElement","leftSidebarCollapsed","setLeftSidebarCollapsed","rightSidebarCollapsed","setRightSidebarCollapsed","quickEditElement","setQuickEditElement","quickEditPosition","setQuickEditPosition","viewMode","setViewMode","zoomLevel","setZoomLevel","history","setHistory","historyIndex","setHistoryIndex","copiedElement","setCopiedElement","fileInputRef","canvasRef","memoizedPageStructure","updatePosition","elementId","sectionId","newPosition","canvas","current","rect","getBoundingClientRect","scrollX","scrollLeft","scrollY","scrollTop","adjustedX","x","left","adjustedY","y","top","prev","newStructure","map","section","id","elements","el","json","styles","position","Math","round","updateHistory","success","addSection","sectionData","index","newSection","Date","now","width","height","splice","addElementToSection","elementData","newElement","slice","moveElement","newIndex","currentIndex","findIndex","newElements","movedElement","info","updateElement","updates","handleInlineEdit","newContent","content","handleCopyElement","element","handlePasteElement","_copiedElement$json$s","_copiedElement$json$s2","error","handleExportPage","exportData","exportedAt","toISOString","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","handleImportPage","event","file","target","files","reader","FileReader","onload","e","data","parse","result","message","readAsText","value","undo","redo","length","handleSelectElement","handleQuickEdit","handleCloseQuickEdit","handleDuplicateElement","_element$json$styles$","_element$json$styles$2","duplicated","some","handleDeleteElement","split","filter","handleMoveElement","direction","max","min","prevHist","preventDefault","handleKeyDown","key","window","addEventListener","removeEventListener","backend","children","className","onExport","onImport","onImportPage","fileName","_jsxFileName","lineNumber","columnNumber","collapsed","onToggleCollapse","onDragEnd","addElement","ref","onSelectElement","onQuickEdit","onCloseQuickEdit","onDuplicateElement","onDeleteElement","onMoveElement","onInlineEdit","onUpdateElement","style","display","accept","onChange","autoClose","_c","$RefreshReg$"],"sources":["F:/landinghub-iconic/apps/web/src/components/CreateLanding.js"],"sourcesContent":["import React, { useState, useMemo, useCallback, useEffect, useRef } from 'react';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport { useHotkeys } from 'react-hotkeys-hook';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Toolbar from './create-page/Toolbar';\r\nimport ComponentLibrary from './create-page/ComponentLibrary';\r\nimport Canvas from './create-page/Canvas';\r\nimport PropertiesPanel from './create-page/PropertiesPanel';\r\nimport '../styles/CreateLanding.css';\r\n\r\nconst ItemTypes = {\r\n    SECTION: 'section',\r\n    ELEMENT: 'element',\r\n    EXISTING_ELEMENT: 'existingElement',\r\n};\r\n\r\nconst CreateLandingPage = () => {\r\n    const [pageStructure, setPageStructure] = useState([]);\r\n    const [selectedElement, setSelectedElement] = useState(null);\r\n    const [leftSidebarCollapsed, setLeftSidebarCollapsed] = useState(false);\r\n    const [rightSidebarCollapsed, setRightSidebarCollapsed] = useState(false);\r\n    const [quickEditElement, setQuickEditElement] = useState(null);\r\n    const [quickEditPosition, setQuickEditPosition] = useState(null);\r\n    const [viewMode, setViewMode] = useState('desktop');\r\n    const [zoomLevel, setZoomLevel] = useState(100);\r\n    const [history, setHistory] = useState([[]]);\r\n    const [historyIndex, setHistoryIndex] = useState(0);\r\n    const [copiedElement, setCopiedElement] = useState(null);\r\n    const fileInputRef = useRef(null);\r\n    const canvasRef = useRef(null);\r\n\r\n    const memoizedPageStructure = useMemo(() => pageStructure, [pageStructure]);\r\n\r\n    const updatePosition = useCallback((elementId, sectionId, newPosition) => {\r\n        const canvas = canvasRef.current;\r\n        if (!canvas) return;\r\n\r\n        const rect = canvas.getBoundingClientRect();\r\n        const scrollX = canvas.scrollLeft;\r\n        const scrollY = canvas.scrollTop;\r\n        const adjustedX = (newPosition.x - rect.left + scrollX) / (zoomLevel / 100);\r\n        const adjustedY = (newPosition.y - rect.top + scrollY) / (zoomLevel / 100);\r\n\r\n        setPageStructure((prev) => {\r\n            const newStructure = prev.map((section) => {\r\n                if (section.id === sectionId) {\r\n                    return {\r\n                        ...section,\r\n                        elements: section.elements.map((el) =>\r\n                            el.id === elementId\r\n                                ? {\r\n                                    ...el,\r\n                                    json: {\r\n                                        ...el.json,\r\n                                        styles: {\r\n                                            ...el.json.styles,\r\n                                            position: {\r\n                                                x: Math.round(adjustedX),\r\n                                                y: Math.round(adjustedY),\r\n                                            },\r\n                                        },\r\n                                    },\r\n                                }\r\n                                : el\r\n                        ),\r\n                    };\r\n                }\r\n                return section;\r\n            });\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        toast.success('Đã cập nhật vị trí phần tử!');\r\n    }, [zoomLevel]);\r\n\r\n    const addSection = useCallback((sectionData, index) => {\r\n        const newSection = {\r\n            ...sectionData,\r\n            id: `${sectionData.id}-${Date.now()}`,\r\n            elements: [],\r\n            json: {\r\n                ...sectionData.json,\r\n                styles: {\r\n                    ...sectionData.json.styles,\r\n                    width: '1200px',\r\n                    height: 'auto',\r\n                },\r\n            },\r\n        };\r\n        setPageStructure((prev) => {\r\n            const newStructure = [...prev];\r\n            newStructure.splice(index, 0, newSection);\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        toast.success('Đã thêm section!');\r\n    }, []);\r\n\r\n    const addElementToSection = useCallback((sectionId, elementData, index) => {\r\n        const canvas = canvasRef.current;\r\n        if (!canvas) return;\r\n\r\n        const rect = canvas.getBoundingClientRect();\r\n        const adjustedX = (50 - rect.left) / (zoomLevel / 100);\r\n        const adjustedY = (index * 100 + 50 - rect.top) / (zoomLevel / 100);\r\n\r\n        const newElement = {\r\n            ...elementData,\r\n            id: `${elementData.id}-${Date.now()}`,\r\n            json: {\r\n                ...elementData.json,\r\n                styles: {\r\n                    ...elementData.json.styles,\r\n                    position: { x: Math.round(adjustedX), y: Math.round(adjustedY) },\r\n                    width: elementData.json.styles.width || 'auto',\r\n                    height: elementData.json.styles.height || 'auto',\r\n                },\r\n            },\r\n        };\r\n        setPageStructure((prev) => {\r\n            const newStructure = prev.map((section) =>\r\n                section.id === sectionId\r\n                    ? {\r\n                        ...section,\r\n                        elements: [...section.elements.slice(0, index), newElement, ...section.elements.slice(index)],\r\n                    }\r\n                    : section\r\n            );\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        toast.success('Đã thêm phần tử vào section!');\r\n    }, [zoomLevel]);\r\n\r\n    const moveElement = useCallback((sectionId, elementId, newIndex) => {\r\n        setPageStructure((prev) => {\r\n            const newStructure = prev.map((section) => {\r\n                if (section.id === sectionId) {\r\n                    const currentIndex = section.elements.findIndex((el) => el.id === elementId);\r\n                    if (currentIndex === -1 || currentIndex === newIndex) return section;\r\n                    const newElements = [...section.elements];\r\n                    const [movedElement] = newElements.splice(currentIndex, 1);\r\n                    newElements.splice(newIndex, 0, {\r\n                        ...movedElement,\r\n                        json: {\r\n                            ...movedElement.json,\r\n                            styles: {\r\n                                ...movedElement.json.styles,\r\n                                position: {\r\n                                    x: movedElement.json.styles.position.x,\r\n                                    y: newIndex * 100 + 50,\r\n                                },\r\n                            },\r\n                        },\r\n                    });\r\n                    return { ...section, elements: newElements };\r\n                }\r\n                return section;\r\n            });\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        toast.info('Đã di chuyển phần tử!');\r\n    }, []);\r\n\r\n    const updateElement = useCallback((elementId, sectionId, updates) => {\r\n        setPageStructure((prev) => {\r\n            const newStructure = prev.map((section) => {\r\n                if (section.id === sectionId) {\r\n                    return {\r\n                        ...section,\r\n                        elements: section.elements.map((el) =>\r\n                            el.id === elementId\r\n                                ? {\r\n                                    ...el,\r\n                                    json: {\r\n                                        ...el.json,\r\n                                        ...updates,\r\n                                    },\r\n                                }\r\n                                : el\r\n                        ),\r\n                    };\r\n                }\r\n                return section;\r\n            });\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        toast.success('Đã cập nhật phần tử!');\r\n    }, []);\r\n\r\n    const handleInlineEdit = useCallback((elementId, sectionId, newContent) => {\r\n        setPageStructure((prev) => {\r\n            const newStructure = prev.map((section) => {\r\n                if (section.id === sectionId) {\r\n                    return {\r\n                        ...section,\r\n                        elements: section.elements.map((el) =>\r\n                            el.id === elementId\r\n                                ? {\r\n                                    ...el,\r\n                                    json: {\r\n                                        ...el.json,\r\n                                        content: newContent,\r\n                                    },\r\n                                }\r\n                                : el\r\n                        ),\r\n                    };\r\n                }\r\n                return section;\r\n            });\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        toast.success('Đã cập nhật nội dung!');\r\n    }, []);\r\n\r\n    const handleCopyElement = useCallback((element) => {\r\n        if (!element) return;\r\n        setCopiedElement({ ...element, id: `${element.id}-copy-${Date.now()}` });\r\n        toast.success('Đã sao chép phần tử!');\r\n    }, []);\r\n\r\n    const handlePasteElement = useCallback((sectionId, index) => {\r\n        if (!copiedElement) {\r\n            toast.error('Không có phần tử nào được sao chép!');\r\n            return;\r\n        }\r\n        const canvas = canvasRef.current;\r\n        if (!canvas) return;\r\n\r\n        const rect = canvas.getBoundingClientRect();\r\n        const adjustedX = ((copiedElement.json.styles.position?.x || 0) + 10 - rect.left) / (zoomLevel / 100);\r\n        const adjustedY = ((copiedElement.json.styles.position?.y || 0) + 10 - rect.top) / (zoomLevel / 100);\r\n\r\n        setPageStructure((prev) => {\r\n            const newStructure = prev.map((section) =>\r\n                section.id === sectionId\r\n                    ? {\r\n                        ...section,\r\n                        elements: [\r\n                            ...section.elements.slice(0, index),\r\n                            {\r\n                                ...copiedElement,\r\n                                id: `${copiedElement.id}-paste-${Date.now()}`,\r\n                                json: {\r\n                                    ...copiedElement.json,\r\n                                    styles: {\r\n                                        ...copiedElement.json.styles,\r\n                                        position: {\r\n                                            x: Math.round(adjustedX),\r\n                                            y: Math.round(adjustedY),\r\n                                        },\r\n                                    },\r\n                                },\r\n                            },\r\n                            ...section.elements.slice(index),\r\n                        ],\r\n                    }\r\n                    : section\r\n            );\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        toast.success('Đã dán phần tử!');\r\n    }, [copiedElement, zoomLevel]);\r\n\r\n    const handleExportPage = useCallback(() => {\r\n        const exportData = {\r\n            pageStructure,\r\n            viewMode,\r\n            zoomLevel,\r\n            exportedAt: new Date().toISOString(),\r\n        };\r\n        const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\r\n        const url = URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `landing-page-${Date.now()}.json`;\r\n        a.click();\r\n        URL.revokeObjectURL(url);\r\n        toast.success('Đã xuất trang thành công!');\r\n    }, [pageStructure, viewMode, zoomLevel]);\r\n\r\n    const handleImportPage = useCallback((event) => {\r\n        const file = event.target.files[0];\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            try {\r\n                const data = JSON.parse(e.target.result);\r\n                setPageStructure(data.pageStructure || []);\r\n                setViewMode(data.viewMode || 'desktop');\r\n                setZoomLevel(data.zoomLevel || 100);\r\n                updateHistory(data.pageStructure || []);\r\n                toast.success('Đã nhập trang thành công!');\r\n            } catch (error) {\r\n                toast.error('Lỗi khi nhập trang: ' + error.message);\r\n            }\r\n        };\r\n        reader.readAsText(file);\r\n        event.target.value = null;\r\n    }, []);\r\n\r\n    const undo = useCallback(() => {\r\n        if (historyIndex > 0) {\r\n            setHistoryIndex((prev) => prev - 1);\r\n            setPageStructure([...history[historyIndex - 1]]);\r\n            toast.info('Đã hoàn tác!');\r\n        }\r\n    }, [history, historyIndex]);\r\n\r\n    const redo = useCallback(() => {\r\n        if (historyIndex < history.length - 1) {\r\n            setHistoryIndex((prev) => prev + 1);\r\n            setPageStructure([...history[historyIndex + 1]]);\r\n            toast.info('Đã khôi phục!');\r\n        }\r\n    }, [history, historyIndex]);\r\n\r\n    const handleSelectElement = useCallback((element) => {\r\n        setSelectedElement(element);\r\n        setQuickEditElement(null);\r\n        setQuickEditPosition(null);\r\n    }, []);\r\n\r\n    const handleQuickEdit = useCallback((element, position) => {\r\n        setQuickEditElement(element);\r\n        setQuickEditPosition(position);\r\n    }, []);\r\n\r\n    const handleCloseQuickEdit = useCallback(() => {\r\n        setQuickEditElement(null);\r\n        setQuickEditPosition(null);\r\n    }, []);\r\n\r\n    const handleDuplicateElement = useCallback((element) => {\r\n        if (!element) return;\r\n        const canvas = canvasRef.current;\r\n        if (!canvas) return;\r\n\r\n        const rect = canvas.getBoundingClientRect();\r\n        const adjustedX = ((element.json.styles.position?.x || 0) + 10 - rect.left) / (zoomLevel / 100);\r\n        const adjustedY = ((element.json.styles.position?.y || 0) + 10 - rect.top) / (zoomLevel / 100);\r\n\r\n        const duplicated = {\r\n            ...element,\r\n            id: `${element.id}-copy-${Date.now()}`,\r\n            json: {\r\n                ...element.json,\r\n                styles: {\r\n                    ...element.json.styles,\r\n                    position: {\r\n                        x: Math.round(adjustedX),\r\n                        y: Math.round(adjustedY),\r\n                    },\r\n                },\r\n            },\r\n        };\r\n        setPageStructure((prev) => {\r\n            const newStructure = prev.map((section) => {\r\n                if (section.elements.some((el) => el.id === element.id)) {\r\n                    const index = section.elements.findIndex((el) => el.id === element.id);\r\n                    return {\r\n                        ...section,\r\n                        elements: [...section.elements.slice(0, index + 1), duplicated, ...section.elements.slice(index + 1)],\r\n                    };\r\n                }\r\n                return section;\r\n            });\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        toast.success('Đã sao chép phần tử!');\r\n    }, [zoomLevel]);\r\n\r\n    const handleDeleteElement = useCallback((element) => {\r\n        if (!element) return;\r\n        setPageStructure((prev) => {\r\n            const newStructure = prev.map((section) =>\r\n                section.id === (element.id.split('-')[0] === 'section' ? element.id : element.sectionId)\r\n                    ? {\r\n                        ...section,\r\n                        elements: section.elements.filter((el) => el.id !== element.id),\r\n                    }\r\n                    : section\r\n            ).filter((section) => section.elements.length > 0 || section.id === element.id);\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        if (selectedElement?.id === element.id) {\r\n            setSelectedElement(null);\r\n        }\r\n        setQuickEditElement(null);\r\n        setQuickEditPosition(null);\r\n        toast.success('Đã xóa phần tử!');\r\n    }, [selectedElement]);\r\n\r\n    const handleMoveElement = useCallback((element, direction) => {\r\n        if (!element) return;\r\n        setPageStructure((prev) => {\r\n            const newStructure = prev.map((section) => {\r\n                if (section.elements.some((el) => el.id === element.id)) {\r\n                    const currentIndex = section.elements.findIndex((el) => el.id === element.id);\r\n                    if (currentIndex === -1) return section;\r\n                    const newIndex =\r\n                        direction === 'up' ? Math.max(0, currentIndex - 1) : Math.min(section.elements.length - 1, currentIndex + 1);\r\n                    if (newIndex === currentIndex) return section;\r\n                    const newElements = [...section.elements];\r\n                    const [movedElement] = newElements.splice(currentIndex, 1);\r\n                    newElements.splice(newIndex, 0, {\r\n                        ...movedElement,\r\n                        json: {\r\n                            ...movedElement.json,\r\n                            styles: {\r\n                                ...movedElement.json.styles,\r\n                                position: { x: movedElement.json.styles.position.x, y: newIndex * 100 + 50 },\r\n                            },\r\n                        },\r\n                    });\r\n                    return { ...section, elements: newElements };\r\n                }\r\n                return section;\r\n            });\r\n            updateHistory(newStructure);\r\n            return newStructure;\r\n        });\r\n        toast.info('Đã di chuyển phần tử!');\r\n    }, []);\r\n\r\n    const updateHistory = useCallback((newStructure) => {\r\n        setHistory((prevHist) => [...prevHist.slice(0, historyIndex + 1), newStructure]);\r\n        setHistoryIndex((prev) => prev + 1);\r\n    }, [historyIndex]);\r\n\r\n    useHotkeys('ctrl+z', undo, [undo], { preventDefault: true });\r\n    useHotkeys('ctrl+y', redo, [redo], { preventDefault: true });\r\n    useHotkeys('ctrl+c', () => selectedElement && handleCopyElement(selectedElement), [selectedElement, handleCopyElement], { preventDefault: true });\r\n    useHotkeys('ctrl+v', () => selectedElement && handlePasteElement(selectedElement.sectionId, selectedElement.index + 1), [selectedElement, handlePasteElement], { preventDefault: true });\r\n    useHotkeys('delete', () => selectedElement && handleDeleteElement(selectedElement), [selectedElement, handleDeleteElement], { preventDefault: true });\r\n\r\n    useEffect(() => {\r\n        const handleKeyDown = (e) => {\r\n            if (e.key === 'Escape') {\r\n                setSelectedElement(null);\r\n                setQuickEditElement(null);\r\n                setQuickEditPosition(null);\r\n            }\r\n        };\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, []);\r\n\r\n    return (\r\n        <DndProvider backend={HTML5Backend}>\r\n            <div className=\"lpb-container\">\r\n                <Toolbar\r\n                    viewMode={viewMode}\r\n                    setViewMode={setViewMode}\r\n                    zoomLevel={zoomLevel}\r\n                    setZoomLevel={setZoomLevel}\r\n                    onExport={handleExportPage}\r\n                    onImport={() => fileInputRef.current.click()}\r\n                    fileInputRef={fileInputRef}\r\n                    onImportPage={handleImportPage}\r\n                />\r\n                <div className=\"lpb-main-content\">\r\n                    <ComponentLibrary\r\n                        collapsed={leftSidebarCollapsed}\r\n                        onToggleCollapse={() => setLeftSidebarCollapsed(!leftSidebarCollapsed)}\r\n                        onDragEnd={() => setLeftSidebarCollapsed(true)}\r\n                        addSection={addSection}\r\n                        addElement={addElementToSection}\r\n                    />\r\n                    <div className=\"lpb-canvas-wrapper\" ref={canvasRef}>\r\n                        <Canvas\r\n                            pageStructure={memoizedPageStructure}\r\n                            selectedElement={selectedElement}\r\n                            onSelectElement={handleSelectElement}\r\n                            quickEditElement={quickEditElement}\r\n                            quickEditPosition={quickEditPosition}\r\n                            onQuickEdit={handleQuickEdit}\r\n                            onCloseQuickEdit={handleCloseQuickEdit}\r\n                            onDuplicateElement={handleDuplicateElement}\r\n                            onDeleteElement={handleDeleteElement}\r\n                            onMoveElement={handleMoveElement}\r\n                            viewMode={viewMode}\r\n                            addSection={addSection}\r\n                            addElement={addElementToSection}\r\n                            moveElement={moveElement}\r\n                            ItemTypes={ItemTypes}\r\n                            zoomLevel={zoomLevel}\r\n                            setPageStructure={setPageStructure}\r\n                            updatePosition={updatePosition}\r\n                            onInlineEdit={handleInlineEdit}\r\n                        />\r\n                    </div>\r\n                    <PropertiesPanel\r\n                        collapsed={rightSidebarCollapsed}\r\n                        onToggleCollapse={() => setRightSidebarCollapsed(!rightSidebarCollapsed)}\r\n                        selectedElement={selectedElement}\r\n                        onUpdateElement={updateElement}\r\n                        onDeleteElement={handleDeleteElement}\r\n                        onDuplicateElement={handleDuplicateElement}\r\n                        onMoveElement={handleMoveElement}\r\n                    />\r\n                </div>\r\n                <input\r\n                    type=\"file\"\r\n                    ref={fileInputRef}\r\n                    style={{ display: 'none' }}\r\n                    accept=\".json\"\r\n                    onChange={handleImportPage}\r\n                />\r\n                <ToastContainer position=\"top-right\" autoClose={3000} />\r\n            </div>\r\n        </DndProvider>\r\n    );\r\n};\r\n\r\nexport default CreateLandingPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}